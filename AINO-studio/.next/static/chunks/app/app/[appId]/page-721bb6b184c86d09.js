(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2861],{5944:(e,l,a)=>{"use strict";a.d(l,{G:()=>o});var i=a(74364),t=a(10640),s=a(5660),n=a(6651),r=a(46638),d=a(25664),c=a(73475);function o(e){let{value:l="",onChange:a,multiple:o=!1,defaultImage:u="",disabled:v=!1,size:b="md"}=e,{locale:m}=(0,c.Y)(),h=o?Array.isArray(l)?l:l?[l]:[]:Array.isArray(l)?l[0]||"":l||"",x=o?h.length>0:!!h,g=o||!x,p=!x&&u,f=p?[u]:o?h:[h],j={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-32 h-32"},[y,N]=(0,t.useState)(!1),C=e=>{if(o){let l=h.filter((l,a)=>a!==e);null==a||a(l)}else null==a||a("")};return(0,i.jsxs)("div",{className:"space-y-3",children:[(x||p)&&(0,i.jsx)("div",{className:"grid gap-3 ".concat(o?"grid-cols-2 md:grid-cols-3":"grid-cols-1 max-w-xs"),children:f.filter(Boolean).map((e,l)=>(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"".concat(j[b]," rounded-full overflow-hidden border-2 border-gray-200"),children:(0,i.jsx)("img",{src:e,alt:"zh"===m?"标识":"Profile",className:"w-full h-full object-cover"})}),!p&&(0,i.jsx)(s.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 rounded-full",onClick:()=>C(l),disabled:v,children:(0,i.jsx)(n.A,{className:"h-3 w-3"})}),p&&(0,i.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:"zh"===m?"默认":"Default"})]},l))}),g&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(r.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(s.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=o,e.onchange=async e=>{let l=e.target.files;if(l&&l.length>0){N(!0);try{let e=async e=>{let l=new FormData;l.append("file",e);let a=await fetch("".concat("http://47.94.52.142:3007","/api/upload"),{method:"POST",headers:{},body:l}),i=await a.json();if(!a.ok||!(null==i?void 0:i.success)||!(null==i?void 0:i.url))throw Error((null==i?void 0:i.message)||"上传失败");return i.url},i=[];for(let a of Array.from(l)){let l=await e(a);i.push(l)}if(o){let e=h||[];null==a||a([...e,...i])}else null==a||a(i[0])}catch(e){console.error("头像上传失败",e)}finally{N(!1)}}},e.click()},disabled:v||y,className:"gap-1",children:[(0,i.jsx)(d.A,{className:"h-4 w-4"}),y?"zh"===m?"正在上传...":"Uploading...":"zh"===m?"上传标识".concat(o&&x?"（追加）":""):"Upload Profile".concat(o&&x?" (Add)":"")]})]}),o&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"zh"===m?"支持选择多个图片文件进行批量上传":"Select multiple image files for batch upload"})]})}},19109:(e,l,a)=>{"use strict";a.r(l),a.d(l,{constellationData:()=>i,getConstellationById:()=>t,getConstellationByName:()=>s});let i=[{id:"constellation_1",name:"白羊座",englishName:"Aries",symbol:"♈",element:"火",dateRange:"3月21日-4月19日",description:"充满活力和冒险精神的星座",traits:["热情","冲动","勇敢","直率"]},{id:"constellation_2",name:"金牛座",englishName:"Taurus",symbol:"♉",element:"土",dateRange:"4月20日-5月20日",description:"稳重踏实，追求安全感的星座",traits:["稳重","固执","务实","享受"]},{id:"constellation_3",name:"双子座",englishName:"Gemini",symbol:"♊",element:"风",dateRange:"5月21日-6月21日",description:"聪明机智，善于沟通的星座",traits:["机智","善变","好奇","沟通"]},{id:"constellation_4",name:"巨蟹座",englishName:"Cancer",symbol:"♋",element:"水",dateRange:"6月22日-7月22日",description:"温柔体贴，重视家庭的星座",traits:["温柔","敏感","顾家","情绪化"]},{id:"constellation_5",name:"狮子座",englishName:"Leo",symbol:"♌",element:"火",dateRange:"7月23日-8月22日",description:"自信大方，具有领导力的星座",traits:["自信","大方","领导力","表现欲"]},{id:"constellation_6",name:"处女座",englishName:"Virgo",symbol:"♍",element:"土",dateRange:"8月23日-9月22日",description:"完美主义，注重细节的星座",traits:["完美主义","细致","挑剔","服务"]},{id:"constellation_7",name:"天秤座",englishName:"Libra",symbol:"♎",element:"风",dateRange:"9月23日-10月23日",description:"追求平衡与和谐的星座",traits:["平衡","优雅","犹豫","社交"]},{id:"constellation_8",name:"天蝎座",englishName:"Scorpio",symbol:"♏",element:"水",dateRange:"10月24日-11月22日",description:"神秘深沉，洞察力强的星座",traits:["神秘","深沉","洞察力","占有欲"]},{id:"constellation_9",name:"射手座",englishName:"Sagittarius",symbol:"♐",element:"火",dateRange:"11月23日-12月21日",description:"自由奔放，热爱冒险的星座",traits:["自由","乐观","冒险","直率"]},{id:"constellation_10",name:"摩羯座",englishName:"Capricorn",symbol:"♑",element:"土",dateRange:"12月22日-1月19日",description:"踏实稳重，有责任心的星座",traits:["踏实","责任心","保守","耐心"]},{id:"constellation_11",name:"水瓶座",englishName:"Aquarius",symbol:"♒",element:"风",dateRange:"1月20日-2月18日",description:"独立创新，思想前卫的星座",traits:["独立","创新","理性","友善"]},{id:"constellation_12",name:"双鱼座",englishName:"Pisces",symbol:"♓",element:"水",dateRange:"2月19日-3月20日",description:"浪漫感性，富有想象力的星座",traits:["浪漫","感性","想象力","同情心"]}];function t(e){return i.find(l=>l.id===e)}function s(e){return i.find(l=>l.name===e)}},47124:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>aA});var i=a(74364),t=a(10640),s=a(28410),n=a(73475),r=a(6712),d=a(63727),c=a(3713),o=a(11915),u=a(78476),v=a(6958),b=a(67368),m=a(75269),h=a(48112),x=a(14361),g=a(1923),p=a(49592),f=a(43372),j=a(46400),y=a(54107),N=a(41392),C=a(75101),w=a(592),k=a(759),z=a(19208),S=a(11400),A=a(88294),I=a(51977),_=a(28072),D=a(34054),M=a(94492),F=a(35867),E=a(96957),L=a(45050),P=a(51772),T=a(61435),O=a(64565),q=a(5660),R=a(287);let V={system:(0,i.jsx)(u.A,{className:"size-5"}),ecom:(0,i.jsx)(v.A,{className:"size-5"}),edu:(0,i.jsx)(b.A,{className:"size-5"}),content:(0,i.jsx)(m.A,{className:"size-5"}),project:(0,i.jsx)(h.A,{className:"size-5"}),custom:(0,i.jsx)(x.A,{className:"size-5"})};function $(e){let{modules:l=[],selectedId:a="",onSelect:t,onAdd:s,onSettings:r,onModuleManagement:d,canAdd:c=!0}=e,{locale:v}=(0,n.Y)();return(0,i.jsx)("div",{className:"hidden md:flex sticky top-[68px] h-[calc(100dvh-84px)]",children:(0,i.jsxs)(R.VU,{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2 w-full items-center",children:[(0,i.jsx)("div",{className:"size-11 rounded-2xl bg-[conic-gradient(at_30%_30%,#60a5fa_0deg,#f59e0b_140deg,#60a5fa_320deg)] shadow-[inset_0_1px_0_rgba(255,255,255,0.6),0_12px_24px_rgba(0,0,0,0.35)]"}),(0,i.jsx)("div",{className:"flex-1 overflow-auto flex flex-col gap-2 w-full items-center pr-1",children:l.map(e=>(0,i.jsx)(R.KK,{title:e.name,active:e.id===a,onClick:()=>null==t?void 0:t(e.id),children:function(e){var l;if(e.icon&&e.icon.startsWith("http"))return(0,i.jsx)("img",{src:e.icon,alt:e.name,className:"size-5 rounded object-cover"});let a=e.name.toLowerCase(),t=null===(l=e.icon)||void 0===l?void 0:l.toLowerCase(),s={users:(0,i.jsx)(g.A,{className:"size-5"}),user:(0,i.jsx)(g.A,{className:"size-5"}),settings:(0,i.jsx)(p.A,{className:"size-5"}),setting:(0,i.jsx)(p.A,{className:"size-5"}),activity:(0,i.jsx)(f.A,{className:"size-5"}),audit:(0,i.jsx)(f.A,{className:"size-5"}),log:(0,i.jsx)(f.A,{className:"size-5"}),config:(0,i.jsx)(p.A,{className:"size-5"}),configuration:(0,i.jsx)(p.A,{className:"size-5"})};return t&&s[t]?s[t]:a.includes("用户")||a.includes("user")||a.includes("member")?(0,i.jsx)(g.A,{className:"size-5"}):a.includes("系统配置")||a.includes("系统设置")||a.includes("settings")||a.includes("config")?(0,i.jsx)(p.A,{className:"size-5"}):a.includes("审计")||a.includes("日志")||a.includes("audit")||a.includes("log")||a.includes("activity")?(0,i.jsx)(f.A,{className:"size-5"}):a.includes("数据")||a.includes("data")||a.includes("db")?(0,i.jsx)(j.A,{className:"size-5"}):a.includes("分析")||a.includes("analytics")||a.includes("chart")?(0,i.jsx)(f.A,{className:"size-5"}):a.includes("日历")||a.includes("calendar")||a.includes("schedule")?(0,i.jsx)(y.A,{className:"size-5"}):a.includes("消息")||a.includes("message")||a.includes("chat")?(0,i.jsx)(N.A,{className:"size-5"}):a.includes("支付")||a.includes("payment")||a.includes("billing")?(0,i.jsx)(C.A,{className:"size-5"}):a.includes("物流")||a.includes("logistics")||a.includes("shipping")?(0,i.jsx)(w.A,{className:"size-5"}):a.includes("课程")||a.includes("course")||a.includes("lesson")?(0,i.jsx)(k.A,{className:"size-5"}):a.includes("视频")||a.includes("video")?(0,i.jsx)(z.A,{className:"size-5"}):a.includes("音乐")||a.includes("music")||a.includes("audio")?(0,i.jsx)(S.A,{className:"size-5"}):a.includes("图片")||a.includes("image")||a.includes("photo")?(0,i.jsx)(A.A,{className:"size-5"}):a.includes("文件")||a.includes("file")?(0,i.jsx)(I.A,{className:"size-5"}):a.includes("文件夹")||a.includes("folder")?(0,i.jsx)(_.A,{className:"size-5"}):a.includes("网站")||a.includes("web")||a.includes("site")?(0,i.jsx)(D.A,{className:"size-5"}):a.includes("工具")||a.includes("tool")||a.includes("utility")?(0,i.jsx)(M.A,{className:"size-5"}):a.includes("安全")||a.includes("security")||a.includes("auth")?(0,i.jsx)(u.A,{className:"size-5"}):a.includes("收藏")||a.includes("favorite")||a.includes("like")?(0,i.jsx)(F.A,{className:"size-5"}):a.includes("评分")||a.includes("rating")||a.includes("review")?(0,i.jsx)(E.A,{className:"size-5"}):a.includes("目标")||a.includes("goal")||a.includes("target")?(0,i.jsx)(h.A,{className:"size-5"}):a.includes("趋势")||a.includes("trend")||a.includes("growth")?(0,i.jsx)(L.A,{className:"size-5"}):a.includes("创意")||a.includes("creative")||a.includes("idea")?(0,i.jsx)(P.A,{className:"size-5"}):V[e.type]||V.custom}(e)},e.id))})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,i.jsx)(R.KK,{title:"zh"===v?"模块管理":"Module Management",active:"module-management"===a,onClick:()=>null==d?void 0:d(),children:(0,i.jsx)(T.A,{className:"size-5"})}),(0,i.jsx)(R.KK,{title:"zh"===v?"设置":"Settings",active:"settings"===a,onClick:()=>null==t?void 0:t("settings"),children:(0,i.jsx)(p.A,{className:"size-5"})}),(0,i.jsx)(q.$,{className:(0,o.cn)("rounded-2xl px-0 w-11 h-11","bg-gradient-to-br from-emerald-500 to-sky-500 shadow-[0_10px_24px_rgba(16,185,129,0.35)]"),onClick:()=>null==s?void 0:s(),"aria-label":"zh"===v?"添加模块":"Add Module",disabled:!c,title:c?"zh"===v?"添加模块":"Add Module":"zh"===v?"当前角色不可添加模块":"Current role cannot add modules",children:(0,i.jsx)(O.A,{className:"size-5 text-white"})})]})]})})}var B=a(84603),U=a(16645),K=a(80758),H=a(67320),J=a(4002),W=a(9313),Y=a(25140),G=a(97428);function Z(e){let{title:l="目录（表）",directories:a=[],selectedId:s="",onSelect:r,onRename:d,onAdd:c,onDelete:u,addText:v="添加目录",typeLabel:b=e=>"category"===e.type?"分类":"表",canEdit:m=!0,pageSize:h=8}=e,{t:x,locale:g}=(0,n.Y)(),[p,f]=(0,t.useState)(1),[j,y]=(0,t.useState)(!1),[N,C]=(0,t.useState)(null),w=Math.ceil(a.length/h),k=(p-1)*h,z=k+h,S=(0,t.useMemo)(()=>a.slice(k,z),[a,k,z]),A=e=>{f(Math.max(1,Math.min(e,w)))};return(0,i.jsxs)("div",{className:"hidden md:block",children:[(0,i.jsxs)(R.XA,{className:"h-full p-3 flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:l}),a.length>0&&(0,i.jsxs)("span",{className:"text-xs text-slate-500",children:["(",a.length,")"]})]}),(0,i.jsx)("div",{className:"flex gap-2",children:(0,i.jsx)(q.$,{size:"sm",onClick:()=>null==c?void 0:c(),disabled:!m,className:"rounded-xl",children:v})})]}),a.length>h&&(0,i.jsx)("div",{className:"text-xs text-slate-500 mt-2 text-center",children:"zh"===g?"显示第 ".concat(k+1,"-").concat(Math.min(z,a.length)," 条，共 ").concat(a.length," 条"):"Showing ".concat(k+1,"-").concat(Math.min(z,a.length)," of ").concat(a.length," items")}),(0,i.jsxs)("div",{className:"mt-3 space-y-2",children:[S.map(e=>(0,i.jsxs)("div",{className:(0,o.cn)("w-full flex items-center justify-between gap-2 rounded-2xl px-3 py-2","bg-white/60 hover:bg-white/80 border border-white/60 text-left","shadow-[0_4px_12px_rgba(31,38,135,0.12)]",e.id===s&&"bg-gradient-to-br from-sky-100/70 to-blue-50/70 border-sky-200 ring-1 ring-sky-200"),children:[(0,i.jsxs)("button",{type:"button",className:"flex items-center gap-2 flex-1 min-w-0 text-left",onClick:()=>null==r?void 0:r(e.id),children:["category"===e.type?(0,i.jsx)(B.A,{className:"size-4 text-amber-500 flex-shrink-0"}):(0,i.jsx)(U.A,{className:"size-4 text-blue-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("div",{className:"text-sm font-medium truncate",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:b(e)})]})]}),(0,i.jsxs)(W.rI,{children:[(0,i.jsx)(W.ty,{asChild:!0,children:(0,i.jsx)(q.$,{variant:"ghost",size:"sm",disabled:!m,className:"flex-shrink-0",children:(0,i.jsx)(K.A,{className:"size-4"})})}),(0,i.jsxs)(W.SQ,{align:"end",children:[(0,i.jsxs)(W._2,{onClick:()=>null==d?void 0:d(e),children:[(0,i.jsx)(H.A,{className:"size-4 mr-2"}),"zh"===g?"重命名":"Rename"]}),(0,i.jsxs)(W._2,{onClick:()=>{C(e),y(!0)},className:"text-red-600 focus:text-red-600",children:[(0,i.jsx)(J.A,{className:"size-4 mr-2"}),"zh"===g?"删除":"Delete"]})]})]})]},e.id)),0===a.length&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===g?"暂无目录":"No directories"})]}),w<=1?null:(0,i.jsx)("div",{className:"flex justify-center mt-3",children:(0,i.jsx)(G.dK,{children:(0,i.jsxs)(G.Iu,{children:[(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.Eb,{onClick:()=>A(p-1),className:(0,o.cn)("cursor-pointer",1===p&&"pointer-events-none opacity-50")})}),Array.from({length:w},(e,l)=>l+1).map(e=>(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>A(e),isActive:p===e,className:"cursor-pointer",children:e})},e)),(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.WA,{onClick:()=>A(p+1),className:(0,o.cn)("cursor-pointer",p===w&&"pointer-events-none opacity-50")})})]})})})]}),(0,i.jsx)(Y.o,{open:j,onOpenChange:y,itemName:(null==N?void 0:N.name)||"",itemType:"directory",onConfirm:()=>{N&&u&&u(N)}})]})}var X=a(88224),Q=a(45889),ee=a(70660);function el(e){let{breadcrumb:l="",onOpenCategories:a,onOpenAddField:t,onOpenFieldSettings:s,canEdit:r=!0,tab:d="list",onTabChange:c,filtersSlot:u,bulkToolbarSlot:v,listSlot:b,fieldsSlot:m,actionsExtra:h,className:x,handlePublicModule:g}=e,{t:p,locale:f}=(0,n.Y)();return(0,i.jsxs)(R.rj,{className:(0,o.cn)("p-4",x),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:l}),(0,i.jsx)(q.$,{onClick:g,children:"发布模块"})]}),u,v,(0,i.jsxs)(X.tU,{value:d,onValueChange:e=>null==c?void 0:c(e),className:"mt-4",children:[(0,i.jsxs)(X.j7,{className:"bg-white/60 backdrop-blur rounded-2xl p-1",children:[(0,i.jsxs)(X.Xi,{value:"list",className:"rounded-xl data-[state=active]:bg-sky-100",children:[(0,i.jsx)(Q.A,{className:"mr-2 size-4"}),p("tabList")]}),(0,i.jsxs)(X.Xi,{value:"fields",disabled:!r,className:"rounded-xl data-[state=active]:bg-sky-100",children:[(0,i.jsx)(ee.A,{className:"mr-2 size-4"}),p("tabFields")]})]}),(0,i.jsx)(X.av,{value:"list",className:"mt-4",children:b}),(0,i.jsx)(X.av,{value:"fields",className:"mt-4",children:m})]})]})}var ea=a(17631),ei=a(10228),et=a(62398);function es(e){let{appName:l,moduleName:a,dirName:t,role:s,onRole:r,locale:d,onToggleLocale:c,onSave:o,onHome:v,tSave:b="保存"}=e,{t:m}=(0,n.Y)(),h={admin:"zh"===d?"管理员（全部权限）":"Admin (Full permissions)",operator:"zh"===d?"运营（编辑/删除）":"Operator (Edit/Delete)",viewer:"zh"===d?"只读（查看）":"Viewer (Read only)"};return(0,i.jsx)("header",{className:"sticky top-0 z-20 border-b border-white/40 bg-white/40 backdrop-blur-lg",children:(0,i.jsxs)("div",{className:"mx-auto max-w-[1400px] px-4 py-3 flex items-center gap-3",children:[(0,i.jsx)(q.$,{variant:"ghost",className:"rounded-2xl px-3 h-9 shadow-sm bg-black/80 text-white hover:bg-black/70",onClick:v,children:(0,i.jsx)(ea.A,{className:"size-4"})}),(0,i.jsx)("div",{className:"font-semibold",children:l}),(0,i.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,i.jsx)("div",{className:"text-muted-foreground",children:a||"-"}),(0,i.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,i.jsx)("span",{className:"text-muted-foreground",children:t||"-"}),(0,i.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,i.jsxs)(W.rI,{children:[(0,i.jsx)(W.ty,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"ghost",className:"gap-2 rounded-2xl",children:[(0,i.jsx)(u.A,{className:"size-4"}),(0,i.jsx)("span",{children:{admin:"zh"===d?"管理员":"Admin",operator:"zh"===d?"运营":"Operator",viewer:"zh"===d?"只读":"Viewer"}[s]})]})}),(0,i.jsxs)(W.SQ,{align:"end",className:"bg-white/90 backdrop-blur rounded-2xl",children:[(0,i.jsx)(W.lp,{children:"zh"===d?"切换角色":"Switch Role"}),(0,i.jsx)(W._2,{onClick:()=>r("admin"),children:h.admin}),(0,i.jsx)(W._2,{onClick:()=>r("operator"),children:h.operator}),(0,i.jsx)(W._2,{onClick:()=>r("viewer"),children:h.viewer})]})]}),(0,i.jsxs)(q.$,{variant:"ghost",className:"gap-2 rounded-2xl",onClick:c,"aria-label":m("toggleLang"),children:[(0,i.jsx)(ei.A,{className:"size-4"}),(0,i.jsx)("span",{children:"zh"===d?"中/EN":"EN/中"})]}),(0,i.jsx)(et.B,{})]})]})})}var en=a(68448);function er(e){let{count:l,canBulkDelete:a=!0,onBulkDelete:t,onClear:s}=e,{t:r}=(0,n.Y)();return l<=0?null:(0,i.jsxs)("div",{className:"mt-3 flex items-center justify-between rounded-2xl border border-white/60 bg-white/70 px-3 py-2 backdrop-blur",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)(en.A,{className:"size-4"}),r("selected")," ",l," ",r("items")]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(q.$,{variant:"destructive",size:"sm",onClick:t,disabled:!a,title:r(a?"bulkDeleteSelected":"noPermissionToBulkDelete"),className:"rounded-xl",children:[(0,i.jsx)(J.A,{className:"mr-1 size-4"}),r("bulkDelete")]}),(0,i.jsx)(q.$,{variant:"secondary",size:"sm",onClick:s,className:"rounded-xl",children:r("clearSelection")})]})]})}function ed(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(1200px_400px_at_-10%_-20%,black,transparent)] bg-white/40"}),(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(900px_360px_at_120%_120%,black,transparent)] bg-white/30"}),(0,i.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-emerald-100/50 to-transparent"})]})}var ec=a(73246),eo=a(83071),eu=a(47255),ev=a(69804),eb=a(91650);function em(e){let{app:l,dir:s,filters:r,onOpen:d,onDelete:u,selectable:v=!1,selected:b=[],onSelectedChange:m,canDelete:h=!0,pageSize:x=10,refreshToken:g}=e,{locale:p}=(0,n.Y)(),[f,j]=(0,t.useState)(1),[y,N]=(0,t.useState)([]),[C,w]=(0,t.useState)(0),[k,z]=(0,t.useState)(!1),[S,A]=(0,t.useState)(!1),[I,_]=(0,t.useState)(null),[D,M]=(0,t.useState)({}),[F,E]=(0,t.useState)({}),L=(0,t.useMemo)(()=>{let e=s.fields.filter(e=>{var l;return e.enabled&&(null===(l=e.showInList)||void 0===l||l)});return e.some(e=>"number"==typeof e.order)?[...e].sort((e,l)=>{var a,i;return(null!==(a=e.order)&&void 0!==a?a:1e12)-(null!==(i=l.order)&&void 0!==i?i:1e12)}):e},[s.fields]),P=(0,t.useMemo)(()=>Array.from(new Set(L.filter(e=>{var l;return("relation_one"===e.type||"relation_many"===e.type)&&(null===(l=e.relation)||void 0===l?void 0:l.targetDirId)}).map(e=>String(e.relation.targetDirId)))),[L]);(0,t.useMemo)(()=>{P.forEach(async e=>{if(e&&!F[e]&&!D[e]){E(l=>({...l,[e]:!0}));try{let l=await eb.api.records.listRecords(e,{page:1,pageSize:100}),a=l.success&&l.data?Array.isArray(l.data)?l.data:l.data.records||[]:[];M(l=>({...l,[e]:a}))}catch(l){M(l=>({...l,[e]:[]}))}finally{E(l=>({...l,[e]:!1}))}}})},[P,F,D]),(0,t.useEffect)(()=>{let e=!1;return(async()=>{z(!0);try{var l,a,i;let t=await eb.api.records.listRecords(s.id,{page:f,pageSize:x}),n=t&&t.success?Array.isArray(t.data)?t.data:(null===(l=t.data)||void 0===l?void 0:l.records)||t.data||[]:[],r=null!==(i=null==t?void 0:null===(a=t.pagination)||void 0===a?void 0:a.total)&&void 0!==i?i:Array.isArray(t.data)?t.data.length:0;e||(N(n),w(Number(r)||0))}catch(l){e||(N([]),w(0))}finally{e||z(!1)}})(),()=>{e=!0}},[s.id,f,x,g]);let T=Math.max(1,Math.ceil((C||0)/Math.max(1,x))),O=(f-1)*x,R=Math.min(O+x,Math.max(C,O));(0,t.useMemo)(()=>{j(1)},[r.kw,r.status,r.category,s.id]);let V=(0,t.useMemo)(()=>y.map(e=>e.id),[y]),$=v&&V.length>0&&V.every(e=>b.includes(e)),B=v&&V.some(e=>b.includes(e))&&!$,U=e=>{j(Math.max(1,Math.min(e,T)))};return(0,i.jsxs)("div",{className:"space-y-4",children:[C>0&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[(0,i.jsx)("div",{children:"zh"===p?"显示第 ".concat(O+1,"-").concat(R," 条，共 ").concat(C," 条记录"):"Showing ".concat(O+1,"-").concat(R," of ").concat(C," records")}),(0,i.jsx)("div",{children:"zh"===p?"第 ".concat(f," 页，共 ").concat(T," 页"):"Page ".concat(f," of ").concat(T)})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full border-separate border-spacing-y-2 min-w-max",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[v&&(0,i.jsx)("th",{className:"w-[44px] text-center bg-white/60 backdrop-blur py-2 px-2 border border-white/60 rounded-xl",children:(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)(eu.S,{checked:!!$||!!B&&"indeterminate",onCheckedChange:function(){v&&m&&($?m(b.filter(e=>!V.includes(e))):m(Array.from(new Set([...b,...V]))))},"aria-label":"选择所有"})})}),L.map(e=>(0,i.jsx)("th",{className:"text-left text-xs font-medium bg-white/60 backdrop-blur py-2 px-4 border border-white/60 first:rounded-l-xl last:rounded-r-xl min-w-[120px]",children:e.label},e.id)),(0,i.jsx)("th",{className:"text-left text-xs font-medium bg-white/60 backdrop-blur py-2 px-4 border border-white/60 rounded-xl sticky right-0 z-10 min-w-[120px]",children:"zh"===p?"操作":"Actions"})]})}),(0,i.jsxs)("tbody",{children:[k?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"text-center text-muted-foreground py-10",colSpan:L.length+1+ +!!v,children:"zh"===p?"加载中...":"Loading..."})}):y.map((e,t)=>(0,i.jsxs)("tr",{className:"group",children:[v&&(0,i.jsx)("td",{className:"bg-white/60 backdrop-blur border border-white/60 py-2 px-2 rounded-xl align-top",children:(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)(eu.S,{checked:b.includes(e.id),onCheckedChange:l=>{var a;a=e.id,v&&m&&(b.includes(a)?m(b.filter(e=>e!==a)):m([...b,a]))},"aria-label":"选择 ".concat(e.id),onClick:e=>e.stopPropagation()})})}),L.map(t=>{let s=e[t.key];return(0,i.jsx)("td",{className:"bg-white/60 backdrop-blur border border-white/60 py-2 px-4 first:rounded-l-xl last:rounded-r-xl cursor-pointer align-top text-sm min-w-[120px]",onClick:()=>d(e.id),children:function(e,l,t,s,n,r){var d,u,v,b;let m=String(null!=t?t:"");if("relation_one"===l){let l=null==s?void 0:null===(d=s.relation)||void 0===d?void 0:d.targetDirId,a=l?(0,c.zj)(e,l):null;if("string"==typeof t&&t){let e=((null==r?void 0:r[l])||(null==a?void 0:a.records)||[]).find(e=>e.id===t),n=e?(null==s?void 0:null===(u=s.relation)||void 0===u?void 0:u.displayFieldKey)?String(null!==(v=e[s.relation.displayFieldKey])&&void 0!==v?v:(0,c.rj)(a,e)):(0,c.rj)(a,e):t;return(0,i.jsx)("div",{className:"truncate",title:n,children:n})}return(0,i.jsx)("span",{className:"text-gray-400",children:"-"})}if("relation_many"===l){let l=null==s?void 0:null===(b=s.relation)||void 0===b?void 0:b.targetDirId,a=l?(0,c.zj)(e,l):null,n=(Array.isArray(t)?t:[]).map(e=>{var i,t;let n=((null==r?void 0:r[l])||(null==a?void 0:a.records)||[]).find(l=>l.id===e);return n?(null==s?void 0:null===(i=s.relation)||void 0===i?void 0:i.displayFieldKey)?String(null!==(t=n[s.relation.displayFieldKey])&&void 0!==t?t:(0,c.rj)(a,n)):(0,c.rj)(a,n):e}).filter(Boolean);if(0===n.length)return(0,i.jsx)("span",{className:"text-gray-400",children:"-"});let d=n.slice(0,2),o=n.length-d.length;return(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",title:n.join(", "),children:[d.map((e,l)=>(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full border border-white/60 bg-white/70 backdrop-blur",children:e},l)),o>0&&(0,i.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["+",o]})]})}if("tags"===l&&Array.isArray(t)&&t.length>0){let e=t.slice(0,2),l=t.length-e.length;return(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",title:t.join(", "),children:[e.map((e,l)=>(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full border border-white/60 bg-white/70 backdrop-blur shadow-sm",children:e},l)),l>0&&(0,i.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["+",l]})]})}if("select"===l&&"上架"===String(null!=t?t:""))return(0,i.jsx)("span",{className:(0,o.cn)("text-xs px-1.5 py-0.5 rounded-full bg-emerald-100 text-emerald-700"),children:t});if("boolean"===l||"checkbox"===l){let e=t?(null==s?void 0:s.trueLabel)||"是":(null==s?void 0:s.falseLabel)||"否";return(0,i.jsx)("span",{className:(0,o.cn)("text-xs px-1.5 py-0.5 rounded-full",t?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"),children:e})}if("date"===l||"time"===l)return(0,i.jsx)("div",{className:"truncate",title:m,children:m});if("image"===l&&t){let e=(Array.isArray(t)?t:[t]).filter(Boolean);return 0===e.length?null:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("img",{src:e[0],alt:"图片",className:"h-8 w-12 object-cover rounded border border-white/60",crossOrigin:"anonymous"}),e.length>1&&(0,i.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-1 rounded",children:["+",e.length-1]})]})}if("profile"===l&&t){let e=(Array.isArray(t)?t:[t]).filter(Boolean);return 0===e.length?null:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("img",{src:e[0],alt:"标识",className:"h-8 w-8 object-cover rounded-full border border-gray-200",crossOrigin:"anonymous"}),e.length>1&&(0,i.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-1 rounded",children:["+",e.length-1]})]})}if("video"===l&&t){let e=(Array.isArray(t)?t:[t]).filter(Boolean);return 0===e.length?null:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("video",{src:e[0],className:"h-8 w-12 object-cover rounded border border-white/60",preload:"metadata"}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded",children:(0,i.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M8 5v14l11-7z"})})})]}),e.length>1&&(0,i.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-1 rounded",children:["+",e.length-1]})]})}if("file"===l)return t?(0,i.jsx)("div",{className:"text-xs truncate",title:m,children:m}):"";if("percent"===l){let e=Number(null!=t?t:0);return(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-blue-100 text-blue-700",children:Number.isFinite(e)?"".concat(e,"%"):""})}if("progress"===l||(null==s?void 0:s.preset)==="progress"){let e=(null==s?void 0:s.progressConfig)||{aggregation:"weightedAverage",maxValue:100,showProgressBar:!0,showPercentage:!0},l=e.aggregation||"weightedAverage";if(Array.isArray(t)){let a=t.map(e=>({v:Number(e.value||0),w:Number(e.weight||1)})),s=(()=>{if("max"===l)return Math.max(0,...a.map(e=>e.v));if("min"===l)return Math.min(100,...a.map(e=>e.v));let e=a.reduce((e,l)=>e+(Number.isFinite(l.w)?l.w:0),0)||1;return Math.round(a.reduce((e,l)=>e+(Number.isFinite(l.v)?l.v:0)*(Number.isFinite(l.w)?l.w:0),0)/e)})(),n=t.slice(0,3),r=Math.max(0,t.length-n.length);return(0,i.jsxs)("div",{className:"flex items-center gap-2",title:(t||[]).map(e=>"".concat(e.label||"",":").concat(e.value||0,"%")).join(" | "),children:[e.showProgressBar&&(0,i.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 min-w-[60px]",children:(0,i.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-blue-500",style:{width:"".concat(Math.max(0,Math.min(100,s)),"%")}})}),e.showPercentage?(0,i.jsxs)("span",{className:"text-xs text-gray-600 w-12 text-right",children:[Math.max(0,Math.min(100,s)),"%"]}):null,(0,i.jsxs)("div",{className:"hidden xl:flex items-center gap-1 ml-1",children:[n.map((e,l)=>(0,i.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full border bg-white/70",children:[e.label||"Item ".concat(l+1)," ",Math.round(Number(e.value||0)),"%"]},l)),r>0&&(0,i.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["+",r]})]})]})}{let l=Number(null!=t?t:0),a=e.maxValue||100,s=Math.round(l/a*100);return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[e.showProgressBar&&(0,i.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 min-w-[60px]",children:(0,i.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-blue-500",style:{width:"".concat(Math.min(s,100),"%")}})}),e.showPercentage?(0,i.jsxs)("span",{className:"text-xs text-gray-600 w-12 text-right",children:[s,"%"]}):(0,i.jsxs)("span",{className:"text-xs text-gray-600",children:[l,"/",a]})]})}}if("meta_items"===l){let e=Array.isArray(t)?t:[];return(0,i.jsx)("span",{className:"text-xs text-gray-600",children:e.length>0?"".concat(e.length):"-"})}if(("skills"===l||"multiselect"===l&&(null==s?void 0:s.preset)==="skills")&&Array.isArray(t)&&t.length>0){let e=t.map(e=>{var l,a;let i=(0,ev.getSkillById)(e);if(i)return i.name;let t=null==s?void 0:null===(a=s.skillsConfig)||void 0===a?void 0:null===(l=a.customSkills)||void 0===l?void 0:l.find(l=>l.id===e);return t?t.name:e}).filter(Boolean),l=e.slice(0,2),a=e.length-l.length;return(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",title:e.join(", "),children:[l.map((e,l)=>(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full border border-white/60 bg-white/70 backdrop-blur shadow-sm",children:e},l)),a>0&&(0,i.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["+",a]})]})}if("cascader"===l)return(0,i.jsx)("div",{className:"truncate",title:m,children:m});if("identity_verification"===l||"text"===l&&(null==s?void 0:s.preset)==="identity_verification")return t&&"object"==typeof t&&(t.name||t.idNumber||t.frontPhoto||t.backPhoto)?(0,i.jsxs)("div",{className:"text-sm",children:[t.name&&(0,i.jsx)("div",{className:"font-medium",children:t.name}),(0,i.jsx)("div",{className:"text-green-600 text-xs",children:"zh"===n?"✓ 已认证":"✓ Verified"})]}):(0,i.jsx)("span",{className:"text-gray-400",children:"-"});if("other_verification"===l||"text"===l&&(null==s?void 0:s.preset)==="other_verification"){if(!t||"object"!=typeof t||!(Object.keys(t).length>0))return(0,i.jsx)("span",{className:"text-gray-400",children:"-"});let e=Object.entries(t).filter(e=>{let[l,a]=e;return"string"==typeof a&&""!==a.trim()}),l=e.length>0?e[0][1]:null;return(0,i.jsxs)("div",{className:"text-sm",children:[l&&(0,i.jsx)("div",{className:"font-medium",children:l}),(0,i.jsx)("div",{className:"text-green-600 text-xs",children:"zh"===n?"✓ 已认证":"✓ Verified"})]})}if("experience"===l&&Array.isArray(t)&&t.length>0){let e=t.slice(0,2),l=t.length-e.length;return(0,i.jsxs)("div",{className:"space-y-1",children:[e.map((e,l)=>{let a=()=>{if("work"===e.type)return"".concat(e.organization||""," ").concat(e.title||"").trim();if("education"===e.type){let l=[];return e.title&&l.push(e.title),e.organization&&l.push(e.organization),e.degree&&l.push(e.degree),l.join(" ")}return"project"===e.type?"".concat(e.title||""," ").concat(e.organization||"").trim():"certificate"===e.type?"".concat(e.title||""," ").concat(e.issuer||"").trim():e.title||e.organization||"经历 ".concat(l+1)};return(0,i.jsx)("div",{className:"text-xs",children:(0,i.jsx)("div",{className:"text-gray-600 truncate",title:a(),children:a()})},l)}),l>0&&(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["+",l," 更多"]})]})}if("select"===l&&(null==s?void 0:s.preset)==="constellation"||"constellation"===l){if(!t)return(0,i.jsx)("span",{className:"text-gray-400",children:"-"});let{constellationData:e}=a(19109),l=e.find(e=>e.id===t);return(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-purple-100 text-purple-700",children:l?l.name:t})}return(0,i.jsx)("div",{className:"truncate",title:m,children:m})}(l,t.type,s,t,p,D)},t.id)}),(0,i.jsx)("td",{className:"bg-white/60 backdrop-blur border border-white/60 py-2 px-4 rounded-xl sticky right-0 z-10 min-w-[120px]",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(q.$,{size:"sm",onClick:()=>d(e.id),children:"zh"===p?"管理":"Manage"}),h&&(0,i.jsx)(q.$,{variant:"destructive",size:"sm",onClick:()=>{_(e.id),A(!0)},children:"zh"===p?"删除":"Delete"})]})})]},e.id||"row-".concat(t))),!k&&0===y.length&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"text-center text-muted-foreground py-10",colSpan:L.length+1+ +!!v,children:"zh"===p?"暂无数据":"No data"})})]})]})}),T>1&&(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(G.dK,{children:(0,i.jsxs)(G.Iu,{children:[(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.Eb,{onClick:()=>U(f-1),className:(0,o.cn)("cursor-pointer",1===f&&"pointer-events-none opacity-50")})}),(()=>{let e=[];if(T>7){e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>U(1),isActive:1===f,className:"cursor-pointer",children:"1"})},1)),f>4&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.M_,{})},"ellipsis-start"));let l=Math.max(2,f-1),a=Math.min(T-1,f+1);for(let t=l;t<=a;t++)e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>U(t),isActive:f===t,className:"cursor-pointer",children:t})},t));f<T-3&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.M_,{})},"ellipsis-end")),T>1&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>U(T),isActive:f===T,className:"cursor-pointer",children:T})},T))}else for(let l=1;l<=T;l++)e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>U(l),isActive:f===l,className:"cursor-pointer",children:l})},l));return e})(),(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.WA,{onClick:()=>U(f+1),className:(0,o.cn)("cursor-pointer",f===T&&"pointer-events-none opacity-50")})})]})})}),(0,i.jsx)(Y.o,{open:S,onOpenChange:A,itemName:I||"",itemType:"record",onConfirm:()=>{I&&u&&u(I)}})]})}var eh=a(54356),ex=a(74688),eg=a(76572),ep=a(55132),ef=a(14353),ej=a(42745),ey=a(55753),eN=a(14113),eC=a(60613),ew=a(46638),ek=a(60291),ez=a(32414),eS=a(98189),eA=a(92558),eI=a(16741),e_=a(24730),eD=a(23579),eM=a(37787),eF=a(33487),eE=a(12907),eL=a(61570),eP=a(50971),eT=a(34774),eO=a(20566),eq=a(93617),eR=a(6651),eV=a(25664),e$=a(11286);function eB(e){var l,a,t,s,n,r,d,c,o;let{cats:u,lvl1:v,setLvl1:b,lvl2:m,setLvl2:h,lvl3:x,setLvl3:g,adding1:p,setAdding1:f,adding2:j,setAdding2:y,adding3:N,setAdding3:C,newL1:w,setNewL1:k,newL2:z,setNewL2:S,newL3:A,setNewL3:I,addL1:_,addL2:D,addL3:M,deleteL1:F,deleteL2:E,deleteL3:L,l2:P,l3:T,canEdit:O,i18n:R}=e;return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto] items-center gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-slate-700",children:R.l1}),(0,i.jsxs)(eg.l6,{value:v||"none",onValueChange:e=>{b("none"===e?"":e),h(""),g("")},children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:R.selectL1})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:R.none}),u.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))]})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(q.$,{variant:"secondary",className:"px-3",onClick:()=>{f(!p),k("")},disabled:!O,children:"+"}),v&&O&&(0,i.jsx)(q.$,{variant:"secondary",className:"px-3 text-red-600 hover:bg-red-100",onClick:()=>{let e=u.find(e=>e.id===v);e&&confirm("".concat(R.confirmDelete,' "').concat(e.name,'"？'))&&(F(v),b(""),h(""),g(""))},children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]})]}),p&&(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto_auto] items-center gap-2",children:[(0,i.jsx)("div",{}),(0,i.jsx)(ex.p,{placeholder:R.l1,value:w,onChange:e=>k(e.target.value),className:"bg-white/70"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>{_(w),f(!1),k("")},disabled:!w.trim(),children:R.save}),(0,i.jsx)(q.$,{size:"sm",variant:"secondary",onClick:()=>f(!1),children:R.cancel})]})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto] items-center gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-slate-700",children:R.l2}),(0,i.jsxs)(eg.l6,{value:m||"none",onValueChange:e=>{h("none"===e?"":e),g("")},disabled:!v,children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:R.selectL2})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:R.none}),P.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))]})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(q.$,{variant:"secondary",className:"px-3",onClick:()=>{v&&(y(!j),S(""))},disabled:!v||!O,children:"+"}),m&&O&&(0,i.jsx)(q.$,{variant:"secondary",className:"px-3 text-red-600 hover:bg-red-100",onClick:()=>{let e=P.find(e=>e.id===m);e&&confirm("".concat(R.confirmDelete,' "').concat(e.name,'"？'))&&(E(m),h(""),g(""))},children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]})]}),j&&(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto_auto] items-center gap-2",children:[(0,i.jsx)("div",{}),(0,i.jsx)(ex.p,{placeholder:R.l2,value:z,onChange:e=>S(e.target.value),className:"bg-white/70"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>{D(z),y(!1),S("")},disabled:!z.trim(),children:R.save}),(0,i.jsx)(q.$,{size:"sm",variant:"secondary",onClick:()=>y(!1),children:R.cancel})]})]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto] items-center gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-slate-700",children:R.l3}),(0,i.jsxs)(eg.l6,{value:x||"none",onValueChange:e=>g("none"===e?"":e),disabled:!m,children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:R.selectL3})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:R.none}),T.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))]})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(q.$,{variant:"secondary",className:"px-3",onClick:()=>{m&&(C(!N),I(""))},disabled:!m||!O,children:"+"}),x&&O&&(0,i.jsx)(q.$,{variant:"secondary",className:"px-3 text-red-600 hover:bg-red-100",onClick:()=>{let e=T.find(e=>e.id===x);e&&confirm("".concat(R.confirmDelete,' "').concat(e.name,'"？'))&&(L(x),g(""))},children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]})]}),N&&(0,i.jsxs)("div",{className:"grid grid-cols-[92px_1fr_auto_auto] items-center gap-2",children:[(0,i.jsx)("div",{}),(0,i.jsx)(ex.p,{placeholder:R.l3,value:A,onChange:e=>I(e.target.value),className:"bg-white/70"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>{M(A),C(!1),I("")},disabled:!A.trim(),children:R.save}),(0,i.jsx)(q.$,{size:"sm",variant:"secondary",onClick:()=>C(!1),children:R.cancel})]})]}),(0,i.jsxs)("div",{className:"px-[92px] text-xs text-muted-foreground",children:[R.preview," ",[null===(l=u.find(e=>e.id===v))||void 0===l?void 0:l.name,null===(s=u.find(e=>e.id===v))||void 0===s?void 0:null===(t=s.children)||void 0===t?void 0:null===(a=t.find(e=>e.id===m))||void 0===a?void 0:a.name,null===(o=u.find(e=>e.id===v))||void 0===o?void 0:null===(c=o.children)||void 0===c?void 0:null===(d=c.find(e=>e.id===m))||void 0===d?void 0:null===(r=d.children)||void 0===r?void 0:null===(n=r.find(e=>e.id===x))||void 0===n?void 0:n.name].filter(Boolean).join(" \xb7 ")||R.none]})]})}function eU(e){let{open:l,onOpenChange:a,initialCats:s=[],canEdit:n=!0,onSave:r,i18n:d}=e,[o,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[x,g]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[j,y]=(0,t.useState)(!1),[N,C]=(0,t.useState)(!1),[w,k]=(0,t.useState)(""),[z,S]=(0,t.useState)(""),[A,I]=(0,t.useState)("");(0,t.useEffect)(()=>{l&&(u(structuredClone(s)),b(""),h(""),g(""),f(!1),y(!1),C(!1),k(""),S(""),I(""))},[l,s]);let _=(0,t.useMemo)(()=>{var e;return(null===(e=o.find(e=>e.id===v))||void 0===e?void 0:e.children)||[]},[o,v]),D=(0,t.useMemo)(()=>{var e,l,a;return(null===(a=o.find(e=>e.id===v))||void 0===a?void 0:null===(l=a.children)||void 0===l?void 0:null===(e=l.find(e=>e.id===m))||void 0===e?void 0:e.children)||[]},[o,v,m]);return(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"sm:max-w-[720px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"category-description",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:d.title})}),(0,i.jsx)("div",{id:"category-description",className:"sr-only",children:"Configure up to 3 levels of categories for organizing content"}),(0,i.jsx)(eB,{cats:o,setCats:u,lvl1:v,setLvl1:b,lvl2:m,setLvl2:h,lvl3:x,setLvl3:g,adding1:p,setAdding1:f,adding2:j,setAdding2:y,adding3:N,setAdding3:C,newL1:w,setNewL1:k,newL2:z,setNewL2:S,newL3:A,setNewL3:I,addL1:function(e){let l=e.trim();if(!l)return;let a={id:(0,c.Ld)(),name:l,children:[]};u(e=>[...e,a]),b(a.id),h(""),g("")},addL2:function(e){if(!v)return;let l=e.trim();l&&u(e=>{let a=structuredClone(e),i=a.find(e=>e.id===v);return i&&(i.children=i.children||[],i.children.push({id:(0,c.Ld)(),name:l,children:[]})),a})},addL3:function(e){if(!m||!v)return;let l=e.trim();l&&u(e=>{var a;let i=structuredClone(e),t=i.find(e=>e.id===v),s=null==t?void 0:null===(a=t.children)||void 0===a?void 0:a.find(e=>e.id===m);return s&&(s.children=s.children||[],s.children.push({id:(0,c.Ld)(),name:l,children:[]})),i})},deleteL1:function(e){u(l=>l.filter(l=>l.id!==e))},deleteL2:function(e){u(l=>{var a;let i=structuredClone(l),t=i.find(e=>e.id===v);return t&&(t.children=(null===(a=t.children)||void 0===a?void 0:a.filter(l=>l.id!==e))||[]),i})},deleteL3:function(e){u(l=>{var a,i;let t=structuredClone(l),s=t.find(e=>e.id===v),n=null==s?void 0:null===(a=s.children)||void 0===a?void 0:a.find(e=>e.id===m);return n&&(n.children=(null===(i=n.children)||void 0===i?void 0:i.filter(l=>l.id!==e))||[]),t})},l2:_,l3:D,canEdit:n,i18n:d}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>a(!1),children:d.cancel}),(0,i.jsx)(q.$,{onClick:()=>r(o),disabled:!n,children:d.save})]})]})})}var eK=a(69494),eH=a(56318);function eJ(e){var l,a;let{app:s,value:n,onChange:r,onToggleMultiple:d}=e,c=s.modules,o=n.moduleId||(null===(l=c[0])||void 0===l?void 0:l.id)||"",u=(0,t.useMemo)(()=>c.find(e=>e.id===o)||null,[c,o]),v=((null==u?void 0:u.directories)||[]).filter(e=>"table"===e.type),b=n.targetDirId||(null===(a=v[0])||void 0===a?void 0:a.id)||"",m=(0,t.useMemo)(()=>v.find(e=>e.id===b)||null,[v,b]),h=(0,t.useMemo)(()=>m?m.fields.filter(e=>["text","textarea","select","number","date","time","tags"].includes(e.type)):[],[m]);return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"选择模块"}),(0,i.jsxs)(eg.l6,{value:o||"none",onValueChange:e=>{r({moduleId:"none"===e?"":e,targetDirId:"",displayFieldKey:""})},children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"选择模块"})}),(0,i.jsx)(eg.gC,{children:c.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"选择表"}),(0,i.jsxs)(eg.l6,{value:b||"none",onValueChange:e=>{r({targetDirId:"none"===e?"":e,displayFieldKey:""})},children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"选择表"})}),(0,i.jsx)(eg.gC,{children:v.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"选择展示的列"}),(0,i.jsxs)(eg.l6,{value:n.displayFieldKey||"none",onValueChange:e=>r({displayFieldKey:"none"===e?"":e}),disabled:!m,children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"请选择..."})}),(0,i.jsxs)(eg.gC,{children:[0===h.length&&(0,i.jsx)(eg.eb,{value:"none",children:"无可选字段"}),h.map(e=>(0,i.jsxs)(eg.eb,{value:e.key,children:[e.label,"（",e.key,"）"]},e.id))]})]})]}),(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"从视图筛选记录（示意）"}),(0,i.jsxs)(eg.l6,{value:"all",onValueChange:()=>{},disabled:!0,children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"请选择..."})}),(0,i.jsx)(eg.gC,{children:(0,i.jsx)(eg.eb,{value:"all",children:"全部记录"})})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"筛选记录（示意：可用表达式）"}),(0,i.jsx)(eK.T,{className:"bg-white/80",placeholder:"例如：status == '启用' && amount > 0",value:n.filterExpr||"",onChange:e=>r({filterExpr:e.target.value}),rows:2})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"双向关联"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"在对方表中自动生成反向字段"})]}),(0,i.jsx)(ep.d,{checked:!!n.bidirectional,onCheckedChange:e=>r({bidirectional:e})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"允许多选"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"关系类型切换为多对多"})]}),(0,i.jsx)(ep.d,{checked:!!n.allowMultiple,onCheckedChange:e=>{r({allowMultiple:e}),null==d||d(e)}})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"允许重复值"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"同一记录可重复关联（示意）"})]}),(0,i.jsx)(ep.d,{checked:!!n.allowDuplicate,onCheckedChange:e=>r({allowDuplicate:e})})]})]}),n.bidirectional&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"反向关联字段名"}),(0,i.jsx)(ex.p,{className:"bg-white/80",placeholder:"如：related_users",value:n.reverseFieldKey||"",onChange:e=>r({reverseFieldKey:e.target.value||null})}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"在目标表中创建的反向关联字段名称"})]}),(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"删除行为"}),(0,i.jsxs)(eg.l6,{value:n.onDelete||"restrict",onValueChange:e=>r({onDelete:e}),children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"请选择..."})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"restrict",children:"限制删除（默认）"}),(0,i.jsx)(eg.eb,{value:"cascade",children:"级联删除"}),(0,i.jsx)(eg.eb,{value:"set_null",children:"设置为空"})]})]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"当关联记录被删除时的处理方式"})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(0,i.jsxs)("div",{className:"grid gap-1",children:[(0,i.jsx)(eH.J,{children:"隐藏字段（逗号分隔，示意）"}),(0,i.jsx)(ex.p,{className:"bg-white/80",placeholder:"如：internal_note, secret_flag",value:(n.hiddenFieldKeys||[]).join(","),onChange:e=>r({hiddenFieldKeys:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})})]})})]})}let eW=[{id:"basic",name:"基础字段",description:"默认字段，业务每天会用到",order:1,enabled:!0,fields:[{id:"user_id",label:"用户ID",key:"user_id",type:"text",description:"系统唯一标识",visibility:"visible",sensitive:!1,editable:"readonly"},{id:"avatar",label:"头像",key:"avatar",type:"profile",description:"用户头像图片",visibility:"visible",sensitive:!1,editable:"user"},{id:"display_name",label:"姓名（显示名）",key:"display_name",type:"text",description:"用户显示名称",visibility:"visible",sensitive:!1,editable:"user",required:!0},{id:"gender",label:"性别",key:"gender",type:"select",description:"用户性别",visibility:"visible",sensitive:!0,editable:"user",options:["女","男","其他","不透露"]},{id:"nationality",label:"国籍/地区",key:"nationality",type:"text",preset:"country",description:"用户国籍或地区",visibility:"visible",sensitive:!0,editable:"user"},{id:"phone",label:"手机号",key:"phone",type:"text",preset:"phone",description:"手机号码（E.164格式）",visibility:"visible",sensitive:!0,editable:"admin",validation:{pattern:"^\\+?[1-9]\\d{1,14}$"}},{id:"email",label:"邮箱号",key:"email",type:"text",preset:"email",description:"电子邮箱地址",visibility:"visible",sensitive:!0,editable:"admin",validation:{pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"}}]},{id:"optional",name:"可开启字段",description:"按业务需要打开的字段",order:2,enabled:!0,fields:[{id:"birthday",label:"生日",key:"birthday",type:"date",description:"用户生日",visibility:"hidden",sensitive:!0,editable:"user"},{id:"city",label:"居住城市",key:"city",type:"text",preset:"city",description:"当前居住城市",visibility:"hidden",sensitive:!1,editable:"user"},{id:"zodiac",label:"星座",key:"zodiac",type:"select",description:"星座信息",visibility:"hidden",sensitive:!1,editable:"user",options:["白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座","水瓶座","双鱼座"]},{id:"industry",label:"行业",key:"industry",type:"text",description:"所属行业",visibility:"hidden",sensitive:!1,editable:"user"},{id:"occupation",label:"职业",key:"occupation",type:"text",description:"职业信息",visibility:"hidden",sensitive:!1,editable:"user"},{id:"skills",label:"技能",key:"skills",type:"tags",description:"技能标签",visibility:"hidden",sensitive:!1,editable:"user"},{id:"address",label:"收件地址",key:"address",type:"textarea",description:"详细收件地址",visibility:"hidden",sensitive:!0,editable:"user"},{id:"interests",label:"兴趣爱好",key:"interests",type:"tags",description:"兴趣爱好标签",visibility:"hidden",sensitive:!1,editable:"user"},{id:"marital_status",label:"婚姻状况",key:"marital_status",type:"select",description:"婚姻状况",visibility:"hidden",sensitive:!0,editable:"user",options:["未婚","已婚","离异","丧偶","不便透露"]},{id:"bio",label:"个人介绍",key:"bio",type:"richtext",description:"个人介绍",visibility:"hidden",sensitive:!1,editable:"user"},{id:"signature",label:"个人签名",key:"signature",type:"text",description:"个人签名",visibility:"hidden",sensitive:!1,editable:"user"},{id:"job_title",label:"职称",key:"job_title",type:"text",description:"职称信息",visibility:"hidden",sensitive:!1,editable:"user"}]},{id:"experience",name:"个人经历字段",description:"支持自定义类型的经历信息",order:3,enabled:!0,fields:[{id:"work_experience",label:"工作经历",key:"work_experience",type:"experience",description:"工作经历信息",visibility:"visible",sensitive:!1,editable:"user"},{id:"education_experience",label:"学历经历",key:"education_experience",type:"experience",description:"教育经历信息",visibility:"visible",sensitive:!1,editable:"user"},{id:"project_experience",label:"项目经历",key:"project_experience",type:"experience",description:"项目经历信息",visibility:"visible",sensitive:!1,editable:"user"}]},{id:"education",name:"教育扩展",description:"面向教育/培训/继续教育场景",order:4,enabled:!1,fields:[{id:"student_id",label:"学号",key:"student_id",type:"text",description:"学生学号",visibility:"visible",sensitive:!1,editable:"admin"},{id:"campus_grade_class",label:"校区/年级/班级",key:"campus_grade_class",type:"text",description:"校区年级班级信息",visibility:"visible",sensitive:!1,editable:"admin"},{id:"enrollment_status",label:"学籍状态",key:"enrollment_status",type:"select",description:"当前学籍状态",visibility:"visible",sensitive:!1,editable:"admin",options:["在读","休学","毕业","退学"]},{id:"advisor",label:"导师/班主任",key:"advisor",type:"text",description:"指导老师信息",visibility:"visible",sensitive:!1,editable:"admin"},{id:"guardian",label:"监护人",key:"guardian",type:"textarea",description:"监护人信息",visibility:"hidden",sensitive:!0,editable:"admin"},{id:"learning_goal",label:"学习目标",key:"learning_goal",type:"textarea",description:"学习目标描述",visibility:"visible",sensitive:!1,editable:"user"}]},{id:"social_binding",name:"社交绑定",description:"第三方账号绑定",order:5,enabled:!0,fields:[{id:"wechat_openid",label:"微信",key:"wechat_openid",type:"text",description:"微信OpenID/UnionID",visibility:"hidden",sensitive:!0,editable:"readonly"},{id:"weibo_userid",label:"微博",key:"weibo_userid",type:"text",description:"微博用户ID",visibility:"hidden",sensitive:!0,editable:"readonly"}]},{id:"user_dynamics",name:"用户动态",description:"用户行为和系统动态记录",order:6,enabled:!0,fields:[{id:"dynamic_id",label:"动态ID",key:"dynamic_id",type:"text",description:"动态记录唯一标识",visibility:"system_only",sensitive:!1,editable:"readonly"},{id:"dynamic_type",label:"动态类型",key:"dynamic_type",type:"select",description:"动态分类",visibility:"visible",sensitive:!1,editable:"readonly",options:["系统","行为","记录"]}]},{id:"event_records",name:"事件记录",description:"与外部AI系统联动的事件记录",order:7,enabled:!0,fields:[{id:"event_id",label:"事件ID",key:"event_id",type:"text",description:"事件唯一标识",visibility:"system_only",sensitive:!1,editable:"readonly"},{id:"event_type",label:"事件类型",key:"event_type",type:"select",description:"事件分类",visibility:"visible",sensitive:!1,editable:"readonly",options:["定时","触发"]}]},{id:"tags_profile",name:"标签画像",description:"等级/偏好/奖章管理",order:8,enabled:!0,fields:[{id:"current_level",label:"当前等级",key:"current_level",type:"select",description:"用户等级",visibility:"visible",sensitive:!1,editable:"admin",options:["青铜","白银","黄金","铂金","钻石"]},{id:"preference_tags",label:"偏好标签",key:"preference_tags",type:"tags",description:"用户偏好标签",visibility:"hidden",sensitive:!1,editable:"admin"}]},{id:"identity_verification",name:"实名认证",description:"身份认证相关字段",order:9,enabled:!0,fields:[{id:"id_card_auth",label:"身份证认证",key:"id_card_auth",type:"identity_verification",description:"身份证认证状态",visibility:"hidden",sensitive:!0,editable:"admin"},{id:"face_auth",label:"人脸认证",key:"face_auth",type:"identity_verification",description:"人脸认证状态",visibility:"hidden",sensitive:!0,editable:"admin"}]},{id:"points_consumption",name:"积分消费",description:"积分和虚拟货币管理",order:10,enabled:!0,fields:[{id:"current_points",label:"当前积分",key:"current_points",type:"number",description:"用户当前积分",visibility:"visible",sensitive:!1,editable:"readonly"},{id:"current_balance",label:"当前余额",key:"current_balance",type:"number",description:"虚拟钱包余额",visibility:"hidden",sensitive:!0,editable:"readonly"}]}],eY=/^[a-zA-Z_][a-zA-Z0-9_]{0,39}$/,eG={text:(0,i.jsx)(ef.A,{className:"size-4"}),textarea:(0,i.jsx)(m.A,{className:"size-4"}),number:(0,i.jsx)(ej.A,{className:"size-4"}),select:(0,i.jsx)(en.A,{className:"size-4"}),multiselect:(0,i.jsx)(ey.A,{className:"size-4"}),boolean:(0,i.jsx)(eN.A,{className:"size-4"}),date:(0,i.jsx)(y.A,{className:"size-4"}),time:(0,i.jsx)(eC.A,{className:"size-4"}),tags:(0,i.jsx)(B.A,{className:"size-4"}),image:(0,i.jsx)(A.A,{className:"size-4"}),profile:(0,i.jsx)(ew.A,{className:"size-4"}),video:(0,i.jsx)(z.A,{className:"size-4"}),multivideo:(0,i.jsx)(z.A,{className:"size-4"}),file:(0,i.jsx)(ek.A,{className:"size-4"}),richtext:(0,i.jsx)(m.A,{className:"size-4"}),percent:(0,i.jsx)(ez.A,{className:"size-4"}),barcode:(0,i.jsx)(eS.A,{className:"size-4"}),checkbox:(0,i.jsx)(en.A,{className:"size-4"}),cascader:(0,i.jsx)(eA.A,{className:"size-4"}),relation_one:(0,i.jsx)(eI.A,{className:"size-4"}),relation_many:(0,i.jsx)(e_.A,{className:"size-4"}),experience:(0,i.jsx)(eD.A,{className:"size-4"}),progress:(0,i.jsx)(ez.A,{className:"size-4"}),datetime:(0,i.jsx)(eC.A,{className:"size-4"}),daterange:(0,i.jsx)(y.A,{className:"size-4"}),multidate:(0,i.jsx)(y.A,{className:"size-4"}),meta_items:(0,i.jsx)(eA.A,{className:"size-4"}),multiimage:(0,i.jsx)(A.A,{className:"size-4"}),identity_verification:(0,i.jsx)(ew.A,{className:"size-4"}),other_verification:(0,i.jsx)(ew.A,{className:"size-4"})},eZ={text:"String",textarea:"String",number:"Number",select:"String",multiselect:"String[]",boolean:"Boolean",date:"Date",time:"Time",tags:"String[]",image:"Image",profile:"Profile",video:"Video",file:"File",richtext:"RichText",percent:"Number",barcode:"String",checkbox:"Boolean",cascader:"String",relation_one:"Relation(one)",relation_many:"Relation(many)",experience:"Experience[]",progress:"Number|Items",datetime:"Datetime",daterange:"DateRange",multidate:"Date[]",meta_items:"Items[]",multiimage:"Image[]",multivideo:"Video[]",identity_verification:"String",other_verification:"String"},eX={city:(0,i.jsx)(eM.A,{className:"size-4"}),country:(0,i.jsx)(eF.A,{className:"size-4"}),phone:(0,i.jsx)(eE.A,{className:"size-4"}),email:(0,i.jsx)(eL.A,{className:"size-4"}),url:(0,i.jsx)(D.A,{className:"size-4"}),map:(0,i.jsx)(eM.A,{className:"size-4"}),currency:(0,i.jsx)(eP.A,{className:"size-4"}),rating:(0,i.jsx)(E.A,{className:"size-4"}),percent:(0,i.jsx)(ez.A,{className:"size-4"}),progress:(0,i.jsx)(L.A,{className:"size-4"}),user_select:(0,i.jsx)(g.A,{className:"size-4"}),constellation:(0,i.jsx)(eT.A,{className:"size-4"}),skills:(0,i.jsx)(h.A,{className:"size-4"}),work_experience:(0,i.jsx)(eD.A,{className:"size-4"}),education_experience:(0,i.jsx)(b.A,{className:"size-4"}),certificate_experience:(0,i.jsx)(eO.A,{className:"size-4"}),custom_experience:(0,i.jsx)(h.A,{className:"size-4"}),identity_verification:(0,i.jsx)(eq.A,{className:"size-4"}),other_verification:(0,i.jsx)(u.A,{className:"size-4"}),barcode:(0,i.jsx)(eS.A,{className:"size-4"}),cascader:(0,i.jsx)(eA.A,{className:"size-4"}),relation:(0,i.jsx)(eI.A,{className:"size-4"})},eQ=[{key:"user_select",label:"选择用户",desc:"关联至用户列表",baseType:"relation_one"},{key:"city",label:"城市（省/市/区）",desc:"支持是否显示区县",baseType:"text"},{key:"country",label:"国家/地区",desc:"全球国家选择",baseType:"select"},{key:"phone",label:"手机",desc:"格式校验",baseType:"text"},{key:"email",label:"邮箱",desc:"格式校验",baseType:"text"},{key:"url",label:"URL 链接",desc:"格式校验",baseType:"text"},{key:"map",label:"地图位置",desc:"坐标/手动输入",baseType:"text"},{key:"currency",label:"货币金额",desc:"币种选择",baseType:"number"},{key:"rating",label:"评分（星级）",desc:"最大星数",baseType:"number"},{key:"percent",label:"百分比",desc:"0-100",baseType:"percent"},{key:"progress",label:"进度",desc:"进度条显示",baseType:"number"},{key:"constellation",label:"星座",desc:"12星座选择",baseType:"select"},{key:"skills",label:"技能",desc:"多技能选择",baseType:"multiselect"},{key:"work_experience",label:"工作经历",desc:"职位、公司、时间等",baseType:"experience"},{key:"education_experience",label:"教育经历",desc:"学校、专业、学历等",baseType:"experience"},{key:"certificate_experience",label:"证书资质",desc:"证书、颁发机构等",baseType:"experience"},{key:"custom_experience",label:"其他经历",desc:"自定义经历名称和事件",baseType:"experience"},{key:"identity_verification",label:"实名认证",desc:"姓名、身份证号、身份证照片",baseType:"text"},{key:"other_verification",label:"其他认证",desc:"自定义认证内容，支持文字和图片",baseType:"text"},{key:"barcode",label:"条码",desc:"二维码、条形码等",baseType:"text"},{key:"cascader",label:"级联选项",desc:"多级分类选择",baseType:"cascader"},{key:"relation",label:"关联",desc:"关联其他表的数据",baseType:"relation_one"}];function e0(e){return"zh"===e?eQ:[{key:"user_select",label:"User Selection",desc:"Link to user list",baseType:"relation_one"},{key:"city",label:"City (Province/City/District)",desc:"Support district display",baseType:"text"},{key:"country",label:"Country/Region",desc:"Global country selection",baseType:"select"},{key:"phone",label:"Phone",desc:"Format validation",baseType:"text"},{key:"email",label:"Email",desc:"Format validation",baseType:"text"},{key:"url",label:"URL Link",desc:"Format validation",baseType:"text"},{key:"map",label:"Map Location",desc:"Coordinates/manual input",baseType:"text"},{key:"currency",label:"Currency Amount",desc:"Currency selection",baseType:"number"},{key:"rating",label:"Rating (Stars)",desc:"Maximum stars",baseType:"number"},{key:"percent",label:"Percentage",desc:"0-100",baseType:"percent"},{key:"progress",label:"Progress",desc:"Progress bar display",baseType:"number"},{key:"constellation",label:"Constellation",desc:"12 zodiac signs",baseType:"select"},{key:"skills",label:"Skills",desc:"Multiple skills selection",baseType:"multiselect"},{key:"work_experience",label:"Work Experience",desc:"Position, company, time, etc.",baseType:"experience"},{key:"education_experience",label:"Education Experience",desc:"School, major, degree, etc.",baseType:"experience"},{key:"certificate_experience",label:"Certificates",desc:"Certificate, issuing authority, etc.",baseType:"experience"},{key:"custom_experience",label:"Custom Experience",desc:"Custom experience name and events",baseType:"experience"},{key:"identity_verification",label:"Identity Verification",desc:"Name, ID number, ID card photos",baseType:"text"},{key:"other_verification",label:"Other Verification",desc:"Custom verification content, supports text and images",baseType:"text"},{key:"barcode",label:"Barcode",desc:"QR code, barcode, etc.",baseType:"text"},{key:"cascader",label:"Cascader",desc:"Multi-level category selection",baseType:"cascader"},{key:"relation",label:"Relation",desc:"Link to other table data",baseType:"relation_one"}]}function e1(e){var l,a,s,r,d,c,v,b,m,h;let{open:x=!1,onOpenChange:g,app:f,canEdit:j=!0,existingKeys:y=[],onSubmit:N,i18n:C,typeNames:w,mode:k="create",initialDraft:S,submitText:I,currentDir:_}=e,{locale:D}=(0,n.Y)(),[M,F]=(0,t.useState)(""),[E,L]=(0,t.useState)(""),[P,T]=(0,t.useState)("text"),[R,V]=(0,t.useState)(!1),[$,B]=(0,t.useState)(!1),[U,K]=(0,t.useState)(!0),[H,W]=(0,t.useState)(!1),[Y,G]=(0,t.useState)(""),[Z,X]=(0,t.useState)(""),[Q,ee]=(0,t.useState)(""),[el,ea]=(0,t.useState)([]),[ei,et]=(0,t.useState)([]),[es,en]=(0,t.useState)(!1),[er,ed]=(0,t.useState)(!1),[ec,eo]=(0,t.useState)([]),[eu,em]=(0,t.useState)(!1),[ef,ej]=(0,t.useState)({moduleId:"",targetDirId:"",displayFieldKey:"",allowMultiple:!1,bidirectional:!1,allowDuplicate:!1,filterExpr:"",hiddenFieldKeys:[]}),[ey,eN]=(0,t.useState)(null),[eC,ek]=(0,t.useState)(null),[ez,eS]=(0,t.useState)("single"),[eA,eI]=(0,t.useState)(!1),[e_,eD]=(0,t.useState)(!1),[eM,eF]=(0,t.useState)({allowedCategories:["技术","运营","管理"],maxSkills:void 0,showLevel:!1,customCategories:[{id:"default_tech",name:"技术"},{id:"default_operation",name:"运营"},{id:"default_management",name:"管理"}],customSkills:[]}),[eE,eL]=(0,t.useState)({aggregation:(null==S?void 0:null===(l=S.progressConfig)||void 0===l?void 0:l.aggregation)||"weightedAverage",maxValue:(null==S?void 0:null===(a=S.progressConfig)||void 0===a?void 0:a.maxValue)||100,showPercentage:null===(m=null==S?void 0:null===(s=S.progressConfig)||void 0===s?void 0:s.showPercentage)||void 0===m||m,showProgressBar:null===(h=null==S?void 0:null===(r=S.progressConfig)||void 0===r?void 0:r.showProgressBar)||void 0===h||h,defaultItems:(null==S?void 0:null===(d=S.progressConfig)||void 0===d?void 0:d.defaultItems)||[],showHelp:(null==S?void 0:null===(c=S.progressConfig)||void 0===c?void 0:c.showHelp)||!1,helpText:(null==S?void 0:null===(v=S.progressConfig)||void 0===v?void 0:v.helpText)||""}),[eP,eT]=(0,t.useState)({showHelp:!1,helpText:"",fields:[],defaultItemLabels:[],allowAddInForm:!0,aggregationMode:"avg"}),[eO,eq]=(0,t.useState)({experienceName:"",eventName:""}),[eB,eK]=(0,t.useState)({requireName:!0,requireIdNumber:!0,requireFrontPhoto:!0,requireBackPhoto:!0}),[eH,eQ]=(0,t.useState)({textFields:[],imageFields:[]}),[e1,e2]=(0,t.useState)({certificateNames:[],issuingAuthority:"",allowCustomCertificateName:!1,allowCustomIssuingAuthority:!1}),[e3,e4]=(0,t.useState)({multiple:!1,defaultImage:""}),[e5,e6]=(0,t.useState)({multiple:!1,defaultVideo:""}),[e7,e8]=(0,t.useState)({checkedLabel:"是",uncheckedLabel:"否",style:"switch"}),[e9,le]=(0,t.useState)({minSelection:void 0,maxSelection:void 0}),ll=async()=>{if(!(null==f?void 0:f.id)||!(null==_?void 0:_.id)){console.warn("⚠️ 缺少必要参数，跳过字段分类获取:",{appId:null==f?void 0:f.id,dirId:null==_?void 0:_.id}),eo([]);return}try{var e;em(!0),console.log("\uD83D\uDD0D 获取字段分类参数:",{appId:f.id,dirId:_.id});let l=await eb.BW.getFieldCategories({applicationId:f.id,directoryId:_.id,enabled:!0});console.log("\uD83D\uDCE1 字段分类API响应:",l),l.success&&(null===(e=l.data)||void 0===e?void 0:e.categories)?eo(l.data.categories):(console.error("获取字段分类失败:",l.error),eo([]))}catch(e){console.error("获取字段分类出错:",e),e instanceof Error&&(e.message.includes("Failed to fetch")?console.warn("\uD83C\uDF10 网络连接问题，使用默认字段分类"):console.error("❌ API调用失败:",e.message)),eo([])}finally{em(!1)}};(0,t.useEffect)(()=>{if(x){if(ll(),"edit"===k&&S){var e,l,a,i,t;F(null!==(e=S.label)&&void 0!==e?e:""),L(null!==(l=S.key)&&void 0!==l?l:""),T(null!==(a=S.type)&&void 0!==a?a:"text"),V(!!S.required),B(!!S.unique),K(!1!==S.showInList),W(!!S.isDefault),G(null!==(i=S.categoryId)&&void 0!==i?i:""),ea(S.options?[...S.options]:[]),ee(S.defaultRaw||""),X(S.relationTargetId||""),ej(e=>({...e,moduleId:S.relationModuleId||"",targetDirId:S.relationTargetId||"",displayFieldKey:S.relationDisplayFieldKey||"",allowMultiple:"relation_many"===S.type,bidirectional:!!S.relationBidirectional,allowDuplicate:!!S.relationAllowDuplicate})),ek(null!==(t=S.preset)&&void 0!==t?t:null),eS(S.dateMode||"single"),et(S.cascaderOptions?JSON.parse(JSON.stringify(S.cascaderOptions)):[]),eI(!!S.userAllowMultiple),eD(!!S.userNotifyNew),en(!1),eN(null);let s={allowedCategories:["技术","运营","管理"],maxSkills:void 0,showLevel:!1,customCategories:[{id:"default_tech",name:"技术"},{id:"default_operation",name:"运营"},{id:"default_management",name:"管理"}],customSkills:[]};eF(S.skillsConfig?{...s,...S.skillsConfig}:s);let n={aggregation:"weightedAverage",maxValue:100,showPercentage:!0,showProgressBar:!0,defaultItems:[{key:"progress",label:"zh"===D?"总进度":"Progress",status:"doing",weight:1}]};eL(S.progressConfig?{...n,...S.progressConfig}:n);let r={experienceName:"",eventName:""};eq(S.customExperienceConfig?{...r,...S.customExperienceConfig}:r);let d={requireName:!0,requireIdNumber:!0,requireFrontPhoto:!0,requireBackPhoto:!0};eK(S.identityVerificationConfig?{...d,...S.identityVerificationConfig}:d);let c={certificateNames:[],issuingAuthority:"",allowCustomCertificateName:!1,allowCustomIssuingAuthority:!1};e2(S.certificateConfig?{...c,...S.certificateConfig}:c);let o={textFields:[],imageFields:[]};eQ(S.otherVerificationConfig?{...o,...S.otherVerificationConfig}:o);let u={multiple:!1,defaultImage:""};e4(S.imageConfig?{...u,...S.imageConfig}:u);let v={multiple:!1,defaultVideo:""};e6(S.videoConfig?{...v,...S.videoConfig}:v);let b={checkedLabel:"是",uncheckedLabel:"否",style:"switch"};e8(S.booleanConfig?{...b,...S.booleanConfig}:b);let m={minSelection:void 0,maxSelection:void 0};le(S.multiselectConfig?{...m,...S.multiselectConfig}:m);let h={showHelp:!1,helpText:"",fields:[],defaultItemLabels:[],allowAddInForm:!0,aggregationMode:"avg"};eT(S.metaItemsConfig?{...h,...S.metaItemsConfig}:h);return}F(""),L(""),T("text"),V(!1),B(!1),K(!0),W(!1),G(""),X(""),ee(""),ea([]),et([]),en(!1),ek(null),eS("single"),eI(!1),eD(!1),ej({moduleId:"",targetDirId:"",displayFieldKey:"",allowMultiple:!1,bidirectional:!1,allowDuplicate:!1,filterExpr:"",hiddenFieldKeys:[]}),eF({allowedCategories:["技术","运营","管理"],maxSkills:void 0,showLevel:!1,customCategories:[{id:"default_tech",name:"技术"},{id:"default_operation",name:"运营"},{id:"default_management",name:"管理"}],customSkills:[]}),e2({certificateNames:[],issuingAuthority:"",allowCustomCertificateName:!1,allowCustomIssuingAuthority:!1}),eQ({textFields:[],imageFields:[]}),e4({multiple:!1,defaultImage:""}),e6({multiple:!1,defaultVideo:""}),e8({checkedLabel:"是",uncheckedLabel:"否",style:"switch"}),le({minSelection:void 0,maxSelection:void 0}),eT({showHelp:!1,helpText:"",fields:[],defaultItemLabels:[],allowAddInForm:!0,aggregationMode:"avg"})}},[x,k,S]);let la=()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{var l;let a=null===(l=e.target.files)||void 0===l?void 0:l[0];if(a){let e=new FileReader;e.onload=e=>{var l;let a=null===(l=e.target)||void 0===l?void 0:l.result;e4(e=>({...e,defaultImage:a}))},e.readAsDataURL(a)}},e.click()},li=()=>{e4(e=>({...e,defaultImage:""}))};function lt(){ea(e=>[...e,""])}function ls(e,l){ea(a=>{let i=[...a];return i[e]=l,i})}function ln(e){ea(l=>l.filter((l,a)=>a!==e))}function lr(e){ea(l=>{if(null===ey||ey===e)return l;let a=[...l],[i]=a.splice(ey,1);return a.splice(e,0,i),eN(e),a})}function ld(){eN(null)}(0,t.useEffect)(()=>{M&&!E&&L(M.toLowerCase().replace(/\s+/g,"_").replace(/[^\w\u4e00-\u9fa5]/g,"")+"_"+Math.random().toString(36).slice(2,6))},[M]);let lc=(0,t.useMemo)(()=>eY.test(E)?y.includes(E)?C.keyDuplicate:"":C.keyInvalid,[E,y,C.keyInvalid,C.keyDuplicate]),lo=(0,t.useMemo)(()=>!!M.trim()&&!lc&&("relation_one"!==P&&"relation_many"!==P||"user_select"===eC||!!ef.targetDirId)&&("cascader"!==P||0!==((null==ei?void 0:ei.length)||0))&&j,[M,lc,P,j,ei,eC,ef.targetDirId]);return(0,t.useEffect)(()=>{if(f&&"user_select"===eC){var e;let l=(null===(e=f.modules.flatMap(e=>e.directories.map(l=>({m:e.name,d:l}))).find(e=>"table"===e.d.type&&/用户列表/.test(e.d.name)))||void 0===e?void 0:e.d.id)||"";X(l),ej(e=>{var a;return{...e,moduleId:(null===(a=f.modules.find(e=>e.directories.some(e=>e.id===l)))||void 0===a?void 0:a.id)||"",targetDirId:l}})}},[eC,f]),(0,t.useEffect)(()=>{"user_select"===eC&&T(eA?"relation_many":"relation_one")},[eC,eA]),(0,t.useEffect)(()=>{eC&&["work_experience","education_experience","project_experience","certificate_experience"].includes(eC)&&T("experience")},[eC]),(0,t.useEffect)(()=>{"constellation"===eC&&(T("select"),ea(["白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座","水瓶座","双鱼座"]))},[eC]),(0,t.useEffect)(()=>{"skills"===eC&&(T("multiselect"),ea([]))},[eC]),(0,t.useEffect)(()=>{"barcode"===eC&&T("text"),"cascader"===eC&&T("cascader"),"relation"===eC&&T("relation_one")},[eC]),(0,i.jsx)(eh.lG,{open:x,onOpenChange:g,children:(0,i.jsxs)(eh.Cf,{className:"sm:max-w-[1040px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"add-field-description",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:"edit"===k?"zh"===D?"编辑字段":"Edit Field":C.title})}),(0,i.jsx)("div",{id:"add-field-description",className:"sr-only",children:"edit"===k?"Modify field properties and configuration":"Create a new field by selecting a type and configuring its properties"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[300px_1fr] gap-4",children:[(0,i.jsx)("aside",{className:"rounded-xl border border-white/60 bg-white/60 p-2 max-h-[70vh] overflow-auto scrollbar-thin scrollbar-thumb-slate-200",children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"px-2 pb-1 text-xs text-slate-500",children:"zh"===D?"基础字段":"Basic Fields"}),(0,i.jsx)("div",{className:"space-y-2",children:["text","textarea","number","select","multiselect","boolean","checkbox","date","time","tags","image","video","file","richtext"].map(e=>(0,i.jsxs)("button",{type:"button",onClick:()=>{H||(T(e),ek(null))},disabled:H,className:(0,o.cn)("w-full flex items-center gap-2 rounded-lg border px-3 py-2 text-left transition",H?"bg-gray-100 cursor-not-allowed opacity-60":"bg-white/70 hover:bg-white/90",P!==e||eC||H?"border-white/60":"outline outline-2 outline-blue-200 border-blue-200"),title:H?"zh"===D?"默认字段类型不允许修改":"Default field type cannot be modified":w[e]||e,children:[eG[e],(0,i.jsx)("span",{className:"text-sm",children:w[e]||e})]},e))})]}),(0,i.jsxs)("div",{className:"pt-2",children:[(0,i.jsx)("div",{className:"px-2 pb-1 text-xs text-slate-500",children:"zh"===D?"业务字段":"Business Fields"}),(0,i.jsxs)("div",{className:"space-y-2",children:[["profile","meta_items"].map(e=>(0,i.jsxs)("button",{type:"button",onClick:()=>{H||(T(e),ek(null))},disabled:H,className:(0,o.cn)("w-full flex items-center gap-2 rounded-lg border px-3 py-2 text-left transition",H?"bg-gray-100 cursor-not-allowed opacity-60":"bg-white/70 hover:bg-white/90",P!==e||eC||H?"border-white/60":"outline outline-2 outline-blue-200 border-blue-200"),title:H?"zh"===D?"默认字段类型不允许修改":"Default field type cannot be modified":w[e]||e,children:[eG[e],(0,i.jsx)("span",{className:"text-sm",children:w[e]||e})]},e)),e0(D).map(e=>(0,i.jsxs)("button",{type:"button",onClick:()=>{H||(ek(e.key),T(e.baseType))},disabled:H,className:(0,o.cn)("w-full flex items-center gap-2 rounded-lg border px-3 py-2 text-left transition",H?"bg-gray-100 cursor-not-allowed opacity-60":"bg-white/70 hover:bg-white/90",eC!==e.key||H?"border-white/60":"outline outline-2 outline-blue-200 border-blue-200"),title:H?"zh"===D?"默认字段类型不允许修改":"Default field type cannot be modified":e.label,children:[eX[e.key],(0,i.jsxs)("div",{className:"flex-1 text-left",children:[(0,i.jsx)("div",{className:"text-sm",children:e.label}),e.desc&&(0,i.jsx)("div",{className:"text-xs text-slate-500",children:e.desc})]})]},e.key))]})]})]})}),(0,i.jsxs)("section",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.displayName}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:M,onChange:e=>F(e.target.value),placeholder:C.displayNamePh,className:"bg-white/80"}),"cascader"===P&&(0,i.jsxs)(q.$,{type:"button",variant:"secondary",className:"gap-1",onClick:()=>en(!0),title:"zh"===D?"配置级联选项":"Configure Cascader Options",children:[(0,i.jsx)(p.A,{className:"size-4"}),"zh"===D?"配置级联选项":"Configure Cascader"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.key}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)(ex.p,{value:E,onChange:e=>L(e.target.value),placeholder:C.keyPh,disabled:H,className:(0,o.cn)("bg-white/80",lc&&"border-red-300",H&&"bg-gray-100 cursor-not-allowed")}),lc&&(0,i.jsx)("div",{className:"text-xs text-red-600",children:lc}),H&&(0,i.jsxs)("div",{className:"text-xs text-amber-600 flex items-center gap-1",children:[(0,i.jsx)(u.A,{className:"size-3"}),"zh"===D?"默认字段的标识符不允许修改":"Default field key cannot be modified"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:"zh"===D?"字段分类":"Field Category"}),(0,i.jsxs)(eg.l6,{value:Y||"none",onValueChange:e=>G("none"===e?"":e),children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===D?"选择字段分类":"Select field category"})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:"无分类"}),eu?(0,i.jsx)(eg.eb,{value:"loading",disabled:!0,children:"zh"===D?"加载中...":"Loading..."}):ec.length>0?ec.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id)):eW.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.dataType}),(0,i.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm rounded-full border border-white/60 bg-white/80 px-2 py-0.5",children:eZ[P]}),eC&&(0,i.jsxs)("span",{className:"text-xs rounded-full border border-blue-200 bg-blue-50 text-blue-700 px-2 py-0.5",children:["zh"===D?"预设：":"Preset: ",null===(b=e0(D).find(e=>e.key===eC))||void 0===b?void 0:b.label]}),Y&&(0,i.jsx)("span",{className:"text-xs rounded-full border border-green-200 bg-green-50 text-green-700 px-2 py-0.5",children:(()=>{let e=ec.find(e=>e.id===Y);return e?e.name:function(e){let l=eW.find(l=>l.id===e);return l?l.name:"未分类"}(Y)})()})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:C.required}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:C.requiredHint})]}),(0,i.jsx)(ep.d,{checked:R,onCheckedChange:V})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:C.unique}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:C.uniqueHint})]}),(0,i.jsx)(ep.d,{checked:$,onCheckedChange:B})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:C.showInList}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:C.showInListHint})]}),(0,i.jsx)(ep.d,{checked:U,onCheckedChange:K})]})]}),"date"===P&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:"zh"===D?"日期模式":"Date Mode"}),(0,i.jsxs)(eg.l6,{value:ez,onValueChange:e=>eS(e),children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===D?"选择模式":"Select Mode"})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"single",children:"zh"===D?"单个日期":"Single Date"}),(0,i.jsx)(eg.eb,{value:"multiple",children:"zh"===D?"多个日期":"Multiple Dates"}),(0,i.jsx)(eg.eb,{value:"range",children:"zh"===D?"日期区间":"Date Range"})]})]})]}),"image"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50/50 p-4 space-y-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-800",children:"zh"===D?"图片字段配置":"Image Field Configuration"}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"zh"===D?"多图上传":"Multiple Images"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"开启后支持上传多张图片":"Enable to allow multiple image uploads"})]}),(0,i.jsx)(ep.d,{checked:e3.multiple,onCheckedChange:e=>e4(l=>({...l,multiple:e}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-sm text-gray-700",children:"zh"===D?"默认图片":"Default Image"}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"zh"===D?"可选：为字段设置一个默认图片":"Optional: Set a default image for this field"}),e3.defaultImage?(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("img",{src:e3.defaultImage,alt:"zh"===D?"默认图片":"Default image",className:"w-24 h-24 object-cover rounded border"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:li,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 w-24 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(A.A,{className:"h-8 w-8 text-gray-400 mb-1"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:la,className:"gap-1 text-xs",children:[(0,i.jsx)(eV.A,{className:"h-3 w-3"}),"zh"===D?"上传":"Upload"]})]})]}),(0,i.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,i.jsx)("div",{className:"text-xs text-gray-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"上传模式：":"Upload Mode: ",(0,i.jsx)("span",{className:e3.multiple?"text-blue-600":"text-green-600",children:e3.multiple?"zh"===D?"多图":"Multiple":"zh"===D?"单图":"Single"})]}),(0,i.jsxs)("div",{children:["zh"===D?"默认图片：":"Default Image: ",(0,i.jsx)("span",{className:e3.defaultImage?"text-green-600":"text-gray-400",children:e3.defaultImage?"zh"===D?"已设置":"Set":"zh"===D?"未设置":"Not set"})]})]})]})]}),"profile"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50/50 p-4 space-y-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-800",children:"zh"===D?"标识字段配置":"Profile Field Configuration"}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"zh"===D?"多图上传":"Multiple Images"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"开启后支持上传多张标识图片":"Enable to allow multiple profile image uploads"})]}),(0,i.jsx)(ep.d,{checked:e3.multiple,onCheckedChange:e=>e4(l=>({...l,multiple:e}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-sm text-gray-700",children:"zh"===D?"默认标识":"Default Profile"}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"zh"===D?"可选：为字段设置一个默认标识图片":"Optional: Set a default profile image for this field"}),e3.defaultImage?(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("img",{src:e3.defaultImage,alt:"zh"===D?"默认标识":"Default profile",className:"w-16 h-16 object-cover rounded-full border"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 rounded-full",onClick:li,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-16 w-16 border-2 border-dashed border-gray-300 rounded-full",children:[(0,i.jsx)(ew.A,{className:"h-6 w-6 text-gray-400 mb-1"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:la,className:"gap-1 text-xs",children:[(0,i.jsx)(eV.A,{className:"h-3 w-3"}),"zh"===D?"上传":"Upload"]})]})]}),(0,i.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,i.jsx)("div",{className:"text-xs text-gray-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"上传模式：":"Upload Mode: ",(0,i.jsx)("span",{className:e3.multiple?"text-blue-600":"text-green-600",children:e3.multiple?"zh"===D?"多图":"Multiple":"zh"===D?"单图":"Single"})]}),(0,i.jsxs)("div",{children:["zh"===D?"显示样式：":"Display Style: ",(0,i.jsx)("span",{className:"text-blue-600",children:"zh"===D?"圆形标识":"Circular Profile"})]}),(0,i.jsxs)("div",{children:["zh"===D?"默认标识：":"Default Profile: ",(0,i.jsx)("span",{className:e3.defaultImage?"text-green-600":"text-gray-400",children:e3.defaultImage?"zh"===D?"已设置":"Set":"zh"===D?"未设置":"Not set"})]})]})]})]}),"video"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50/50 p-4 space-y-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-800",children:"zh"===D?"视频字段配置":"Video Field Configuration"}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"zh"===D?"多视频上传":"Multiple Videos"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"开启后支持上传多个视频":"Enable to allow multiple video uploads"})]}),(0,i.jsx)(ep.d,{checked:e5.multiple,onCheckedChange:e=>e6(l=>({...l,multiple:e}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-sm text-gray-700",children:"zh"===D?"默认视频":"Default Video"}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"zh"===D?"可选：为字段设置一个默认视频":"Optional: Set a default video for this field"}),e5.defaultVideo?(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("video",{src:e5.defaultVideo,className:"w-32 h-24 object-cover rounded border",controls:!0,preload:"metadata"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{e6(e=>({...e,defaultVideo:""}))},children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 w-32 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(z.A,{className:"h-8 w-8 text-gray-400 mb-1"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="video/*",e.onchange=e=>{var l;let a=null===(l=e.target.files)||void 0===l?void 0:l[0];if(a){let e=new FileReader;e.onload=e=>{var l;let a=null===(l=e.target)||void 0===l?void 0:l.result;e6(e=>({...e,defaultVideo:a}))},e.readAsDataURL(a)}},e.click()},className:"gap-1 text-xs",children:[(0,i.jsx)(eV.A,{className:"h-3 w-3"}),"zh"===D?"上传":"Upload"]})]})]}),(0,i.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,i.jsx)("div",{className:"text-xs text-gray-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"上传模式：":"Upload Mode: ",(0,i.jsx)("span",{className:e5.multiple?"text-blue-600":"text-green-600",children:e5.multiple?"zh"===D?"多视频":"Multiple":"zh"===D?"单视频":"Single"})]}),(0,i.jsxs)("div",{children:["zh"===D?"默认视频：":"Default Video: ",(0,i.jsx)("span",{className:e5.defaultVideo?"text-green-600":"text-gray-400",children:e5.defaultVideo?"zh"===D?"已设置":"Set":"zh"===D?"未设置":"Not set"})]})]})]})]}),("relation_one"===P||"relation_many"===P)&&f&&"user_select"!==eC&&(0,i.jsx)("div",{className:"space-y-2",children:(0,i.jsx)(eJ,{app:f,value:ef,onChange:e=>{ej(l=>({...l,...e})),void 0!==e.targetDirId&&X(e.targetDirId||"")},onToggleMultiple:e=>{T(e?"relation_many":"relation_one")}})}),"user_select"===eC&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"zh"===D?"允许选择多个联系人":"Allow Multiple Contacts"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"开启后可选择多个系统用户":"Enable to select multiple system users"})]}),(0,i.jsx)(ep.d,{checked:eA,onCheckedChange:e=>eI(e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)("div",{className:"text-sm",children:"zh"===D?"允许向新插入的联系人发送通知":"Allow Notifications to New Contacts"}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"新增联系人后发送通知（示意）":"Send notification after adding new contact (demo)"})]}),(0,i.jsx)(ep.d,{checked:e_,onCheckedChange:e=>eD(e)})]})]}),"skills"===eC&&(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"zh"===D?"技能字段配置":"Skills Field Configuration"}),(0,i.jsxs)(q.$,{type:"button",variant:"secondary",size:"sm",className:"gap-1 text-xs",onClick:()=>ed(!0),children:[(0,i.jsx)(p.A,{className:"size-3"}),"zh"===D?"高级配置":"Advanced Config"]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"允许的技能分类":"Allowed Skill Categories"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:eM.customCategories.map(e=>(0,i.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[(0,i.jsx)("input",{type:"checkbox",checked:eM.allowedCategories.includes(e.name),onChange:l=>{l.target.checked?eF(l=>({...l,allowedCategories:[...l.allowedCategories,e.name]})):eF(l=>({...l,allowedCategories:l.allowedCategories.filter(l=>l!==e.name)}))},className:"rounded"}),e.name]},e.id))}),0===eM.allowedCategories.length&&(0,i.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"zh"===D?"未选择时允许所有分类":"Allow all categories when none selected"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"最大技能数量":"Maximum Skills Count"}),(0,i.jsx)(ex.p,{type:"number",min:1,max:50,value:eM.maxSkills||"",onChange:e=>eF(l=>({...l,maxSkills:e.target.value?Number(e.target.value):void 0})),placeholder:"zh"===D?"不限制":"No limit",className:"h-8 text-xs bg-white/80"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eM.showLevel,onCheckedChange:e=>eF(l=>({...l,showLevel:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"显示技能等级":"Show Skill Level"})]})]}),(eM.customCategories.length>0||eM.customSkills.length>0)&&(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-1",children:"zh"===D?"自定义配置":"Custom Configuration"}),(0,i.jsxs)("div",{className:"text-xs text-blue-600",children:[eM.customCategories.length>0&&(0,i.jsx)("div",{children:"zh"===D?"自定义分类：".concat(eM.customCategories.length," 个"):"Custom Categories: ".concat(eM.customCategories.length)}),eM.customSkills.length>0&&(0,i.jsx)("div",{children:"zh"===D?"自定义技能：".concat(eM.customSkills.length," 个"):"Custom Skills: ".concat(eM.customSkills.length)})]})]})]})]})}),"progress"===eC&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"进度字段配置":"Progress Field Configuration"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"聚合规则（展示用）":"Aggregation (for display)"}),(0,i.jsxs)(eg.l6,{value:eE.aggregation,onValueChange:e=>eL(l=>({...l,aggregation:e})),children:[(0,i.jsx)(eg.bq,{className:"h-8 text-xs bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===D?"请选择":"Select"})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"weightedAverage",children:"zh"===D?"加权平均":"Weighted Average"}),(0,i.jsx)(eg.eb,{value:"max",children:"zh"===D?"取最大值":"Max"}),(0,i.jsx)(eg.eb,{value:"min",children:"zh"===D?"取最小值":"Min"})]})]}),(0,i.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"zh"===D?"字段实际存储为多条进度 items，列表展示聚合值":"Field stores multiple progress items; list shows aggregated value"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-1",children:"zh"===D?"默认子进度":"Default Sub-Progress Items"}),(0,i.jsx)("div",{className:"space-y-2",children:(eE.defaultItems||[]).map((e,l)=>(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center",children:[(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80",value:e.label||"",onChange:e=>{let a=[...eE.defaultItems||[]];a[l]={...a[l],label:e.target.value,key:(e.target.value||"p".concat(l+1)).toString()},eL(e=>({...e,defaultItems:a}))},placeholder:"zh"===D?"名称":"Label"}),(0,i.jsx)("button",{type:"button",className:"text-xs text-red-600",onClick:()=>{let e=[...eE.defaultItems||[]];e.splice(l,1),eL(l=>({...l,defaultItems:e}))},children:"zh"===D?"删除":"Remove"})]},l))}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded border bg-white",onClick:()=>{var e,l;let a=[...eE.defaultItems||[],{key:"p".concat(((null===(e=eE.defaultItems)||void 0===e?void 0:e.length)||0)+1),label:"".concat("zh"===D?"子进度":"Item"," ").concat(((null===(l=eE.defaultItems)||void 0===l?void 0:l.length)||0)+1)}];eL(e=>({...e,defaultItems:a}))},children:"zh"===D?"新增子进度":"Add Sub-Progress"})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3 items-start",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eE.showHelp||!1,onCheckedChange:e=>eL(l=>({...l,showHelp:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"显示说明":"Show Help"})]}),eE.showHelp&&(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80 col-span-1",placeholder:"zh"===D?"输入说明文字（前台显示）":"Help text to show on detail",value:eE.helpText||"",onChange:e=>eL(l=>({...l,helpText:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"最大值":"Maximum Value"}),(0,i.jsx)(ex.p,{type:"number",min:1,max:1e3,value:eE.maxValue||100,onChange:e=>eL(l=>({...l,maxValue:e.target.value?Number(e.target.value):100})),placeholder:"100",className:"h-8 text-xs bg-white/80"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eE.showPercentage,onCheckedChange:e=>eL(l=>({...l,showPercentage:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"显示百分比":"Show Percentage"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eE.showProgressBar,onCheckedChange:e=>eL(l=>({...l,showProgressBar:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"显示进度条":"Show Progress Bar"})]})]}),(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-blue-500",style:{width:"".concat(Math.min(75,eE.maxValue||100),"%")}})}),eE.showPercentage&&(0,i.jsx)("span",{className:"text-xs text-blue-700 w-12 text-right",children:"75%"})]}),(0,i.jsx)("div",{className:"text-xs text-blue-600",children:"zh"===D?"当前值：75 / ".concat(eE.maxValue||100):"Current: 75 / ".concat(eE.maxValue||100)})]})]})]})]}),"meta_items"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"数据项集合配置":"Meta Items Configuration"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3 items-start",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eP.showHelp,onCheckedChange:e=>eT(l=>({...l,showHelp:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"显示说明":"Show Help"})]}),eP.showHelp&&(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80",placeholder:"zh"===D?"输入说明文本":"Enter help text",value:eP.helpText,onChange:e=>eT(l=>({...l,helpText:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-1",children:"zh"===D?"字段结构（名称与类型）":"Field schema (name & type)"}),(0,i.jsxs)("div",{className:"space-y-2",children:[eP.fields.map((e,l)=>(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80 col-span-5",value:e.label,onChange:e=>{let a=[...eP.fields];a[l]={...a[l],label:e.target.value},eT(e=>({...e,fields:a}))},placeholder:"zh"===D?"字段名称":"Field name"}),(0,i.jsxs)("select",{className:"h-8 rounded border px-2 bg-white col-span-3",value:e.type,onChange:e=>{let a=[...eP.fields];a[l]={...a[l],type:e.target.value},eT(e=>({...e,fields:a}))},children:[(0,i.jsx)("option",{value:"text",children:"zh"===D?"文本":"Text"}),(0,i.jsx)("option",{value:"number",children:"zh"===D?"数字":"Number"}),(0,i.jsx)("option",{value:"image",children:"zh"===D?"图片":"Image"}),(0,i.jsx)("option",{value:"select",children:"zh"===D?"选项":"Select"}),(0,i.jsx)("option",{value:"multiselect",children:"zh"===D?"多选":"Multi-select"})]}),"number"===eP.fields[l].type&&(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80 col-span-2",value:e.unit||"",onChange:e=>{let a=[...eP.fields];a[l]={...a[l],unit:e.target.value},eT(e=>({...e,fields:a}))},placeholder:"zh"===D?"单位(可选)":"Unit (optional)"}),("select"===eP.fields[l].type||"multiselect"===eP.fields[l].type)&&(0,i.jsx)(ex.p,{className:"h-8 text-xs bg-white/80 col-span-4",value:(e.options||[]).join(","),onChange:e=>{let a=[...eP.fields];a[l]={...a[l],options:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)},eT(e=>({...e,fields:a}))},placeholder:"zh"===D?"选项(逗号分隔)":"Options (comma separated)"}),(0,i.jsx)("button",{type:"button",className:"text-xs text-red-600 col-span-2",onClick:()=>{let e=[...eP.fields];e.splice(l,1),eT(l=>({...l,fields:e}))},children:"zh"===D?"删除字段":"Remove"})]},e.id)),(0,i.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded border bg-white",onClick:()=>{eT(e=>({...e,fields:[...e.fields,{id:Math.random().toString(36).slice(2),type:"text",label:"".concat("zh"===D?"字段":"Field"," ").concat(e.fields.length+1)}]}))},children:"zh"===D?"新增字段":"Add field"})]})]})]})]}),"experience"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"zh"===D?"经历字段说明":"Experience Field Description"}),(0,i.jsx)("div",{className:"text-xs text-blue-600",children:"zh"===D?"经历字段支持添加工作经历、教育经历、项目经历和证书资质等信息，包含时间范围、描述、技能标签等详细内容。":"Experience fields support adding work experience, education experience, project experience and certificates, including time range, description, skill tags and other detailed content."})]}),"certificate_experience"===eC&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"证书资质配置":"Certificate Configuration"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:e1.allowCustomCertificateName,onCheckedChange:e=>e2(l=>({...l,allowCustomCertificateName:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"允许用户自定义证书名称":"Allow users to customize certificate name"})]}),!e1.allowCustomCertificateName&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"预设证书名称选项":"Preset Certificate Name Options"}),(0,i.jsxs)("div",{className:"space-y-2",children:[e1.certificateNames.map((e,l)=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:e,onChange:e=>{let a=[...e1.certificateNames];a[l]=e.target.value,e2(e=>({...e,certificateNames:a}))},placeholder:"zh"===D?"证书名称":"Certificate name",className:"flex-1 h-8 text-xs bg-white/80"}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=e1.certificateNames.filter((e,a)=>a!==l);e2(l=>({...l,certificateNames:e}))},className:"h-8 w-8 p-0 text-red-600",children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]},l)),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{e2(e=>({...e,certificateNames:[...e.certificateNames,""]}))},className:"h-8 text-xs",children:[(0,i.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"zh"===D?"添加证书选项":"Add Certificate Option"]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:e1.allowCustomIssuingAuthority,onCheckedChange:e=>e2(l=>({...l,allowCustomIssuingAuthority:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"允许用户自定义颁发单位":"Allow users to customize issuing authority"})]}),!e1.allowCustomIssuingAuthority&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"默认颁发单位":"Default Issuing Authority"}),(0,i.jsx)(ex.p,{value:e1.issuingAuthority,onChange:e=>e2(l=>({...l,issuingAuthority:e.target.value})),placeholder:"zh"===D?"例如：教育部考试中心":"e.g. Ministry of Education Examination Center",className:"h-8 text-xs bg-white/80"})]})]}),(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"证书名称：":"Certificate Name: ",e1.allowCustomCertificateName?"zh"===D?"用户自定义":"User customizable":e1.certificateNames.length>0?"".concat(e1.certificateNames.length," ").concat("zh"===D?"个选项":"options"):"zh"===D?"未设置":"Not set"]}),(0,i.jsxs)("div",{children:["zh"===D?"颁发单位：":"Issuing Authority: ",e1.allowCustomIssuingAuthority?"zh"===D?"用户自定义":"User customizable":e1.issuingAuthority||("zh"===D?"未设置":"Not set")]})]})]})]})]}),"other_verification"===eC&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"其他认证配置":"Other Verification Configuration"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 font-medium",children:"zh"===D?"文字字段":"Text Fields"}),(0,i.jsxs)("div",{className:"space-y-2",children:[eH.textFields.map((e,l)=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:e.name,onChange:e=>{let a=[...eH.textFields];a[l]={...a[l],name:e.target.value},eQ(e=>({...e,textFields:a}))},placeholder:"zh"===D?"字段名称":"Field name",className:"flex-1 h-8 text-xs bg-white/80"}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>{let a=[...eH.textFields];a[l]={...a[l],required:e.target.checked},eQ(e=>({...e,textFields:a}))},className:"rounded"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"必填":"Required"})]}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=eH.textFields.filter((e,a)=>a!==l);eQ(l=>({...l,textFields:e}))},className:"h-8 w-8 p-0 text-red-600",children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]},e.id)),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{eQ(e=>({...e,textFields:[...e.textFields,{id:"text_".concat(Date.now()),name:"",required:!1}]}))},className:"h-8 text-xs",children:[(0,i.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"zh"===D?"添加文字字段":"Add Text Field"]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 font-medium",children:"zh"===D?"图片字段":"Image Fields"}),(0,i.jsxs)("div",{className:"space-y-2",children:[eH.imageFields.map((e,l)=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:e.name,onChange:e=>{let a=[...eH.imageFields];a[l]={...a[l],name:e.target.value},eQ(e=>({...e,imageFields:a}))},placeholder:"zh"===D?"字段名称":"Field name",className:"flex-1 h-8 text-xs bg-white/80"}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>{let a=[...eH.imageFields];a[l]={...a[l],required:e.target.checked},eQ(e=>({...e,imageFields:a}))},className:"rounded"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"必填":"Required"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.multiple,onChange:e=>{let a=[...eH.imageFields];a[l]={...a[l],multiple:e.target.checked},eQ(e=>({...e,imageFields:a}))},className:"rounded"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"多图":"Multiple"})]}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=eH.imageFields.filter((e,a)=>a!==l);eQ(l=>({...l,imageFields:e}))},className:"h-8 w-8 p-0 text-red-600",children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]},e.id)),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{eQ(e=>({...e,imageFields:[...e.imageFields,{id:"image_".concat(Date.now()),name:"",required:!1,multiple:!1}]}))},className:"h-8 text-xs",children:[(0,i.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"zh"===D?"添加图片字段":"Add Image Field"]})]})]}),(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"文字字段：":"Text Fields: ",eH.textFields.length>0?"".concat(eH.textFields.length," ").concat("zh"===D?"个":""):"zh"===D?"无":"None"]}),(0,i.jsxs)("div",{children:["zh"===D?"图片字段：":"Image Fields: ",eH.imageFields.length>0?"".concat(eH.imageFields.length," ").concat("zh"===D?"个":""):"zh"===D?"无":"None"]})]})]})]})]}),"identity_verification"===eC&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"实名认证配置":"Identity Verification Configuration"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eB.requireName,onCheckedChange:e=>eK(l=>({...l,requireName:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"需要姓名":"Require Name"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eB.requireIdNumber,onCheckedChange:e=>eK(l=>({...l,requireIdNumber:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"需要身份证号":"Require ID Number"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eB.requireFrontPhoto,onCheckedChange:e=>eK(l=>({...l,requireFrontPhoto:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"需要正面照片":"Require Front Photo"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ep.d,{checked:eB.requireBackPhoto,onCheckedChange:e=>eK(l=>({...l,requireBackPhoto:e}))}),(0,i.jsx)("label",{className:"text-xs text-blue-700",children:"zh"===D?"需要反面照片":"Require Back Photo"})]})]}),(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"姓名：":"Name: ",eB.requireName?"zh"===D?"必填":"Required":"zh"===D?"可选":"Optional"]}),(0,i.jsxs)("div",{children:["zh"===D?"身份证号：":"ID Number: ",eB.requireIdNumber?"zh"===D?"必填":"Required":"zh"===D?"可选":"Optional"]}),(0,i.jsxs)("div",{children:["zh"===D?"正面照片：":"Front Photo: ",eB.requireFrontPhoto?"zh"===D?"必填":"Required":"zh"===D?"可选":"Optional"]}),(0,i.jsxs)("div",{children:["zh"===D?"反面照片：":"Back Photo: ",eB.requireBackPhoto?"zh"===D?"必填":"Required":"zh"===D?"可选":"Optional"]})]})]})]})]}),"custom_experience"===eC&&(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"其他经历配置":"Custom Experience Configuration"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"经历名称":"Experience Name"}),(0,i.jsx)(ex.p,{value:eO.experienceName,onChange:e=>eq(l=>({...l,experienceName:e.target.value})),placeholder:"zh"===D?"例如：志愿服务、竞赛获奖、培训经历":"e.g. Volunteer Service, Competition Awards, Training Experience",className:"h-8 text-xs bg-white/80"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-xs text-blue-700 mb-1 block",children:"zh"===D?"事件名称":"Event Name"}),(0,i.jsx)(ex.p,{value:eO.eventName,onChange:e=>eq(l=>({...l,eventName:e.target.value})),placeholder:"zh"===D?"例如：活动名称、项目名称、证书名称":"e.g. Activity Name, Project Name, Certificate Name",className:"h-8 text-xs bg-white/80"})]}),(0,i.jsxs)("div",{className:"border-t border-blue-200 pt-2",children:[(0,i.jsx)("div",{className:"text-xs text-blue-700 mb-2",children:"zh"===D?"预览":"Preview"}),(0,i.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,i.jsxs)("div",{children:["zh"===D?"经历名称：":"Experience Name: ",eO.experienceName||("zh"===D?"未设置":"Not set")]}),(0,i.jsxs)("div",{children:["zh"===D?"事件名称：":"Event Name: ",eO.eventName||("zh"===D?"未设置":"Not set")]})]})]})]})]}),("boolean"===P||"checkbox"===P)&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"布尔字段配置":"Boolean Field Configuration"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-blue-700",children:"zh"===D?"选中状态标签":"Checked State Label"}),(0,i.jsx)(ex.p,{value:(null==e7?void 0:e7.checkedLabel)||("zh"===D?"是":"Yes"),onChange:e=>e8(l=>({...l,checkedLabel:e.target.value})),placeholder:"zh"===D?"例如：是、启用、同意":"e.g. Yes, Enabled, Agree",className:"h-9 bg-white/80"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-blue-700",children:"zh"===D?"未选中状态标签":"Unchecked State Label"}),(0,i.jsx)(ex.p,{value:(null==e7?void 0:e7.uncheckedLabel)||("zh"===D?"否":"No"),onChange:e=>e8(l=>({...l,uncheckedLabel:e.target.value})),placeholder:"zh"===D?"例如：否、禁用、不同意":"e.g. No, Disabled, Disagree",className:"h-9 bg-white/80"})]})]}),(0,i.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-blue-700",children:"zh"===D?"显示样式":"Display Style"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"radio",name:"booleanStyle",value:"switch",checked:(null==e7?void 0:e7.style)==="switch",onChange:e=>e8(l=>({...l,style:e.target.value})),className:"text-blue-600"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"开关":"Switch"})]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"radio",name:"booleanStyle",value:"checkbox",checked:(null==e7?void 0:e7.style)==="checkbox",onChange:e=>e8(l=>({...l,style:e.target.value})),className:"text-blue-600"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"复选框":"Checkbox"})]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"radio",name:"booleanStyle",value:"radio",checked:(null==e7?void 0:e7.style)==="radio",onChange:e=>e8(l=>({...l,style:e.target.value})),className:"text-blue-600"}),(0,i.jsx)("span",{className:"text-xs text-blue-700",children:"zh"===D?"单选按钮":"Radio"})]})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] items-center gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.default}),(0,i.jsxs)(eg.l6,{value:Q||"none",onValueChange:e=>ee("none"===e?"":e),children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:C.none})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:C.none}),(0,i.jsx)(eg.eb,{value:"true",children:(null==e7?void 0:e7.checkedLabel)||C.true}),(0,i.jsx)(eg.eb,{value:"false",children:(null==e7?void 0:e7.uncheckedLabel)||C.false})]})]})]})]}),"select"===P&&!eC&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50/50 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-3",children:"zh"===D?"单选字段配置":"Single Select Configuration"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-blue-700",children:C.optionLabel}),(0,i.jsxs)("div",{className:"space-y-2",children:[el.map((e,l)=>(0,i.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto] gap-2 items-center rounded-md "+(ey===l?"ring-2 ring-blue-200 bg-white/90":"bg-white/70"),draggable:!0,onDragStart:()=>{eN(l)},onDragEnter:()=>lr(l),onDragOver:e=>e.preventDefault(),onDragEnd:ld,children:[(0,i.jsx)("button",{type:"button",className:"h-8 w-8 inline-flex items-center justify-center text-slate-500 cursor-grab","aria-label":"zh"===D?"拖动以排序":"Drag to sort",title:"zh"===D?"拖动以排序":"Drag to sort",children:(0,i.jsx)(e$.A,{className:"h-4 w-4"})}),(0,i.jsx)(ex.p,{value:e,onChange:e=>ls(l,e.target.value),placeholder:"".concat(C.optionPlaceholder," ").concat(l+1),className:"bg-transparent"}),(0,i.jsx)(q.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600",onClick:()=>ln(l),"aria-label":"zh"===D?"删除选项":"Delete option",title:"zh"===D?"删除":"Delete",children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]},l)),(0,i.jsxs)(q.$,{variant:"secondary",onClick:lt,children:[(0,i.jsx)(O.A,{className:"mr-1 size-4"}),C.addOption]})]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:C.optionsHint})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.default}),(()=>{let e=el.filter(e=>""!==e.trim()),l=e.includes(Q||"")?Q:"";return(0,i.jsxs)(eg.l6,{value:l||"none",onValueChange:e=>ee("none"===e?"":e),children:[(0,i.jsx)(eg.bq,{className:"bg-white/80",children:(0,i.jsx)(eg.yv,{placeholder:C.none})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"none",children:C.none}),e.map((e,l)=>(0,i.jsx)(eg.eb,{value:e,children:e},l))]})]})})()]})]}),"multiselect"===P&&!eC&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50/50 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-green-800 mb-3",children:"zh"===D?"多选字段配置":"Multi Select Configuration"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-green-700",children:"zh"===D?"最小选择数量":"Minimum Selection"}),(0,i.jsx)(ex.p,{type:"number",min:"0",value:(null==e9?void 0:e9.minSelection)||"",onChange:e=>le(l=>({...l,minSelection:e.target.value?parseInt(e.target.value):void 0})),placeholder:"zh"===D?"不限制":"No limit",className:"h-9 bg-white/80"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-green-700",children:"zh"===D?"最大选择数量":"Maximum Selection"}),(0,i.jsx)(ex.p,{type:"number",min:"1",value:(null==e9?void 0:e9.maxSelection)||"",onChange:e=>le(l=>({...l,maxSelection:e.target.value?parseInt(e.target.value):void 0})),placeholder:"zh"===D?"不限制":"No limit",className:"h-9 bg-white/80"})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-green-700",children:C.optionLabel}),(0,i.jsxs)("div",{className:"space-y-2",children:[el.map((e,l)=>(0,i.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto] gap-2 items-center rounded-md "+(ey===l?"ring-2 ring-green-200 bg-white/90":"bg-white/70"),draggable:!0,onDragStart:()=>{eN(l)},onDragEnter:()=>lr(l),onDragOver:e=>e.preventDefault(),onDragEnd:ld,children:[(0,i.jsx)("button",{type:"button",className:"h-8 w-8 inline-flex items-center justify-center text-slate-500 cursor-grab","aria-label":"zh"===D?"拖动以排序":"Drag to sort",title:"zh"===D?"拖动以排序":"Drag to sort",children:(0,i.jsx)(e$.A,{className:"h-4 w-4"})}),(0,i.jsx)(ex.p,{value:e,onChange:e=>ls(l,e.target.value),placeholder:"".concat(C.optionPlaceholder," ").concat(l+1),className:"bg-transparent"}),(0,i.jsx)(q.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600",onClick:()=>ln(l),"aria-label":"zh"===D?"删除选项":"Delete option",title:"zh"===D?"删除":"Delete",children:(0,i.jsx)(J.A,{className:"h-4 w-4"})})]},l)),(0,i.jsxs)(q.$,{variant:"secondary",onClick:lt,children:[(0,i.jsx)(O.A,{className:"mr-1 size-4"}),C.addOption]})]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:C.optionsHint})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[140px_1fr] gap-3",children:[(0,i.jsx)("div",{className:"text-sm text-slate-700",children:C.default}),(0,i.jsx)(ex.p,{placeholder:"zh"===D?"多个默认值用逗号分隔":"Multiple default values separated by commas",value:Q,onChange:e=>ee(e.target.value),className:"bg-white/80"})]})]})]})]}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>g(!1),children:C.cancel}),(0,i.jsx)(q.$,{disabled:!lo,onClick:()=>N({label:M.trim(),key:E.trim(),type:P,required:R,unique:$,showInList:U,isDefault:H,categoryId:Y||void 0,options:"select"===P||"multiselect"===P?el.filter(e=>""!==e.trim()):void 0,defaultRaw:Q,relationModuleId:ef.moduleId||null,relationTargetId:"relation_one"===P||"relation_many"===P||"user_select"===eC?ef.targetDirId||Z||null:void 0,relationDisplayFieldKey:ef.displayFieldKey||null,relationBidirectional:ef.bidirectional,relationAllowDuplicate:ef.allowDuplicate,preset:eC||void 0,..."date"===P?{dateMode:ez}:{},..."cascader"===P?{cascaderOptions:ei}:{},..."user_select"===eC?{userAllowMultiple:eA,userNotifyNew:e_}:{},..."skills"===eC?{skillsConfig:eM}:{},..."progress"===eC?{progressConfig:eE}:{},..."meta_items"===P?{metaItemsConfig:eP}:{},..."custom_experience"===eC?{customExperienceConfig:eO}:{},..."certificate_experience"===eC?{certificateConfig:e1}:{},..."identity_verification"===eC?{identityVerificationConfig:eB}:{},..."other_verification"===eC?{otherVerificationConfig:eH}:{},..."image"===P?{imageConfig:e3}:{},..."profile"===P?{imageConfig:e3}:{},..."video"===P?{videoConfig:e5}:{},..."boolean"===P||"checkbox"===P?{booleanConfig:e7}:{},..."multiselect"===P?{multiselectConfig:e9}:{}}),children:I||C.submit})]}),(0,i.jsx)(eU,{open:es,onOpenChange:en,initialCats:ei,canEdit:j,onSave:e=>{et(e),en(!1)},i18n:{title:"zh"===D?"配置级联选项":"Configure Cascader Options",l1:"zh"===D?"一级分类":"Level 1 Category",l2:"zh"===D?"二级分类":"Level 2 Category",l3:"zh"===D?"三级分类":"Level 3 Category",selectL1:"zh"===D?"选择一级分类":"Select Level 1 Category",selectL2:"zh"===D?"选择二级分类":"Select Level 2 Category",selectL3:"zh"===D?"选择三级分类（可选）":"Select Level 3 Category (Optional)",none:"zh"===D?"未选择":"None Selected",add:"zh"===D?"添加":"Add",save:"zh"===D?"保存":"Save",cancel:"zh"===D?"取消":"Cancel",preview:"zh"===D?"预览：":"Preview: ",delete:"zh"===D?"删除":"Delete",confirmDelete:"zh"===D?"确认删除内容分类":"Confirm delete"}}),(0,i.jsx)(eh.lG,{open:er,onOpenChange:ed,children:(0,i.jsxs)(eh.Cf,{className:"sm:max-w-[800px] bg-white/70 backdrop-blur border-white/60",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:"zh"===D?"技能字段高级配置":"Skills Field Advanced Configuration"})}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"zh"===D?"自定义分类":"Custom Categories"}),(0,i.jsxs)("div",{className:"space-y-2",children:[eM.customCategories.map((e,l)=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:e.name,onChange:e=>{let a=eM.customCategories[l].name,i=e.target.value,t=[...eM.customCategories];t[l]={...t[l],name:i};let s=eM.allowedCategories.map(e=>e===a?i:e);eF(e=>({...e,customCategories:t,allowedCategories:s}))},className:"flex-1 bg-white/80",placeholder:"zh"===D?"分类名称":"Category name"}),(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:()=>{let e=eM.customCategories[l],a=eM.customCategories.filter((e,a)=>a!==l),i=eM.allowedCategories.filter(l=>l!==e.name);eF(e=>({...e,customCategories:a,allowedCategories:i}))},children:(0,i.jsx)(J.A,{className:"size-4"})})]},l)),(0,i.jsxs)(q.$,{variant:"outline",onClick:()=>{let e="zh"===D?"新分类":"New Category";eF(l=>({...l,customCategories:[...l.customCategories,{id:"cat_".concat(Date.now()),name:e}],allowedCategories:[...l.allowedCategories,e]}))},children:[(0,i.jsx)(O.A,{className:"size-4 mr-1"}),"zh"===D?"添加分类":"Add Category"]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"zh"===D?"预定义技能":"Predefined Skills"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:ev.skillsData.map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:e.name}),(0,i.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",e.category,")"]})]},e.id))})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"zh"===D?"自定义技能":"Custom Skills"}),(0,i.jsxs)("div",{className:"space-y-2",children:[eM.customSkills.map((e,l)=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{value:e.name,onChange:e=>{let a=[...eM.customSkills];a[l]={...a[l],name:e.target.value},eF(e=>({...e,customSkills:a}))},className:"flex-1 bg-white/80",placeholder:"zh"===D?"技能名称":"Skill name"}),(0,i.jsxs)(eg.l6,{value:e.category,onValueChange:e=>{let a=[...eM.customSkills];a[l]={...a[l],category:e},eF(e=>({...e,customSkills:a}))},children:[(0,i.jsx)(eg.bq,{className:"w-32 bg-white/80",children:(0,i.jsx)(eg.yv,{})}),(0,i.jsx)(eg.gC,{children:eM.customCategories.map(e=>(0,i.jsx)(eg.eb,{value:e.name,children:e.name},e.id))})]}),(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:()=>{let e=eM.customSkills.filter((e,a)=>a!==l);eF(l=>({...l,customSkills:e}))},children:(0,i.jsx)(J.A,{className:"size-4"})})]},l)),(0,i.jsxs)(q.$,{variant:"outline",onClick:()=>{eF(e=>{var l;return{...e,customSkills:[...e.customSkills,{id:"skill_".concat(Date.now()),name:"zh"===D?"新技能":"New Skill",category:(null===(l=ev.skillCategories.filter(Boolean)[0])||void 0===l?void 0:l.name)||""}]}})},children:[(0,i.jsx)(O.A,{className:"size-4 mr-1"}),"zh"===D?"添加技能":"Add Skill"]})]})]})]}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>ed(!1),children:"zh"===D?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:()=>{ed(!1)},children:"zh"===D?"保存":"Save"})]})]})}),"cascader"===P&&(0,i.jsxs)("div",{className:"rounded-lg border border-white/60 bg-white/70 px-3 py-2",children:[(0,i.jsx)("div",{className:"text-sm mb-1",children:"zh"===D?"当前选项":"Current Options"}),0===ei.length?(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"未配置":"Not configured"}):(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"zh"===D?"共 ".concat(ei.length," 个一级项"):"".concat(ei.length," first-level items")})]})]})})}function e2(e){let{open:l,onOpenChange:a,app:s,dir:n,field:r,typeNames:d,i18n:c,onSubmit:o}=e,u=(0,t.useMemo)(()=>(function(e,l,a){var i,t,s;let n={label:a.label,key:a.key,type:a.type,required:!!a.required,unique:!!a.unique,showInList:!1!==a.showInList,isDefault:a.isDefault||!1,categoryId:a.categoryId||void 0,options:Array.isArray(a.options)?[...a.options]:void 0,defaultRaw:"",relationTargetId:(null===(i=a.relation)||void 0===i?void 0:i.targetDirId)||null,relationModuleId:null,relationDisplayFieldKey:(null===(t=a.relation)||void 0===t?void 0:t.displayFieldKey)||null,relationBidirectional:a.relationBidirectional||!1,relationAllowDuplicate:a.relationAllowDuplicate||!1,dateMode:a.dateMode||void 0,cascaderOptions:a.cascaderOptions?JSON.parse(JSON.stringify(a.cascaderOptions)):void 0,preset:a.preset||void 0,skillsConfig:a.skillsConfig||void 0,progressConfig:a.progressConfig||void 0,metaItemsConfig:a.metaItemsConfig||void 0,otherVerificationConfig:a.otherVerificationConfig||void 0};if("select"===a.type&&(n.defaultRaw="string"==typeof a.default?a.default:""),"multiselect"===a.type&&(n.defaultRaw=Array.isArray(a.default)?a.default.join(","):""),("boolean"===a.type||"checkbox"===a.type)&&(n.defaultRaw="boolean"==typeof a.default?a.default?"true":"false":""),null===(s=a.relation)||void 0===s?void 0:s.targetDirId){for(let l of e.modules)if(l.directories.some(e=>e.id===a.relation.targetDirId)){n.relationModuleId=l.id;break}}return n})(s,0,r),[s,n,r]);return(0,i.jsx)(e1,{open:l,onOpenChange:a,mode:"edit",app:s,currentDir:n,canEdit:!0,existingKeys:n.fields.filter(e=>e.id!==r.id).map(e=>e.key),initialDraft:u,i18n:{...c,submit:c.saveField||"保存字段"},typeNames:d,submitText:c.saveField||"保存字段",onSubmit:e=>{let l=structuredClone(n);!function(e,l,a,i){var t,s;let n=e.fields.find(e=>e.id===l);if(!n)return;let r=n.type,d=n.key;if(n.label=a.label.trim()||n.label,n.key=a.key.trim()||n.key,n.type=a.type,n.required=!!a.required,n.unique=!!a.unique,n.showInList=!!a.showInList,n.categoryId=a.categoryId||void 0,delete n.options,delete n.relation,delete n.cascaderOptions,delete n.dateMode,delete n.default,delete n.preset,delete n.skillsConfig,"select"===a.type||"multiselect"===a.type){let e=(a.options||[]).filter(Boolean);n.options=Array.from(new Set(e)),"select"===a.type?n.default=a.defaultRaw||(null!==(t=e[0])&&void 0!==t?t:""):n.default=a.defaultRaw?a.defaultRaw.split(",").map(e=>e.trim()).filter(Boolean):[]}else"boolean"===a.type||"checkbox"===a.type?n.default="true"===a.defaultRaw||"false"!==a.defaultRaw&&(null!==(s=n.default)&&void 0!==s?s:void 0):"date"===a.type?n.dateMode=a.dateMode||"single":"cascader"===a.type?n.cascaderOptions=a.cascaderOptions?JSON.parse(JSON.stringify(a.cascaderOptions)):[]:"meta_items"===a.type?n.metaItemsConfig=a.metaItemsConfig||void 0:("relation_one"===a.type||"relation_many"===a.type)&&(n.relation={targetDirId:a.relationTargetId||null,mode:"relation_one"===a.type?"one":"many",...a.relationDisplayFieldKey?{displayFieldKey:a.relationDisplayFieldKey}:{}},n.relationBidirectional=!!a.relationBidirectional,n.relationAllowDuplicate=!!a.relationAllowDuplicate);a.preset&&(n.preset=a.preset,"skills"===a.preset&&a.skillsConfig&&(n.skillsConfig=a.skillsConfig),"progress"===a.preset&&a.progressConfig&&(n.progressConfig=a.progressConfig),"other_verification"===a.preset&&a.otherVerificationConfig&&(n.otherVerificationConfig=a.otherVerificationConfig)),r!==a.type&&(i("更改字段类型会尝试转换已有数据，可能造成数据丢失，是否继续？")?function(e,l,a,i){let t=i.key,s=i.type;a!==s&&e.forEach(e=>{var a;let i=e[l],n=a=>{delete e[l],e[t]=a};if("select"===s&&Array.isArray(i))return n(null!==(a=i[0])&&void 0!==a?a:"");if("multiselect"===s&&"string"==typeof i)return n(i?[i]:[]);if("number"===s&&"number"!=typeof i){let e=Number(i);return n(Number.isFinite(e)?e:0)}return n(("text"===s||"textarea"===s||"richtext"===s)&&"string"!=typeof i?null==i?"":String(i):"tags"!==s||Array.isArray(i)?i:i?String(i).split(",").map(e=>e.trim()).filter(Boolean):[])})}(e.records,d,r,n):n.type=r),a.key.trim()&&a.key!==d&&function(e,l,a){e.forEach(e=>{Object.prototype.hasOwnProperty.call(e,l)&&(e[a]=e[l],delete e[l])})}(e.records,d,a.key)}(l,r.id,e,e=>window.confirm(e));let i=l.fields.find(e=>e.id===r.id);i&&o(i),a(!1)}})}var e3=a(25646),e4=a(97173),e5=a(8639);function e6(e){let{onAddCategory:l,isAdding:a,error:s}=e,{t:r,locale:d}=(0,n.Y)(),[c,o]=(0,t.useState)(""),[u,v]=(0,t.useState)(""),b=async()=>{await l(c,u),o(""),v("")};return(0,i.jsxs)("div",{className:"flex-shrink-0 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"zh"===d?"添加新分类":"Add New Category"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(ex.p,{placeholder:r("categoryName"),value:c,onChange:e=>o(e.target.value),className:"h-10",disabled:a}),(0,i.jsx)(ex.p,{placeholder:r("categoryDescription"),value:u,onChange:e=>v(e.target.value),className:"h-10",disabled:a}),(0,i.jsxs)(q.$,{onClick:b,className:"w-full h-10",disabled:a||!c.trim(),children:[(0,i.jsx)(O.A,{className:"mr-2 size-4"}),r(a?"addCategoryLoading":"addCategory")]})]}),s&&(0,i.jsx)("div",{className:"mt-3 text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200",children:s})]})}function e7(e){let{currentPage:l,totalPages:a,onPageChange:t}=e,{t:s}=(0,n.Y)();return a<=1?null:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>t(Math.max(1,l-1)),disabled:1===l,children:s("previousPage")}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground px-2",children:[l," / ",a]}),(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>t(Math.min(a,l+1)),disabled:l===a,children:s("nextPage")})]})}function e8(e){let{categories:l,selectedCategory:a,onSelectCategory:t,onToggleCategory:s,onDeleteCategory:r}=e,{t:d}=(0,n.Y)();return(0,i.jsx)(e5.F,{className:"flex-1",children:(0,i.jsx)("div",{className:"space-y-3 pr-2",children:l.map(e=>{var l,n;return(0,i.jsx)(e3.Zp,{className:"p-4 cursor-pointer transition-all duration-200 ".concat((null==a?void 0:a.id)===e.id?"bg-blue-50 border-blue-300 shadow-md":"bg-white hover:bg-gray-50 hover:shadow-sm"),onClick:()=>t(e),children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,i.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),e.system&&(0,i.jsx)(e4.E,{variant:"secondary",className:"text-xs",children:"系统"})]}),(0,i.jsx)("div",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(l=e.fields)||void 0===l?void 0:l.length)||(null===(n=e.predefinedFields)||void 0===n?void 0:n.length)||0," 个字段"]}),(0,i.jsx)(e4.E,{variant:e.enabled?"default":"secondary",className:"text-xs",children:e.enabled?"已启用":"已禁用"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3 ml-4",children:[(0,i.jsx)(ep.d,{checked:e.enabled,onCheckedChange:l=>s(e.id,l),onClick:e=>e.stopPropagation()}),!e.system&&"uncategorized"!==e.id&&(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),r(e.id)},className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600 transition-colors",title:d("deleteCategory"),children:(0,i.jsx)(J.A,{className:"size-4"})})]})]})},e.id)})})})}function e9(e){let{category:l,applicationId:a,directoryId:s,onFieldAdded:r}=e,{t:d,locale:c}=(0,n.Y)(),[o,u]=(0,t.useState)(1),[v,b]=(0,t.useState)([]),[m,h]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),j=async()=>{if(l){h(!0);try{let e=l.predefinedFields||[];console.log("\uD83D\uDCCB 从字段分类获取预定义字段:",e);let a=Array.isArray(e)?e.map((e,l)=>({id:e.id||"field_".concat(l),label:e.name||e.label||e.key||"字段".concat(l+1),key:e.key||e.name||"field_".concat(l),type:e.type||"text",required:e.required||!1,locked:e.locked||!1,desc:e.description||e.desc||"",...e})):[];b(a)}catch(e){console.error("获取字段失败:",e),b([])}finally{h(!1)}}};(0,t.useEffect)(()=>{j()},[null==l?void 0:l.id,a,s]);let y=e=>{f(e),g(!0)},N=async e=>{try{p?await eb.api.fields.updateField(p.id,{...e,categoryId:null==l?void 0:l.id}):await eb.api.fields.createField({...e,categoryId:null==l?void 0:l.id,directoryId:s}),j(),null==r||r(),g(!1)}catch(e){console.error("保存字段失败:",e)}},C=async e=>{if(confirm("zh"===c?"确定要删除这个字段吗？":"Are you sure you want to delete this field?"))try{await eb.api.fields.deleteField(e),j(),null==r||r()}catch(e){console.error("删除字段失败:",e)}};if(!l)return(0,i.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:d("selectCategoryToView")});let w=Math.ceil(v.length/6),k=(o-1)*6,z=v.slice(k,k+6);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("h3",{className:"font-medium",children:[l.name," - ",d("fieldList")]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(e4.E,{variant:l.enabled?"default":"secondary",children:d(l.enabled?"enabled":"disabled")}),(0,i.jsxs)(q.$,{size:"sm",onClick:()=>{f(null),g(!0)},className:"h-8",children:[(0,i.jsx)(O.A,{className:"mr-1 size-3"}),"zh"===c?"添加字段":"Add Field"]})]})]}),m?(0,i.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,i.jsx)("div",{className:"text-muted-foreground",children:"zh"===c?"加载中...":"Loading..."})}):(0,i.jsxs)(i.Fragment,{children:[v.length>6&&(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[d("showFields")," ",k+1,"-",Math.min(k+6,v.length)," /"," ",v.length," ",d("ofFields")]}),(0,i.jsx)(e7,{currentPage:o,totalPages:w,onPageChange:u})]}),(0,i.jsx)(e5.F,{className:"flex-1",children:(0,i.jsxs)("div",{className:"space-y-2 pr-2",children:[z.map(e=>(0,i.jsx)(e3.Zp,{className:"p-3 bg-white/60",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,i.jsx)("span",{className:"font-medium",children:e.label}),(0,i.jsx)(e4.E,{variant:"outline",className:"text-xs",children:e.type}),e.required&&(0,i.jsx)(e4.E,{variant:"destructive",className:"text-xs",children:"必填"}),e.locked&&(0,i.jsx)(e4.E,{variant:"secondary",className:"text-xs",children:"锁定"})]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Key: ",e.key]}),e.desc&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e.desc})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:()=>y(e),className:"h-6 w-6 p-0",title:"zh"===c?"编辑字段":"Edit Field",children:(0,i.jsx)(H.A,{className:"size-3"})}),(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:()=>C(e.id),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600",title:"zh"===c?"删除字段":"Delete Field",children:(0,i.jsx)(J.A,{className:"size-3"})})]})]})},e.id)),0===v.length&&(0,i.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"zh"===c?"该分类暂无字段":"No fields in this category"})]})})]}),(0,i.jsx)(la,{open:x,onOpenChange:g,field:p,onSave:N,applicationId:a,directoryId:s})]})}function le(e){let{categories:l,onCategoriesChange:a,applicationId:s,directoryId:r,onFieldAdded:d}=e,{t:c,locale:o}=(0,n.Y)(),[u,v]=(0,t.useState)(null),[b,m]=(0,t.useState)(1),[h,x]=(0,t.useState)(!1),[g,p]=(0,t.useState)(""),[f,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)(!1),[C,w]=(0,t.useState)(null),k=async()=>{j(!0);try{let e=await eb.api.fieldCategories.getFieldCategories({applicationId:s,directoryId:r,page:1,limit:100});if(e.success&&e.data){let l=e.data.categories.map(e=>({id:e.id,name:e.name,description:e.description||"",order:e.order,enabled:e.enabled,system:e.system,fields:e.predefinedFields||[]}));a(l)}}catch(e){console.error("获取字段分类失败:",e)}finally{j(!1)}};(0,t.useEffect)(()=>{k()},[s,r]);let z=async(e,i)=>{if(!e.trim()){p("zh"===o?"请输入分类名称":"Please enter category name");return}if(l.find(l=>l.name.toLowerCase()===e.trim().toLowerCase())){p("zh"===o?"该分类名称已存在":"Category name already exists");return}x(!0),p("");try{let t=await eb.api.fieldCategories.createFieldCategory({name:e.trim(),description:i.trim()||"自定义分类：".concat(e.trim()),order:l.length+1,enabled:!0,system:!1,predefinedFields:[]},{applicationId:s,directoryId:r});if(t.success&&t.data){let e={id:t.data.id,name:t.data.name,description:t.data.description||"",order:t.data.order,enabled:t.data.enabled,system:t.data.system,fields:t.data.predefinedFields||[]};a([...l,e]),v(e);let i=Math.ceil((l.length+1)/3);m(i)}}catch(e){console.error("创建分类失败:",e),p(c("addCategoryFailed"))}finally{x(!1)}},S=async e=>{let a=l.find(l=>l.id===e);if(a){if(a.system||"uncategorized"===e){alert(c("systemCategoryCannotDelete"));return}w(a),N(!0)}},A=async()=>{if(C)try{await eb.api.fieldCategories.deleteFieldCategory(C.id);let e=l.filter(e=>e.id!==C.id);a(e),(null==u?void 0:u.id)===C.id&&v(null);let i=Math.ceil(e.length/3);b>i&&i>0&&m(i)}catch(e){console.error("删除分类失败:",e)}finally{N(!1),w(null)}},I=async(e,i)=>{try{await eb.api.fieldCategories.updateFieldCategory(e,{enabled:i});let t=l.map(l=>l.id===e?{...l,enabled:i}:l);a(t)}catch(e){console.error("更新分类状态失败:",e)}},_=Math.ceil(l.length/3),D=(b-1)*3,M=l.slice(D,D+3);return(0,i.jsxs)("div",{className:"flex gap-6 flex-1 min-h-0",children:[(0,i.jsxs)("div",{className:"w-1/2 flex flex-col gap-4",children:[(0,i.jsx)(e6,{onAddCategory:z,isAdding:h,error:g}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("h3",{className:"font-semibold text-gray-800",children:[c("categoryList")," (",l.length,")",f&&(0,i.jsx)("span",{className:"text-sm text-muted-foreground ml-2",children:"加载中..."})]}),(0,i.jsx)(e7,{currentPage:b,totalPages:_,onPageChange:m})]}),(0,i.jsx)(e8,{categories:M,selectedCategory:u,onSelectCategory:v,onToggleCategory:I,onDeleteCategory:S})]})]}),(0,i.jsx)("div",{className:"w-1/2 flex flex-col min-h-0",children:(0,i.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 flex-1 min-h-0",children:(0,i.jsx)(e9,{category:u,applicationId:s,directoryId:r,onFieldAdded:d||(()=>{})})})}),(0,i.jsx)(Y.o,{open:y,onOpenChange:N,itemName:(null==C?void 0:C.name)||"",itemType:"category",onConfirm:A})]})}function ll(e){let{open:l,onOpenChange:a,categories:t,onCategoriesChange:s,applicationId:r,directoryId:d,onFieldAdded:c}=e,{t:o}=(0,n.Y)();return(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"w-[90vw] max-w-[1200px] sm:max-w-[1200px] max-h-[90vh] bg-white/95 backdrop-blur-xl border-white/60",children:[(0,i.jsx)(eh.c7,{className:"flex-shrink-0 pb-4",children:(0,i.jsx)(eh.L3,{className:"text-xl",children:o("fieldCategoryManagement")})}),(0,i.jsx)(le,{categories:t,onCategoriesChange:s,applicationId:r,directoryId:d,onFieldAdded:c||(()=>{})})]})})}function la(e){let{open:l,onOpenChange:a,field:s,onSave:r,applicationId:d,directoryId:c}=e,{t:o,locale:u}=(0,n.Y)(),[v,b]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[x,g]=(0,t.useState)("text"),[p,f]=(0,t.useState)(!1),[j,y]=(0,t.useState)(""),[N,C]=(0,t.useState)(""),[w,k]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s?(b(s.label||""),h(s.key||""),g(s.type||"text"),f(s.required||!1),y(s.desc||""),C(s.placeholder||"")):(b(""),h(""),g("text"),f(!1),y(""),C(""))},[s]);let z=async()=>{if(!v.trim()||!m.trim()){alert("zh"===u?"请填写字段名称和标识符":"Please fill in field name and key");return}k(!0);try{await r({label:v.trim(),key:m.trim(),type:x,required:p,desc:j.trim()||void 0,placeholder:N.trim()||void 0})}finally{k(!1)}};return(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"w-[500px] max-w-[90vw]",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:s?"zh"===u?"编辑字段":"Edit Field":"zh"===u?"添加字段":"Add Field"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"zh"===u?"字段名称":"Field Name"}),(0,i.jsx)(ex.p,{value:v,onChange:e=>b(e.target.value),placeholder:"zh"===u?"请输入字段名称":"Enter field name"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"zh"===u?"字段标识符":"Field Key"}),(0,i.jsx)(ex.p,{value:m,onChange:e=>h(e.target.value),placeholder:"zh"===u?"请输入字段标识符":"Enter field key"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"zh"===u?"字段类型":"Field Type"}),(0,i.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,i.jsx)("option",{value:"text",children:"zh"===u?"文本":"Text"}),(0,i.jsx)("option",{value:"textarea",children:"zh"===u?"多行文本":"Textarea"}),(0,i.jsx)("option",{value:"number",children:"zh"===u?"数字":"Number"}),(0,i.jsx)("option",{value:"select",children:"zh"===u?"选择":"Select"}),(0,i.jsx)("option",{value:"boolean",children:"zh"===u?"布尔":"Boolean"}),(0,i.jsx)("option",{value:"date",children:"zh"===u?"日期":"Date"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"zh"===u?"字段描述":"Field Description"}),(0,i.jsx)(ex.p,{value:j,onChange:e=>y(e.target.value),placeholder:"zh"===u?"请输入字段描述":"Enter field description"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"zh"===u?"占位符":"Placeholder"}),(0,i.jsx)(ex.p,{value:N,onChange:e=>C(e.target.value),placeholder:"zh"===u?"请输入占位符":"Enter placeholder"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(ep.d,{checked:p,onCheckedChange:f}),(0,i.jsx)("label",{className:"text-sm",children:"zh"===u?"必填字段":"Required Field"})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,i.jsx)(q.$,{variant:"outline",onClick:()=>a(!1),children:"zh"===u?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:z,disabled:w,children:w?"zh"===u?"保存中...":"Saving...":"zh"===u?"保存":"Save"})]})]})})}function li(e){let{field:l,idx:a,total:s,typeNames:r,category:d,onToggleEnabled:c,onToggleRequired:o,onToggleList:u,onEdit:v,onRemove:b,onDragStart:m,onDragEnd:h}=e,{t:x,locale:g}=(0,n.Y)(),[p,f]=(0,t.useState)(!1),[j,y]=(0,t.useState)(!1),[N,C]=(0,t.useState)(!1),w=(0,t.useRef)(null);return(0,i.jsxs)(e3.Zp,{ref:w,className:"\n        p-3 transition-all duration-200 ease-in-out cursor-pointer\n        ".concat(j?"opacity-50 scale-105 rotate-1 bg-blue-50/80 border-blue-200 shadow-lg":"bg-white/60 backdrop-blur border-white/60","\n        ").concat(N?"ring-2 ring-blue-400 ring-opacity-50 scale-[1.02] bg-blue-50/40":"","\n        hover:shadow-md hover:bg-white/80\n      "),draggable:!0,onDragStart:e=>{if(y(!0),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget.outerHTML),w.current){let l=w.current.cloneNode(!0);l.style.transform="rotate(3deg)",l.style.opacity="0.8",l.style.border="2px solid #3b82f6",l.style.borderRadius="12px",l.style.backgroundColor="#dbeafe",document.body.appendChild(l),e.dataTransfer.setDragImage(l,0,0),setTimeout(()=>document.body.removeChild(l),0)}null==m||m(e)},onDragEnd:e=>{y(!1),C(!1),null==h||h(e)},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",C(!0)},onDragLeave:e=>{let l=e.currentTarget.getBoundingClientRect(),a=e.clientX,i=e.clientY;(a<l.left||a>l.right||i<l.top||i>l.bottom)&&C(!1)},children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,i.jsx)("div",{className:"\n              flex-shrink-0 p-1 rounded-md transition-all duration-200\n              ".concat(j?"bg-blue-200":"bg-gray-100 hover:bg-gray-200","\n              cursor-grab active:cursor-grabbing\n            "),title:x("dragToSort"),"aria-label":x("dragToSort"),children:(0,i.jsx)(e$.A,{className:"h-5 w-5 text-gray-600"})}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,i.jsx)("div",{className:"font-medium truncate",children:l.label}),(0,i.jsx)(e4.E,{variant:"outline",className:"text-xs",children:r[l.type]}),d&&(0,i.jsx)(e4.E,{variant:"secondary",className:"text-xs",children:d.name}),l.required&&(0,i.jsx)(e4.E,{variant:"destructive",className:"text-xs",children:"zh"===g?"必填":"Required"})]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground truncate",children:["zh"===g?"Key：":"Key: ",l.key]})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"zh"===g?"启用":"Enabled"}),(0,i.jsx)(ep.d,{checked:!1!==l.enabled,onCheckedChange:c})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"zh"===g?"必填":"Required"}),(0,i.jsx)(ep.d,{checked:!!l.required,onCheckedChange:o})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"zh"===g?"列表显示":"Show in List"}),(0,i.jsx)(ep.d,{checked:!1!==l.showInList,onCheckedChange:u})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(q.$,{size:"sm",onClick:v,className:"rounded-xl",title:x("editField"),children:[(0,i.jsx)(H.A,{className:"mr-1 size-4"}),"zh"===g?"编辑":"Edit"]}),(0,i.jsxs)(q.$,{size:"sm",variant:"destructive",onClick:()=>f(!0),className:"rounded-xl",title:x("deleteField"),children:[(0,i.jsx)(J.A,{className:"mr-1 size-4"}),"zh"===g?"删除":"Delete"]})]})]})]}),(0,i.jsx)(Y.o,{open:p,onOpenChange:f,itemName:l.label,itemType:"field",onConfirm:b})]})}function lt(e){let{app:l,dir:a,onChange:s,onAddField:r}=e,{t:d,locale:c}=(0,n.Y)(),[o,u]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[m,h]=(0,t.useState)(null),[x,g]=(0,t.useState)(null),[f,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)(!1),[C,w]=(0,t.useState)([]),[k,z]=(0,t.useState)(null),[S,A]=(0,t.useState)(!1),[I,_]=(0,t.useState)([]),[D,M]=(0,t.useState)(!1),[F,E]=(0,t.useState)(!1),L=async()=>{if(!(null==l?void 0:l.id)||!(null==a?void 0:a.id)){console.warn("⚠️ 缺少必要参数，跳过字段分类获取:",{appId:null==l?void 0:l.id,dirId:null==a?void 0:a.id}),w([]);return}try{var e;E(!1),A(!0),console.log("\uD83D\uDD0D 获取字段分类参数:",{appId:l.id,dirId:a.id});let i=await eb.BW.getFieldCategories({applicationId:l.id,directoryId:a.id,enabled:!0});console.log("\uD83D\uDCE1 字段分类API响应:",i),i.success&&(null===(e=i.data)||void 0===e?void 0:e.categories)?w(i.data.categories):(console.error("获取字段分类失败:",i.error),w([]))}catch(e){console.error("获取字段分类出错:",e),e instanceof Error&&(e.message.includes("Failed to fetch")?console.warn("\uD83C\uDF10 网络连接问题，使用默认字段分类"):console.error("❌ API调用失败:",e.message)),w([])}finally{A(!1),E(!0)}},P=async()=>{if(!(null==l?void 0:l.id)||!(null==a?void 0:a.id)){console.warn("⚠️ 缺少必要参数，跳过字段定义获取:",{appId:null==l?void 0:l.id,dirId:null==a?void 0:a.id}),_([]);return}try{var e;M(!0),console.log("\uD83D\uDD0D 获取字段定义参数:",{appId:l.id,dirId:a.id});let i=await eb.api.directoryDefs.getOrCreateDirectoryDefByDirectoryId(a.id,l.id);if(!i.success||!(null===(e=i.data)||void 0===e?void 0:e.id)){console.error("获取目录定义失败:",i.error),_([]);return}let t=i.data.id;console.log("\uD83D\uDCCB 目录定义ID:",t);let s=await eb.api.fields.getFields({directoryId:t,page:1,limit:100});if(console.log("\uD83D\uDCE1 字段定义API响应:",s),s.success&&s.data){let e=s.data.map(e=>{var l,a,i,t,s,n,r,d,c,o,u,v,b,m,h,x,g,p,f,j,y,N;let w=null;if(C.length>0){for(let l of C)if(l.predefinedFields&&Array.isArray(l.predefinedFields)&&l.predefinedFields.find(l=>l.id===e.id)){w=l.id;break}}return{id:e.id,key:e.key,label:(null===(l=e.schema)||void 0===l?void 0:l.label)||e.key,type:e.type,required:e.required||!1,unique:!1,showInList:null===(j=null===(a=e.schema)||void 0===a?void 0:a.showInList)||void 0===j||j,showInForm:null===(y=null===(i=e.schema)||void 0===i?void 0:i.showInForm)||void 0===y||y,showInDetail:null===(N=null===(t=e.schema)||void 0===t?void 0:t.showInDetail)||void 0===N||N,placeholder:(null===(s=e.schema)||void 0===s?void 0:s.placeholder)||"",desc:(null===(n=e.schema)||void 0===n?void 0:n.description)||"",options:(null===(r=e.schema)||void 0===r?void 0:r.options)||[],config:e.schema||{},validators:e.validators||{},enabled:!0,locked:!1,categoryId:w,cascaderOptions:(null===(d=e.schema)||void 0===d?void 0:d.cascaderOptions)||void 0,customExperienceConfig:(null===(c=e.schema)||void 0===c?void 0:c.customExperienceConfig)||void 0,certificateConfig:(null===(o=e.schema)||void 0===o?void 0:o.certificateConfig)||void 0,skillsConfig:(null===(u=e.schema)||void 0===u?void 0:u.skillsConfig)||void 0,progressConfig:(null===(v=e.schema)||void 0===v?void 0:v.progressConfig)||void 0,metaItemsConfig:e.schema&&e.schema.metaItemsConfig||void 0,identityVerificationConfig:(null===(b=e.schema)||void 0===b?void 0:b.identityVerificationConfig)||void 0,otherVerificationConfig:(null===(m=e.schema)||void 0===m?void 0:m.otherVerificationConfig)||void 0,imageConfig:(null===(h=e.schema)||void 0===h?void 0:h.imageConfig)||void 0,videoConfig:(null===(x=e.schema)||void 0===x?void 0:x.videoConfig)||void 0,booleanConfig:(null===(g=e.schema)||void 0===g?void 0:g.booleanConfig)||void 0,multiselectConfig:(null===(p=e.schema)||void 0===p?void 0:p.multiselectConfig)||void 0,preset:(null===(f=e.schema)||void 0===f?void 0:f.preset)||void 0,relation:e.relation?{targetDirId:e.relation.targetDirId||null,mode:e.relation.mode||("relation_one"===e.type?"one":"many"),displayFieldKey:e.relation.displayFieldKey||null}:void 0}});_(e),console.log("✅ 使用API字段定义:",e)}else console.error("获取字段定义失败:",s.error),_([])}catch(e){console.error("获取字段定义出错:",e),e instanceof Error&&(e.message.includes("Failed to fetch")?console.warn("\uD83C\uDF10 网络连接问题，使用默认字段定义"):console.error("❌ API调用失败:",e.message)),_([])}finally{M(!1)}};(0,t.useEffect)(()=>{(null==l?void 0:l.id)&&(null==a?void 0:a.id)?(console.log("\uD83D\uDD04 应用或目录变化，重新获取数据:",{appId:l.id,dirId:a.id}),L()):console.log("⏸️ 等待必要参数就绪:",{appId:null==l?void 0:l.id,dirId:null==a?void 0:a.id})},[null==l?void 0:l.id,null==a?void 0:a.id]),(0,t.useEffect)(()=>{(null==l?void 0:l.id)&&(null==a?void 0:a.id)&&F&&(console.log("\uD83D\uDD04 字段分类加载完成，开始获取字段定义"),P())},[null==l?void 0:l.id,null==a?void 0:a.id,F]);let T=(0,t.useMemo)(()=>(function(e,l){let a=new Map,i=[];return e.forEach(e=>{let t=e.categoryId?l.find(l=>l.id===e.categoryId):l.find(l=>{var a;return null===(a=l.fields)||void 0===a?void 0:a.some(l=>l.key===e.key)});t?(a.has(t.id)||a.set(t.id,{category:t,fields:[]}),a.get(t.id).fields.push(e)):i.push(e)}),{categories:Array.from(a.values()),uncategorizedFields:i}})(I,C.map(e=>({id:e.id,name:e.name,description:e.description,order:e.order,enabled:e.enabled,system:e.system,fields:e.predefinedFields||[]}))),[I,C]),R=(0,t.useMemo)(()=>(function(e,l,a){if(!l)return e;if("uncategorized"===l)return a.uncategorizedFields;let i=a.categories.find(e=>e.category.id===l);return i?i.fields:[]})(I,k,T),[I,k,T]);function V(){h(null),g(null),function(){try{let e=new Map(I.map((e,l)=>[e.key,l]));(function(e){let l=structuredClone(a);e(l),s(l)})(l=>{l.fields.sort((l,a)=>{var i,t;let s=null!==(i=e.get(l.key))&&void 0!==i?i:Number.MAX_SAFE_INTEGER,n=null!==(t=e.get(a.key))&&void 0!==t?t:Number.MAX_SAFE_INTEGER;return s-n}),l.fields=l.fields.map((e,l)=>({...e,order:l}))})}catch(e){console.error("同步字段顺序到目录失败",e)}}(),$()}let $=async()=>{try{var e,i,t,s,n,r,d,c,o,u,v,b;if(!(null==l?void 0:l.id)||!(null==a?void 0:a.id))return;let m=await eb.api.directoryDefs.getOrCreateDirectoryDefByDirectoryId(a.id,l.id);if(!m.success||!(null===(e=m.data)||void 0===e?void 0:e.id))return;m.data.id;for(let e=0;e<I.length;e++){let l=I[e];l.id&&await eb.api.fields.updateField(l.id,{schema:{...l.config||{},label:(null!==(r=null===(i=l.config)||void 0===i?void 0:i.label)&&void 0!==r?r:l.label)||l.label,showInList:null===(c=null!==(d=null===(t=l.config)||void 0===t?void 0:t.showInList)&&void 0!==d?d:l.showInList)||void 0===c||c,showInForm:null===(u=null!==(o=null===(s=l.config)||void 0===s?void 0:s.showInForm)&&void 0!==o?o:l.showInForm)||void 0===u||u,showInDetail:null===(b=null!==(v=null===(n=l.config)||void 0===n?void 0:n.showInDetail)&&void 0!==v?v:l.showInDetail)||void 0===b||b,order:e}})}console.log("✅ Field order saved successfully")}catch(e){console.error("❌ Failed to save field order:",e)}},B=(0,t.useMemo)(()=>({text:d("ft_text"),textarea:d("ft_textarea"),number:d("ft_number"),select:d("ft_select"),multiselect:d("ft_multiselect"),boolean:d("ft_boolean"),date:d("ft_date"),datetime:d("ft_datetime"),daterange:d("ft_daterange"),multidate:d("ft_multidate"),time:d("ft_time"),tags:d("ft_tags"),image:d("ft_image"),profile:d("ft_profile"),multiimage:d("ft_multiimage"),video:d("ft_video"),multivideo:d("ft_multivideo"),file:d("ft_file"),richtext:d("ft_richtext"),percent:d("ft_percent"),progress:d("ft_progress"),barcode:d("ft_barcode"),checkbox:d("ft_checkbox"),cascader:d("ft_cascader"),relation_one:d("ft_relation_one"),relation_many:d("ft_relation_many"),experience:d("ft_experience"),identity_verification:d("ft_identity_verification"),other_verification:d("ft_other_verification"),meta_items:d("ft_meta_items")}),[d]);async function U(e){if(confirm(d("confirmDeleteField")))try{console.log("\uD83D\uDD0D 删除字段定义:",e);let l=await eb.api.fields.deleteField(e);l.success?(_(l=>l.filter(l=>l.id!==e)),console.log("✅ 字段定义删除成功")):console.error("❌ 字段定义删除失败:",l.error)}catch(e){console.error("❌ 字段定义删除出错:",e)}}async function K(e){try{var i,t,s,n,d,c,o,u,v,b,m,h,x,g,p,f,j,y,N,w,z,S,A,I;console.log("\uD83D\uDD0D 创建字段定义参数:",e),console.log("\uD83D\uDD0D 关联字段配置:",{type:e.type,relationTargetId:e.relationTargetId,relationDisplayFieldKey:e.relationDisplayFieldKey});let D=await eb.api.directoryDefs.getOrCreateDirectoryDefByDirectoryId(a.id,l.id);if(!D.success||!(null===(i=D.data)||void 0===i?void 0:i.id)){console.error("获取目录定义失败:",D.error);return}let M=D.data.id,F=await eb.api.fields.createField({directoryId:M,key:e.key,kind:"relation_one"===e.type||"relation_many"===e.type?"relation":"primitive",type:e.type,schema:{label:e.label,placeholder:e.placeholder||"",description:e.desc||"",options:e.options||[],required:e.required||!1,showInList:e.showInList||!0,showInForm:e.showInForm||!0,showInDetail:e.showInDetail||!0,...e.preset&&{preset:e.preset},...e.cascaderOptions&&{cascaderOptions:e.cascaderOptions},...e.customExperienceConfig&&{customExperienceConfig:e.customExperienceConfig},...e.certificateConfig&&{certificateConfig:e.certificateConfig},...e.skillsConfig&&{skillsConfig:e.skillsConfig},...e.progressConfig&&{progressConfig:e.progressConfig},...e.metaItemsConfig&&{metaItemsConfig:e.metaItemsConfig},...e.identityVerificationConfig&&{identityVerificationConfig:e.identityVerificationConfig},...e.otherVerificationConfig&&{otherVerificationConfig:e.otherVerificationConfig},...e.imageConfig&&{imageConfig:e.imageConfig},...e.videoConfig&&{videoConfig:e.videoConfig},...e.booleanConfig&&{booleanConfig:e.booleanConfig},...e.multiselectConfig&&{multiselectConfig:e.multiselectConfig}},..."relation_one"===e.type||"relation_many"===e.type?{relation:{targetDirId:e.relationTargetId||null,mode:"relation_one"===e.type?"one":"many",displayFieldKey:e.relationDisplayFieldKey||null,bidirectional:e.relationBidirectional||!1,reverseFieldKey:e.relationReverseFieldKey||null,onDelete:e.relationOnDelete||"restrict"}}:{},validators:e.validators||{},required:e.required||!1});if(F.success&&F.data){let l={id:F.data.id,key:F.data.key,label:(null===(t=F.data.schema)||void 0===t?void 0:t.label)||F.data.key,type:F.data.type,required:F.data.required||!1,unique:!1,showInList:(null===(s=F.data.schema)||void 0===s?void 0:s.showInList)||!0,showInForm:(null===(n=F.data.schema)||void 0===n?void 0:n.showInForm)||!0,showInDetail:(null===(d=F.data.schema)||void 0===d?void 0:d.showInDetail)||!0,placeholder:(null===(c=F.data.schema)||void 0===c?void 0:c.placeholder)||"",desc:(null===(o=F.data.schema)||void 0===o?void 0:o.description)||"",options:(null===(u=F.data.schema)||void 0===u?void 0:u.options)||[],config:F.data.schema||{},validators:F.data.validators||{},enabled:!0,locked:!1,categoryId:e.categoryId||null,cascaderOptions:(null===(v=F.data.schema)||void 0===v?void 0:v.cascaderOptions)||void 0,customExperienceConfig:(null===(b=F.data.schema)||void 0===b?void 0:b.customExperienceConfig)||void 0,certificateConfig:(null===(m=F.data.schema)||void 0===m?void 0:m.certificateConfig)||void 0,skillsConfig:(null===(h=F.data.schema)||void 0===h?void 0:h.skillsConfig)||void 0,progressConfig:(null===(x=F.data.schema)||void 0===x?void 0:x.progressConfig)||void 0,metaItemsConfig:(null===(g=F.data.schema)||void 0===g?void 0:g.metaItemsConfig)||void 0,identityVerificationConfig:(null===(p=F.data.schema)||void 0===p?void 0:p.identityVerificationConfig)||void 0,otherVerificationConfig:(null===(f=F.data.schema)||void 0===f?void 0:f.otherVerificationConfig)||void 0,imageConfig:(null===(j=F.data.schema)||void 0===j?void 0:j.imageConfig)||void 0,videoConfig:(null===(y=F.data.schema)||void 0===y?void 0:y.videoConfig)||void 0,booleanConfig:(null===(N=F.data.schema)||void 0===N?void 0:N.booleanConfig)||void 0,multiselectConfig:(null===(w=F.data.schema)||void 0===w?void 0:w.multiselectConfig)||void 0,preset:(null===(z=F.data.schema)||void 0===z?void 0:z.preset)||void 0};if(_(e=>[...e,l]),("relation_one"===e.type||"relation_many"===e.type)&&e.relationBidirectional&&e.relationTargetId&&(console.log("\uD83D\uDD04 双向关联字段创建成功，需要刷新目标目录字段列表"),setTimeout(()=>{P()},1e3)),e.categoryId)try{let l=C.find(l=>l.id===e.categoryId);if(l){let a=[...l.predefinedFields||[],{id:F.data.id,key:F.data.key,label:(null===(S=F.data.schema)||void 0===S?void 0:S.label)||F.data.key,type:F.data.type,description:(null===(A=F.data.schema)||void 0===A?void 0:A.description)||"",visibility:"visible",sensitive:!1,editable:"user",required:F.data.required||!1,options:(null===(I=F.data.schema)||void 0===I?void 0:I.options)||[]}],i=await eb.api.fieldCategories.updateFieldCategory(e.categoryId,{predefinedFields:a});i.success?(console.log("✅ 字段已成功归类到分类:",k),L()):console.error("❌ 字段归类失败:",i.error)}}catch(e){console.error("❌ 字段归类出错:",e)}null==r||r(),console.log("✅ 字段定义创建成功:",l)}else console.error("❌ 字段定义创建失败:",F.error)}catch(e){throw console.error("❌ 字段创建出错:",e),e}}async function H(e,l){try{console.log("\uD83D\uDD0D 更新字段定义参数:",{id:e,fieldData:l});let a=await eb.api.fields.updateField(e,{key:l.key,type:l.type,kind:"relation_one"===l.type||"relation_many"===l.type?"relation":"primitive",schema:{label:l.label,placeholder:l.placeholder||"",description:l.desc||"",options:l.options||[],required:l.required||!1,showInList:l.showInList||!0,showInForm:l.showInForm||!0,showInDetail:l.showInDetail||!0,preset:l.preset||void 0,cascaderOptions:l.cascaderOptions||void 0,customExperienceConfig:l.customExperienceConfig||void 0,certificateConfig:l.certificateConfig||void 0,skillsConfig:l.skillsConfig||void 0,progressConfig:l.progressConfig||void 0,metaItemsConfig:l.metaItemsConfig||void 0,identityVerificationConfig:l.identityVerificationConfig||void 0,otherVerificationConfig:l.otherVerificationConfig||void 0,imageConfig:l.imageConfig||void 0,videoConfig:l.videoConfig||void 0,booleanConfig:l.booleanConfig||void 0,multiselectConfig:l.multiselectConfig||void 0},..."relation_one"===l.type||"relation_many"===l.type?{relation:{targetDirId:l.relationTargetId||null,mode:"relation_one"===l.type?"one":"many",displayFieldKey:l.relationDisplayFieldKey||null}}:{},validators:l.validators||{},required:l.required||!1});a.success&&a.data?(_(l=>l.map(l=>{var i,t,s,n,r,d,c,o,u,v,b,m,h,x,g,p,f,j,y,N;return l.id===e?{...l,key:a.data.key,label:(null===(i=a.data.schema)||void 0===i?void 0:i.label)||a.data.key,type:a.data.type,required:a.data.required||!1,unique:!1,showInList:(null===(t=a.data.schema)||void 0===t?void 0:t.showInList)||!0,showInForm:(null===(s=a.data.schema)||void 0===s?void 0:s.showInForm)||!0,showInDetail:(null===(n=a.data.schema)||void 0===n?void 0:n.showInDetail)||!0,placeholder:(null===(r=a.data.schema)||void 0===r?void 0:r.placeholder)||"",desc:(null===(d=a.data.schema)||void 0===d?void 0:d.description)||"",options:(null===(c=a.data.schema)||void 0===c?void 0:c.options)||[],config:a.data.schema||{},validators:a.data.validators||{},cascaderOptions:(null===(o=a.data.schema)||void 0===o?void 0:o.cascaderOptions)||void 0,customExperienceConfig:(null===(u=a.data.schema)||void 0===u?void 0:u.customExperienceConfig)||void 0,certificateConfig:(null===(v=a.data.schema)||void 0===v?void 0:v.certificateConfig)||void 0,skillsConfig:(null===(b=a.data.schema)||void 0===b?void 0:b.skillsConfig)||void 0,progressConfig:(null===(m=a.data.schema)||void 0===m?void 0:m.progressConfig)||void 0,metaItemsConfig:(null===(h=a.data.schema)||void 0===h?void 0:h.metaItemsConfig)||void 0,identityVerificationConfig:(null===(x=a.data.schema)||void 0===x?void 0:x.identityVerificationConfig)||void 0,otherVerificationConfig:(null===(g=a.data.schema)||void 0===g?void 0:g.otherVerificationConfig)||void 0,imageConfig:(null===(p=a.data.schema)||void 0===p?void 0:p.imageConfig)||void 0,videoConfig:(null===(f=a.data.schema)||void 0===f?void 0:f.videoConfig)||void 0,booleanConfig:(null===(j=a.data.schema)||void 0===j?void 0:j.booleanConfig)||void 0,multiselectConfig:(null===(y=a.data.schema)||void 0===y?void 0:y.multiselectConfig)||void 0,preset:(null===(N=a.data.schema)||void 0===N?void 0:N.preset)||void 0}:l})),console.log("✅ 字段定义更新成功")):console.error("❌ 字段定义更新失败:",a.error)}catch(e){console.error("❌ 字段定义更新出错:",e)}}async function J(e,l){try{console.log("\uD83D\uDD0D 切换字段启用状态:",{id:e,enabled:l}),_(a=>a.map(a=>a.id===e?{...a,enabled:l}:a)),console.log("✅ 字段启用状态切换成功（本地）")}catch(e){console.error("❌ 字段启用状态切换出错:",e)}}async function W(e,l){try{console.log("\uD83D\uDD0D 切换字段必填状态:",{id:e,required:l}),_(a=>a.map(a=>a.id===e?{...a,required:l}:a)),console.log("✅ 字段必填状态切换成功（本地）")}catch(e){console.error("❌ 字段必填状态切换出错:",e)}}async function Y(e,l){try{console.log("\uD83D\uDD0D 切换字段列表显示状态:",{id:e,showInList:l}),_(a=>a.map(a=>a.id===e?{...a,showInList:l}:a)),console.log("✅ 字段列表显示状态切换成功（本地）")}catch(e){console.error("❌ 字段列表显示状态切换出错:",e)}}let G=(0,t.useMemo)(()=>"zh"===c?{title:"添加字段",displayName:"显示名",displayNamePh:"如：商品名",key:"内部名（唯一）",keyPh:"如：product_name",keyInvalid:"需以字母或下划线开头，仅含字母数字下划线，≤40字符",keyDuplicate:"内部名已存在",dataType:"数据类型",required:"必填",requiredHint:"表单校验时要求必填",unique:"唯一",uniqueHint:"该字段值不可重复",showInList:"显示在列表",showInListHint:"控制列表是否展示",default:"默认值",none:"无",true:"是",false:"否",optionLabel:"选项",optionPlaceholder:"选项",addOption:"添加选项",optionsHint:"提示：默认值会根据当前选项生成；修改选项后请重新确认默认值。",relationTarget:"关联目标表",cancel:"取消",submit:"添加字段",dateModeLabel:"日期模式",dateModeSingle:"单个日期",dateModeMultiple:"多个日期",dateModeRange:"日期区间",basicFieldsLabel:d("basicFields"),businessFieldsLabel:d("businessFields")}:{title:"Add Field",displayName:"Label",displayNamePh:"e.g. Product Name",key:"Key (unique)",keyPh:"e.g. product_name",keyInvalid:"Must start with a letter/underscore, only letters/digits/underscore, ≤ 40 chars",keyDuplicate:"Key already exists",dataType:"Data Type",required:"Required",requiredHint:"Enforce required in forms",unique:"Unique",uniqueHint:"Value cannot be duplicated",showInList:"Show in List",showInListHint:"Control visibility in list",default:"Default",none:"None",true:"True",false:"False",optionLabel:"Options",optionPlaceholder:"Option",addOption:"Add option",optionsHint:"Tip: default value depends on options; re-verify after changes.",relationTarget:"Relation Target Table",cancel:"Cancel",submit:"Add Field",dateModeLabel:"Date Mode",dateModeSingle:"Single",dateModeMultiple:"Multiple",dateModeRange:"Range",basicFieldsLabel:d("basicFields"),businessFieldsLabel:d("businessFields")},[c,d]);return(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:d("fieldManagement")}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(q.$,{size:"sm",onClick:()=>N(!0),className:"rounded-xl",children:[(0,i.jsx)(O.A,{className:"mr-1 size-4"}),"zh"===c?"添加字段":"Add Field"]}),(0,i.jsxs)(q.$,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"rounded-xl",children:[(0,i.jsx)(p.A,{className:"mr-1 size-4"}),d("fieldCategoryManagement")]})]})]}),(0,i.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[(0,i.jsxs)(q.$,{variant:null===k?"default":"outline",size:"sm",onClick:()=>z(null),className:"rounded-xl flex-shrink-0",children:[d("allFields")," (",I.length,")"]}),C.filter(e=>e.enabled).map(e=>{let l=T.categories.find(l=>l.category.id===e.id),a=l?l.fields.length:0;return(0,i.jsxs)(q.$,{variant:k===e.id?"default":"outline",size:"sm",onClick:()=>z(e.id),className:"rounded-xl flex-shrink-0",children:[e.name," (",a,")"]},"category-".concat(e.id))}),T.uncategorizedFields.length>0&&(0,i.jsxs)(q.$,{variant:"uncategorized"===k?"default":"outline",size:"sm",onClick:()=>z("uncategorized"),className:"rounded-xl flex-shrink-0",children:[d("uncategorized")," (",T.uncategorizedFields.length,")"]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[R.map((e,l)=>{let a=null!==m&&x===l&&m!==l,s=e.categoryId?C.find(l=>l.id===e.categoryId):C.find(l=>{var a;return null===(a=l.predefinedFields)||void 0===a?void 0:a.some(l=>l.key===e.key)});return(0,i.jsxs)(t.Fragment,{children:[a&&(0,i.jsx)("div",{className:"h-1 bg-gradient-to-r from-green-400 to-blue-400 rounded-full mx-2 opacity-75 shadow-sm animate-pulse"}),(0,i.jsx)("div",{className:"rounded-xl transition-all duration-200 ".concat(m===l?"ring-2 ring-blue-500 ring-opacity-50":x===l&&null!==m?"ring-2 ring-green-400 ring-opacity-75 scale-[1.01]":""),onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",g(l),h(e=>{if(null===e||e===l)return e;let a=Date.now();if(a-window.lastDragUpdate<50)return e;window.lastDragUpdate=a;let i=R[e],t=R[l];return i&&t&&_(e=>{let l=[...e],a=l.findIndex(e=>e.id===i.id),s=l.findIndex(e=>e.id===t.id);if(a<0||s<0)return e;let[n]=l.splice(a,1);return l.splice(s,0,n),l.map((e,l)=>({...e,order:l}))}),l})},onDragEnter:()=>{null!==m&&m!==l&&g(l)},onDragLeave:e=>(function(e,l){let a=e.currentTarget.getBoundingClientRect(),i=e.clientX,t=e.clientY;(i<a.left||i>a.right||t<a.top||t>a.bottom)&&x===l&&g(null)})(e,l),children:(0,i.jsx)(li,{field:e,idx:l,total:R.length,typeNames:B,category:s?{id:s.id,name:s.name,description:s.description,order:s.order,enabled:s.enabled,system:s.system,fields:s.predefinedFields||[]}:void 0,onToggleEnabled:l=>J(e.id,l),onToggleRequired:l=>W(e.id,l),onToggleList:l=>Y(e.id,l),onEdit:()=>{b(e),u(!0)},onRemove:()=>U(e.id),onDragStart:()=>{h(l)},onDragEnd:V})},"field-".concat(e.id))]},"field-container-".concat(e.id))}),0===R.length&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground text-center py-8",children:k?"zh"===c?"该分类暂无字段":"No fields in this category":"zh"===c?"暂无字段":"No fields"})]}),v&&(0,i.jsx)(e2,{open:o,onOpenChange:u,app:l,dir:a,field:v,typeNames:B,i18n:G,onSubmit:async e=>{await H(v.id,e),u(!1),b(null)}}),(0,i.jsx)(e1,{open:y,onOpenChange:N,app:l,currentDir:a,typeNames:B,onSubmit:e=>{K(e),N(!1)},i18n:G}),(0,i.jsx)(ll,{open:f,onOpenChange:j,categories:C.map(e=>({id:e.id,name:e.name,description:e.description,order:e.order,enabled:e.enabled,system:e.system,fields:e.predefinedFields||[]})),onCategoriesChange:e=>{var l;w(l=e.map(e=>({id:e.id,name:e.name,description:e.description,order:e.order,enabled:e.enabled,system:e.system,predefinedFields:e.fields||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))),s(function(e,l){let a=structuredClone(e);return a.fieldCategories=l,a}(a,l.map(e=>({id:e.id,name:e.name,description:e.description,order:e.order,enabled:e.enabled,system:e.system,fields:e.predefinedFields||[]}))))},applicationId:l.id,directoryId:a.id,onFieldAdded:()=>{L()}})]})}a(69074),a(28014),a(58306);var ls=a(54490);function ln(e){let{...l}=e;return(0,i.jsx)(ls.bL,{"data-slot":"sheet",...l})}function lr(e){let{...l}=e;return(0,i.jsx)(ls.ZL,{"data-slot":"sheet-portal",...l})}function ld(e){let{className:l,...a}=e;return(0,i.jsx)(ls.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",l),...a})}function lc(e){let{className:l,children:a,side:t="right",...s}=e;return(0,i.jsxs)(lr,{children:[(0,i.jsx)(ld,{}),(0,i.jsxs)(ls.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===t&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===t&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===t&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===t&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",l),...s,children:[a,(0,i.jsxs)(ls.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,i.jsx)(eR.A,{className:"size-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function lo(e){let{className:l,...a}=e;return(0,i.jsx)(ls.hE,{"data-slot":"sheet-title",className:(0,o.cn)("text-foreground font-semibold",l),...a})}var lu=a(1331),lv=a(53107),lb=a(27367);function lm(e,l){for(let i of e){var a;if(i.id===l)return i;if(null===(a=i.children)||void 0===a?void 0:a.length){let e=lm(i.children,l);if(e)return e}}return null}function lh(e){let{tree:l=[],value:a="all",onChange:s,placeholder:n="请选择",clearText:r="全部",l1Label:d="一级分类",l2Label:c="二级分类",l3Label:o="三级分类"}=e;console.log("\uD83D\uDD0D CascaderSelect - Tree data:",l),console.log("\uD83D\uDD0D CascaderSelect - Tree length:",l.length),console.log("\uD83D\uDD0D CascaderSelect - Value:",a);let[u,v]=(0,t.useState)(!1),[b,m]=(0,t.useState)(""),[h,x]=(0,t.useState)(""),[g,p]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!u){if(!a||"all"===a){m(""),x(""),p("");return}let e=function e(l,a){for(let t of l){var i;if(t.name===a)return[t.id];if(null===(i=t.children)||void 0===i?void 0:i.length){let l=e(t.children,a);if(l)return[t.id,...l]}}return null}(l,a);e&&(m(e[0]||""),x(e[1]||""),p(e[2]||""))}},[a,l,u]);let f=(0,t.useMemo)(()=>{var e;return b&&(null===(e=lm(l,b))||void 0===e?void 0:e.children)||[]},[l,b]),j=(0,t.useMemo)(()=>{var e;return h&&(null===(e=lm(l,h))||void 0===e?void 0:e.children)||[]},[l,h]),y=(0,t.useMemo)(()=>a&&"all"!==a?a:n,[a,n]);function N(e,a){if(!a){if(1===e&&s("all"),2===e){let e=lm(l,b);s((null==e?void 0:e.name)||"all")}if(3===e){let e=lm(l,h);s((null==e?void 0:e.name)||"all")}return}if(1===e){let e=lm(l,a);e&&s(e.name)}else if(2===e){let e=lm(l,a);e&&s(e.name)}else if(3===e){let e=lm(l,a);e&&s(e.name)}}function C(e){return a&&"all"!==a&&a===e}return(0,i.jsxs)(lu.AM,{open:u,onOpenChange:v,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:"w-[220px] justify-between bg-white/60 backdrop-blur rounded-xl",title:"选择分类",children:[(0,i.jsx)("span",{className:"all"===a?"text-muted-foreground":"",children:y}),(0,i.jsx)(lv.A,{className:"ml-2 h-4 w-4 opacity-70"})]})}),(0,i.jsxs)(lu.hl,{align:"start",className:"w-[680px] p-0 overflow-hidden bg-white/80 backdrop-blur border-white/60 rounded-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-white/60 bg-white/70",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"分类"}),(0,i.jsx)(q.$,{size:"sm",variant:"secondary",onClick:()=>{s("all"),m(""),x(""),p(""),v(!1)},children:r})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 divide-x divide-white/60",children:[(0,i.jsxs)("div",{className:"min-h-[280px]",children:[(0,i.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:d}),(0,i.jsx)(e5.F,{className:"h-[260px]",children:(0,i.jsx)("ul",{className:"py-1",children:l.map(e=>{let l=b===e.id;return(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(l?"bg-sky-50":""),onClick:()=>{let l=e.id;m(l),x(""),p(""),N(1,l)},children:[(0,i.jsx)("span",{className:C(e.name)?"text-sky-600 font-medium":"",children:e.name}),C(e.name)&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.id)})})})]}),(0,i.jsxs)("div",{className:"min-h-[280px]",children:[(0,i.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:c}),(0,i.jsx)(e5.F,{className:"h-[260px]",children:(0,i.jsxs)("ul",{className:"py-1",children:[0===f.length&&(0,i.jsx)("li",{className:"px-3 py-2 text-xs text-muted-foreground",children:"请选择上一级"}),f.map(e=>{let l=h===e.id;return(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(l?"bg-sky-50":""),onClick:()=>{let l=e.id;x(l),p(""),N(2,l)},disabled:!b,title:b?void 0:"请先选择一级分类",children:[(0,i.jsx)("span",{className:C(e.name)?"text-sky-600 font-medium":"",children:e.name}),C(e.name)&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.id)})]})})]}),(0,i.jsxs)("div",{className:"min-h-[280px]",children:[(0,i.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:o}),(0,i.jsx)(e5.F,{className:"h-[260px]",children:(0,i.jsxs)("ul",{className:"py-1",children:[0===j.length&&(0,i.jsx)("li",{className:"px-3 py-2 text-xs text-muted-foreground",children:h?"该分支暂无子级，可直接选择上一级":"请选择上一级"}),j.map(e=>{let l=g===e.id;return(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(l?"bg-sky-50":""),onClick:()=>{let l=e.id;p(l),N(3,l),v(!1)},disabled:!h,title:h?void 0:"请先选择二级分类",children:[(0,i.jsx)("span",{className:C(e.name)?"text-sky-600 font-medium":"",children:e.name}),C(e.name)&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.id)})]})})]})]})]})]})}let lx=[{value:"110000",label:"北京市",children:[{value:"110100",label:"市辖区",children:[{value:"110101",label:"东城区"},{value:"110102",label:"西城区"},{value:"110105",label:"朝阳区"},{value:"110106",label:"丰台区"},{value:"110107",label:"石景山区"},{value:"110108",label:"海淀区"},{value:"110109",label:"门头沟区"},{value:"110111",label:"房山区"},{value:"110112",label:"通州区"},{value:"110113",label:"顺义区"},{value:"110114",label:"昌平区"},{value:"110115",label:"大兴区"},{value:"110116",label:"怀柔区"},{value:"110117",label:"平谷区"},{value:"110118",label:"密云区"},{value:"110119",label:"延庆区"}]}]},{value:"120000",label:"天津市",children:[{value:"120100",label:"市辖区",children:[{value:"120101",label:"和平区"},{value:"120102",label:"河东区"},{value:"120103",label:"河西区"},{value:"120104",label:"南开区"},{value:"120105",label:"河北区"},{value:"120106",label:"红桥区"},{value:"120110",label:"东丽区"},{value:"120111",label:"西青区"},{value:"120112",label:"津南区"},{value:"120113",label:"北辰区"},{value:"120114",label:"武清区"},{value:"120115",label:"宝坻区"},{value:"120116",label:"滨海新区"},{value:"120117",label:"宁河区"},{value:"120118",label:"静海区"},{value:"120119",label:"蓟州区"}]}]},{value:"130000",label:"河北省",children:[{value:"130100",label:"石家庄市",children:[{value:"130101",label:"市辖区"},{value:"130102",label:"长安区"},{value:"130104",label:"桥西区"},{value:"130105",label:"新华区"},{value:"130107",label:"井陉矿区"},{value:"130108",label:"裕华区"},{value:"130109",label:"藁城区"},{value:"130110",label:"鹿泉区"},{value:"130111",label:"栾城区"},{value:"130121",label:"井陉县"},{value:"130123",label:"正定县"},{value:"130125",label:"行唐县"},{value:"130126",label:"灵寿县"},{value:"130127",label:"高邑县"},{value:"130128",label:"深泽县"},{value:"130129",label:"赞皇县"},{value:"130130",label:"无极县"},{value:"130131",label:"平山县"},{value:"130132",label:"元氏县"},{value:"130133",label:"赵县"},{value:"130171",label:"石家庄高新技术产业开发区"},{value:"130172",label:"石家庄循环化工园区"},{value:"130181",label:"辛集市"},{value:"130183",label:"晋州市"},{value:"130184",label:"新乐市"}]},{value:"130200",label:"唐山市",children:[{value:"130201",label:"市辖区"},{value:"130202",label:"路南区"},{value:"130203",label:"路北区"},{value:"130204",label:"古冶区"},{value:"130205",label:"开平区"},{value:"130207",label:"丰南区"},{value:"130208",label:"丰润区"},{value:"130209",label:"曹妃甸区"},{value:"130224",label:"滦南县"},{value:"130225",label:"乐亭县"},{value:"130227",label:"迁西县"},{value:"130229",label:"玉田县"},{value:"130271",label:"河北唐山芦台经济开发区"},{value:"130272",label:"唐山市汉沽管理区"},{value:"130273",label:"唐山高新技术产业开发区"},{value:"130274",label:"河北唐山海港经济开发区"},{value:"130281",label:"遵化市"},{value:"130283",label:"迁安市"},{value:"130284",label:"滦州市"}]},{value:"130300",label:"秦皇岛市",children:[{value:"130301",label:"市辖区"},{value:"130302",label:"海港区"},{value:"130303",label:"山海关区"},{value:"130304",label:"北戴河区"},{value:"130306",label:"抚宁区"},{value:"130321",label:"青龙满族自治县"},{value:"130322",label:"昌黎县"},{value:"130324",label:"卢龙县"},{value:"130371",label:"秦皇岛市经济技术开发区"},{value:"130372",label:"北戴河新区"}]},{value:"130400",label:"邯郸市",children:[{value:"130401",label:"市辖区"},{value:"130402",label:"邯山区"},{value:"130403",label:"丛台区"},{value:"130404",label:"复兴区"},{value:"130406",label:"峰峰矿区"},{value:"130407",label:"肥乡区"},{value:"130408",label:"永年区"},{value:"130423",label:"临漳县"},{value:"130424",label:"成安县"},{value:"130425",label:"大名县"},{value:"130426",label:"涉县"},{value:"130427",label:"磁县"},{value:"130430",label:"邱县"},{value:"130431",label:"鸡泽县"},{value:"130432",label:"广平县"},{value:"130433",label:"馆陶县"},{value:"130434",label:"魏县"},{value:"130435",label:"曲周县"},{value:"130471",label:"邯郸经济技术开发区"},{value:"130473",label:"邯郸冀南新区"},{value:"130481",label:"武安市"}]},{value:"130500",label:"邢台市",children:[{value:"130501",label:"市辖区"},{value:"130502",label:"桥东区"},{value:"130503",label:"桥西区"},{value:"130521",label:"邢台县"},{value:"130522",label:"临城县"},{value:"130523",label:"内丘县"},{value:"130524",label:"柏乡县"},{value:"130525",label:"隆尧县"},{value:"130526",label:"任县"},{value:"130527",label:"南和县"},{value:"130528",label:"宁晋县"},{value:"130529",label:"巨鹿县"},{value:"130530",label:"新河县"},{value:"130531",label:"广宗县"},{value:"130532",label:"平乡县"},{value:"130533",label:"威县"},{value:"130534",label:"清河县"},{value:"130535",label:"临西县"},{value:"130571",label:"河北邢台经济开发区"},{value:"130581",label:"南宫市"},{value:"130582",label:"沙河市"}]},{value:"130600",label:"保定市",children:[{value:"130601",label:"市辖区"},{value:"130602",label:"竞秀区"},{value:"130606",label:"莲池区"},{value:"130607",label:"满城区"},{value:"130608",label:"清苑区"},{value:"130609",label:"徐水区"},{value:"130623",label:"涞水县"},{value:"130624",label:"阜平县"},{value:"130626",label:"定兴县"},{value:"130627",label:"唐县"},{value:"130628",label:"高阳县"},{value:"130629",label:"容城县"},{value:"130630",label:"涞源县"},{value:"130631",label:"望都县"},{value:"130632",label:"安新县"},{value:"130633",label:"易县"},{value:"130634",label:"曲阳县"},{value:"130635",label:"蠡县"},{value:"130636",label:"顺平县"},{value:"130637",label:"博野县"},{value:"130638",label:"雄县"},{value:"130671",label:"保定高新技术产业开发区"},{value:"130672",label:"保定白沟新城"},{value:"130681",label:"涿州市"},{value:"130682",label:"定州市"},{value:"130683",label:"安国市"},{value:"130684",label:"高碑店市"}]},{value:"130700",label:"张家口市",children:[{value:"130701",label:"市辖区"},{value:"130702",label:"桥东区"},{value:"130703",label:"桥西区"},{value:"130705",label:"宣化区"},{value:"130706",label:"下花园区"},{value:"130708",label:"万全区"},{value:"130709",label:"崇礼区"},{value:"130722",label:"张北县"},{value:"130723",label:"康保县"},{value:"130724",label:"沽源县"},{value:"130725",label:"尚义县"},{value:"130726",label:"蔚县"},{value:"130727",label:"阳原县"},{value:"130728",label:"怀安县"},{value:"130730",label:"怀来县"},{value:"130731",label:"涿鹿县"},{value:"130732",label:"赤城县"},{value:"130771",label:"张家口经济开发区"},{value:"130772",label:"张家口市察北管理区"},{value:"130773",label:"张家口市塞北管理区"}]},{value:"130800",label:"承德市",children:[{value:"130801",label:"市辖区"},{value:"130802",label:"双桥区"},{value:"130803",label:"双滦区"},{value:"130804",label:"鹰手营子矿区"},{value:"130821",label:"承德县"},{value:"130822",label:"兴隆县"},{value:"130824",label:"滦平县"},{value:"130825",label:"隆化县"},{value:"130826",label:"丰宁满族自治县"},{value:"130827",label:"宽城满族自治县"},{value:"130828",label:"围场满族蒙古族自治县"},{value:"130871",label:"承德高新技术产业开发区"},{value:"130881",label:"平泉市"}]},{value:"130900",label:"沧州市",children:[{value:"130901",label:"市辖区"},{value:"130902",label:"新华区"},{value:"130903",label:"运河区"},{value:"130921",label:"沧县"},{value:"130922",label:"青县"},{value:"130923",label:"东光县"},{value:"130924",label:"海兴县"},{value:"130925",label:"盐山县"},{value:"130926",label:"肃宁县"},{value:"130927",label:"南皮县"},{value:"130928",label:"吴桥县"},{value:"130929",label:"献县"},{value:"130930",label:"孟村回族自治县"},{value:"130971",label:"河北沧州经济开发区"},{value:"130972",label:"沧州高新技术产业开发区"},{value:"130973",label:"沧州渤海新区"},{value:"130981",label:"泊头市"},{value:"130982",label:"任丘市"},{value:"130983",label:"黄骅市"},{value:"130984",label:"河间市"}]},{value:"131000",label:"廊坊市",children:[{value:"131001",label:"市辖区"},{value:"131002",label:"安次区"},{value:"131003",label:"广阳区"},{value:"131022",label:"固安县"},{value:"131023",label:"永清县"},{value:"131024",label:"香河县"},{value:"131025",label:"大城县"},{value:"131026",label:"文安县"},{value:"131028",label:"大厂回族自治县"},{value:"131071",label:"廊坊经济技术开发区"},{value:"131081",label:"霸州市"},{value:"131082",label:"三河市"}]},{value:"131100",label:"衡水市",children:[{value:"131101",label:"市辖区"},{value:"131102",label:"桃城区"},{value:"131103",label:"冀州区"},{value:"131121",label:"枣强县"},{value:"131122",label:"武邑县"},{value:"131123",label:"武强县"},{value:"131124",label:"饶阳县"},{value:"131125",label:"安平县"},{value:"131126",label:"故城县"},{value:"131127",label:"景县"},{value:"131128",label:"阜城县"},{value:"131171",label:"河北衡水高新技术产业开发区"},{value:"131172",label:"衡水滨湖新区"},{value:"131182",label:"深州市"}]}]},{value:"140000",label:"山西省",children:[{value:"140100",label:"太原市",children:[{value:"140101",label:"市辖区"},{value:"140105",label:"小店区"},{value:"140106",label:"迎泽区"},{value:"140107",label:"杏花岭区"},{value:"140108",label:"尖草坪区"},{value:"140109",label:"万柏林区"},{value:"140110",label:"晋源区"},{value:"140121",label:"清徐县"},{value:"140122",label:"阳曲县"},{value:"140123",label:"娄烦县"},{value:"140171",label:"山西转型综合改革示范区"},{value:"140181",label:"古交市"}]},{value:"140200",label:"大同市",children:[{value:"140201",label:"市辖区"},{value:"140212",label:"新荣区"},{value:"140213",label:"平城区"},{value:"140214",label:"云冈区"},{value:"140215",label:"云州区"},{value:"140221",label:"阳高县"},{value:"140222",label:"天镇县"},{value:"140223",label:"广灵县"},{value:"140224",label:"灵丘县"},{value:"140225",label:"浑源县"},{value:"140226",label:"左云县"},{value:"140271",label:"山西大同经济开发区"}]},{value:"140300",label:"阳泉市",children:[{value:"140301",label:"市辖区"},{value:"140302",label:"城区"},{value:"140303",label:"矿区"},{value:"140311",label:"郊区"},{value:"140321",label:"平定县"},{value:"140322",label:"盂县"}]},{value:"140400",label:"长治市",children:[{value:"140401",label:"市辖区"},{value:"140403",label:"潞州区"},{value:"140404",label:"上党区"},{value:"140405",label:"屯留区"},{value:"140406",label:"潞城区"},{value:"140423",label:"襄垣县"},{value:"140425",label:"平顺县"},{value:"140426",label:"黎城县"},{value:"140427",label:"壶关县"},{value:"140428",label:"长子县"},{value:"140429",label:"武乡县"},{value:"140430",label:"沁县"},{value:"140431",label:"沁源县"},{value:"140471",label:"山西长治高新技术产业园区"}]},{value:"140500",label:"晋城市",children:[{value:"140501",label:"市辖区"},{value:"140502",label:"城区"},{value:"140521",label:"沁水县"},{value:"140522",label:"阳城县"},{value:"140524",label:"陵川县"},{value:"140525",label:"泽州县"},{value:"140581",label:"高平市"}]},{value:"140600",label:"朔州市",children:[{value:"140601",label:"市辖区"},{value:"140602",label:"朔城区"},{value:"140603",label:"平鲁区"},{value:"140621",label:"山阴县"},{value:"140622",label:"应县"},{value:"140623",label:"右玉县"},{value:"140671",label:"山西朔州经济开发区"},{value:"140681",label:"怀仁市"}]},{value:"140700",label:"晋中市",children:[{value:"140701",label:"市辖区"},{value:"140702",label:"榆次区"},{value:"140721",label:"榆社县"},{value:"140722",label:"左权县"},{value:"140723",label:"和顺县"},{value:"140724",label:"昔阳县"},{value:"140725",label:"寿阳县"},{value:"140726",label:"太谷县"},{value:"140727",label:"祁县"},{value:"140728",label:"平遥县"},{value:"140729",label:"灵石县"},{value:"140781",label:"介休市"}]},{value:"140800",label:"运城市",children:[{value:"140801",label:"市辖区"},{value:"140802",label:"盐湖区"},{value:"140821",label:"临猗县"},{value:"140822",label:"万荣县"},{value:"140823",label:"闻喜县"},{value:"140824",label:"稷山县"},{value:"140825",label:"新绛县"},{value:"140826",label:"绛县"},{value:"140827",label:"垣曲县"},{value:"140828",label:"夏县"},{value:"140829",label:"平陆县"},{value:"140830",label:"芮城县"},{value:"140881",label:"永济市"},{value:"140882",label:"河津市"}]},{value:"140900",label:"忻州市",children:[{value:"140901",label:"市辖区"},{value:"140902",label:"忻府区"},{value:"140921",label:"定襄县"},{value:"140922",label:"五台县"},{value:"140923",label:"代县"},{value:"140924",label:"繁峙县"},{value:"140925",label:"宁武县"},{value:"140926",label:"静乐县"},{value:"140927",label:"神池县"},{value:"140928",label:"五寨县"},{value:"140929",label:"岢岚县"},{value:"140930",label:"河曲县"},{value:"140931",label:"保德县"},{value:"140932",label:"偏关县"},{value:"140971",label:"五台山风景名胜区"},{value:"140981",label:"原平市"}]},{value:"141000",label:"临汾市",children:[{value:"141001",label:"市辖区"},{value:"141002",label:"尧都区"},{value:"141021",label:"曲沃县"},{value:"141022",label:"翼城县"},{value:"141023",label:"襄汾县"},{value:"141024",label:"洪洞县"},{value:"141025",label:"古县"},{value:"141026",label:"安泽县"},{value:"141027",label:"浮山县"},{value:"141028",label:"吉县"},{value:"141029",label:"乡宁县"},{value:"141030",label:"大宁县"},{value:"141031",label:"隰县"},{value:"141032",label:"永和县"},{value:"141033",label:"蒲县"},{value:"141034",label:"汾西县"},{value:"141081",label:"侯马市"},{value:"141082",label:"霍州市"}]},{value:"141100",label:"吕梁市",children:[{value:"141101",label:"市辖区"},{value:"141102",label:"离石区"},{value:"141121",label:"文水县"},{value:"141122",label:"交城县"},{value:"141123",label:"兴县"},{value:"141124",label:"临县"},{value:"141125",label:"柳林县"},{value:"141126",label:"石楼县"},{value:"141127",label:"岚县"},{value:"141128",label:"方山县"},{value:"141129",label:"中阳县"},{value:"141130",label:"交口县"},{value:"141181",label:"孝义市"},{value:"141182",label:"汾阳市"}]}]},{value:"150000",label:"内蒙古自治区",children:[{value:"150100",label:"呼和浩特市",children:[{value:"150101",label:"市辖区"},{value:"150102",label:"新城区"},{value:"150103",label:"回民区"},{value:"150104",label:"玉泉区"},{value:"150105",label:"赛罕区"},{value:"150121",label:"土默特左旗"},{value:"150122",label:"托克托县"},{value:"150123",label:"和林格尔县"},{value:"150124",label:"清水河县"},{value:"150125",label:"武川县"},{value:"150171",label:"呼和浩特金海工业园区"},{value:"150172",label:"呼和浩特经济技术开发区"}]},{value:"150200",label:"包头市",children:[{value:"150201",label:"市辖区"},{value:"150202",label:"东河区"},{value:"150203",label:"昆都仑区"},{value:"150204",label:"青山区"},{value:"150205",label:"石拐区"},{value:"150206",label:"白云鄂博矿区"},{value:"150207",label:"九原区"},{value:"150221",label:"土默特右旗"},{value:"150222",label:"固阳县"},{value:"150223",label:"达尔罕茂明安联合旗"},{value:"150271",label:"包头稀土高新技术产业开发区"}]},{value:"150300",label:"乌海市",children:[{value:"150301",label:"市辖区"},{value:"150302",label:"海勃湾区"},{value:"150303",label:"海南区"},{value:"150304",label:"乌达区"}]},{value:"150400",label:"赤峰市",children:[{value:"150401",label:"市辖区"},{value:"150402",label:"红山区"},{value:"150403",label:"元宝山区"},{value:"150404",label:"松山区"},{value:"150421",label:"阿鲁科尔沁旗"},{value:"150422",label:"巴林左旗"},{value:"150423",label:"巴林右旗"},{value:"150424",label:"林西县"},{value:"150425",label:"克什克腾旗"},{value:"150426",label:"翁牛特旗"},{value:"150428",label:"喀喇沁旗"},{value:"150429",label:"宁城县"},{value:"150430",label:"敖汉旗"}]},{value:"150500",label:"通辽市",children:[{value:"150501",label:"市辖区"},{value:"150502",label:"科尔沁区"},{value:"150521",label:"科尔沁左翼中旗"},{value:"150522",label:"科尔沁左翼后旗"},{value:"150523",label:"开鲁县"},{value:"150524",label:"库伦旗"},{value:"150525",label:"奈曼旗"},{value:"150526",label:"扎鲁特旗"},{value:"150571",label:"通辽经济技术开发区"},{value:"150581",label:"霍林郭勒市"}]},{value:"150600",label:"鄂尔多斯市",children:[{value:"150601",label:"市辖区"},{value:"150602",label:"东胜区"},{value:"150603",label:"康巴什区"},{value:"150621",label:"达拉特旗"},{value:"150622",label:"准格尔旗"},{value:"150623",label:"鄂托克前旗"},{value:"150624",label:"鄂托克旗"},{value:"150625",label:"杭锦旗"},{value:"150626",label:"乌审旗"},{value:"150627",label:"伊金霍洛旗"}]},{value:"150700",label:"呼伦贝尔市",children:[{value:"150701",label:"市辖区"},{value:"150702",label:"海拉尔区"},{value:"150703",label:"扎赉诺尔区"},{value:"150721",label:"阿荣旗"},{value:"150722",label:"莫力达瓦达斡尔族自治旗"},{value:"150723",label:"鄂伦春自治旗"},{value:"150724",label:"鄂温克族自治旗"},{value:"150725",label:"陈巴尔虎旗"},{value:"150726",label:"新巴尔虎左旗"},{value:"150727",label:"新巴尔虎右旗"},{value:"150781",label:"满洲里市"},{value:"150782",label:"牙克石市"},{value:"150783",label:"扎兰屯市"},{value:"150784",label:"额尔古纳市"},{value:"150785",label:"根河市"}]},{value:"150800",label:"巴彦淖尔市",children:[{value:"150801",label:"市辖区"},{value:"150802",label:"临河区"},{value:"150821",label:"五原县"},{value:"150822",label:"磴口县"},{value:"150823",label:"乌拉特前旗"},{value:"150824",label:"乌拉特中旗"},{value:"150825",label:"乌拉特后旗"},{value:"150826",label:"杭锦后旗"}]},{value:"150900",label:"乌兰察布市",children:[{value:"150901",label:"市辖区"},{value:"150902",label:"集宁区"},{value:"150921",label:"卓资县"},{value:"150922",label:"化德县"},{value:"150923",label:"商都县"},{value:"150924",label:"兴和县"},{value:"150925",label:"凉城县"},{value:"150926",label:"察哈尔右翼前旗"},{value:"150927",label:"察哈尔右翼中旗"},{value:"150928",label:"察哈尔右翼后旗"},{value:"150929",label:"四子王旗"},{value:"150981",label:"丰镇市"}]},{value:"152200",label:"兴安盟",children:[{value:"152201",label:"乌兰浩特市"},{value:"152202",label:"阿尔山市"},{value:"152221",label:"科尔沁右翼前旗"},{value:"152222",label:"科尔沁右翼中旗"},{value:"152223",label:"扎赉特旗"},{value:"152224",label:"突泉县"}]},{value:"152500",label:"锡林郭勒盟",children:[{value:"152501",label:"二连浩特市"},{value:"152502",label:"锡林浩特市"},{value:"152522",label:"阿巴嘎旗"},{value:"152523",label:"苏尼特左旗"},{value:"152524",label:"苏尼特右旗"},{value:"152525",label:"东乌珠穆沁旗"},{value:"152526",label:"西乌珠穆沁旗"},{value:"152527",label:"太仆寺旗"},{value:"152528",label:"镶黄旗"},{value:"152529",label:"正镶白旗"},{value:"152530",label:"正蓝旗"},{value:"152531",label:"多伦县"},{value:"152571",label:"乌拉盖管委会"}]},{value:"152900",label:"阿拉善盟",children:[{value:"152921",label:"阿拉善左旗"},{value:"152922",label:"阿拉善右旗"},{value:"152923",label:"额济纳旗"},{value:"152971",label:"内蒙古阿拉善经济开发区"}]}]},{value:"210000",label:"辽宁省",children:[{value:"210100",label:"沈阳市",children:[{value:"210101",label:"市辖区"},{value:"210102",label:"和平区"},{value:"210103",label:"沈河区"},{value:"210104",label:"大东区"},{value:"210105",label:"皇姑区"},{value:"210106",label:"铁西区"},{value:"210111",label:"苏家屯区"},{value:"210112",label:"浑南区"},{value:"210113",label:"沈北新区"},{value:"210114",label:"于洪区"},{value:"210115",label:"辽中区"},{value:"210123",label:"康平县"},{value:"210124",label:"法库县"},{value:"210181",label:"新民市"}]},{value:"210200",label:"大连市",children:[{value:"210201",label:"市辖区"},{value:"210202",label:"中山区"},{value:"210203",label:"西岗区"},{value:"210204",label:"沙河口区"},{value:"210211",label:"甘井子区"},{value:"210212",label:"旅顺口区"},{value:"210213",label:"金州区"},{value:"210214",label:"普兰店区"},{value:"210224",label:"长海县"},{value:"210281",label:"瓦房店市"},{value:"210283",label:"庄河市"}]},{value:"210300",label:"鞍山市",children:[{value:"210301",label:"市辖区"},{value:"210302",label:"铁东区"},{value:"210303",label:"铁西区"},{value:"210304",label:"立山区"},{value:"210311",label:"千山区"},{value:"210321",label:"台安县"},{value:"210323",label:"岫岩满族自治县"},{value:"210381",label:"海城市"}]},{value:"210400",label:"抚顺市",children:[{value:"210401",label:"市辖区"},{value:"210402",label:"新抚区"},{value:"210403",label:"东洲区"},{value:"210404",label:"望花区"},{value:"210411",label:"顺城区"},{value:"210421",label:"抚顺县"},{value:"210422",label:"新宾满族自治县"},{value:"210423",label:"清原满族自治县"}]},{value:"210500",label:"本溪市",children:[{value:"210501",label:"市辖区"},{value:"210502",label:"平山区"},{value:"210503",label:"溪湖区"},{value:"210504",label:"明山区"},{value:"210505",label:"南芬区"},{value:"210521",label:"本溪满族自治县"},{value:"210522",label:"桓仁满族自治县"}]},{value:"210600",label:"丹东市",children:[{value:"210601",label:"市辖区"},{value:"210602",label:"元宝区"},{value:"210603",label:"振兴区"},{value:"210604",label:"振安区"},{value:"210624",label:"宽甸满族自治县"},{value:"210681",label:"东港市"},{value:"210682",label:"凤城市"}]},{value:"210700",label:"锦州市",children:[{value:"210701",label:"市辖区"},{value:"210702",label:"古塔区"},{value:"210703",label:"凌河区"},{value:"210711",label:"太和区"},{value:"210726",label:"黑山县"},{value:"210727",label:"义县"},{value:"210781",label:"凌海市"},{value:"210782",label:"北镇市"}]},{value:"210800",label:"营口市",children:[{value:"210801",label:"市辖区"},{value:"210802",label:"站前区"},{value:"210803",label:"西市区"},{value:"210804",label:"鲅鱼圈区"},{value:"210811",label:"老边区"},{value:"210881",label:"盖州市"},{value:"210882",label:"大石桥市"}]},{value:"210900",label:"阜新市",children:[{value:"210901",label:"市辖区"},{value:"210902",label:"海州区"},{value:"210903",label:"新邱区"},{value:"210904",label:"太平区"},{value:"210905",label:"清河门区"},{value:"210911",label:"细河区"},{value:"210921",label:"阜新蒙古族自治县"},{value:"210922",label:"彰武县"}]},{value:"211000",label:"辽阳市",children:[{value:"211001",label:"市辖区"},{value:"211002",label:"白塔区"},{value:"211003",label:"文圣区"},{value:"211004",label:"宏伟区"},{value:"211005",label:"弓长岭区"},{value:"211011",label:"太子河区"},{value:"211021",label:"辽阳县"},{value:"211081",label:"灯塔市"}]},{value:"211100",label:"盘锦市",children:[{value:"211101",label:"市辖区"},{value:"211102",label:"双台子区"},{value:"211103",label:"兴隆台区"},{value:"211104",label:"大洼区"},{value:"211122",label:"盘山县"}]},{value:"211200",label:"铁岭市",children:[{value:"211201",label:"市辖区"},{value:"211202",label:"银州区"},{value:"211204",label:"清河区"},{value:"211221",label:"铁岭县"},{value:"211223",label:"西丰县"},{value:"211224",label:"昌图县"},{value:"211281",label:"调兵山市"},{value:"211282",label:"开原市"}]},{value:"211300",label:"朝阳市",children:[{value:"211301",label:"市辖区"},{value:"211302",label:"双塔区"},{value:"211303",label:"龙城区"},{value:"211321",label:"朝阳县"},{value:"211322",label:"建平县"},{value:"211324",label:"喀喇沁左翼蒙古族自治县"},{value:"211381",label:"北票市"},{value:"211382",label:"凌源市"}]},{value:"211400",label:"葫芦岛市",children:[{value:"211401",label:"市辖区"},{value:"211402",label:"连山区"},{value:"211403",label:"龙港区"},{value:"211404",label:"南票区"},{value:"211421",label:"绥中县"},{value:"211422",label:"建昌县"},{value:"211481",label:"兴城市"}]}]},{value:"220000",label:"吉林省",children:[{value:"220100",label:"长春市",children:[{value:"220101",label:"市辖区"},{value:"220102",label:"南关区"},{value:"220103",label:"宽城区"},{value:"220104",label:"朝阳区"},{value:"220105",label:"二道区"},{value:"220106",label:"绿园区"},{value:"220112",label:"双阳区"},{value:"220113",label:"九台区"},{value:"220122",label:"农安县"},{value:"220171",label:"长春经济技术开发区"},{value:"220172",label:"长春净月高新技术产业开发区"},{value:"220173",label:"长春高新技术产业开发区"},{value:"220174",label:"长春汽车经济技术开发区"},{value:"220182",label:"榆树市"},{value:"220183",label:"德惠市"}]},{value:"220200",label:"吉林市",children:[{value:"220201",label:"市辖区"},{value:"220202",label:"昌邑区"},{value:"220203",label:"龙潭区"},{value:"220204",label:"船营区"},{value:"220211",label:"丰满区"},{value:"220221",label:"永吉县"},{value:"220271",label:"吉林经济开发区"},{value:"220272",label:"吉林高新技术产业开发区"},{value:"220273",label:"吉林中国新加坡食品区"},{value:"220281",label:"蛟河市"},{value:"220282",label:"桦甸市"},{value:"220283",label:"舒兰市"},{value:"220284",label:"磐石市"}]},{value:"220300",label:"四平市",children:[{value:"220301",label:"市辖区"},{value:"220302",label:"铁西区"},{value:"220303",label:"铁东区"},{value:"220322",label:"梨树县"},{value:"220323",label:"伊通满族自治县"},{value:"220381",label:"公主岭市"},{value:"220382",label:"双辽市"}]},{value:"220400",label:"辽源市",children:[{value:"220401",label:"市辖区"},{value:"220402",label:"龙山区"},{value:"220403",label:"西安区"},{value:"220421",label:"东丰县"},{value:"220422",label:"东辽县"}]},{value:"220500",label:"通化市",children:[{value:"220501",label:"市辖区"},{value:"220502",label:"东昌区"},{value:"220503",label:"二道江区"},{value:"220521",label:"通化县"},{value:"220523",label:"辉南县"},{value:"220524",label:"柳河县"},{value:"220581",label:"梅河口市"},{value:"220582",label:"集安市"}]},{value:"220600",label:"白山市",children:[{value:"220601",label:"市辖区"},{value:"220602",label:"浑江区"},{value:"220605",label:"江源区"},{value:"220621",label:"抚松县"},{value:"220622",label:"靖宇县"},{value:"220623",label:"长白朝鲜族自治县"},{value:"220681",label:"临江市"}]},{value:"220700",label:"松原市",children:[{value:"220701",label:"市辖区"},{value:"220702",label:"宁江区"},{value:"220721",label:"前郭尔罗斯蒙古族自治县"},{value:"220722",label:"长岭县"},{value:"220723",label:"乾安县"},{value:"220771",label:"吉林松原经济开发区"},{value:"220781",label:"扶余市"}]},{value:"220800",label:"白城市",children:[{value:"220801",label:"市辖区"},{value:"220802",label:"洮北区"},{value:"220821",label:"镇赉县"},{value:"220822",label:"通榆县"},{value:"220871",label:"吉林白城经济开发区"},{value:"220881",label:"洮南市"},{value:"220882",label:"大安市"}]},{value:"222400",label:"延边朝鲜族自治州",children:[{value:"222401",label:"延吉市"},{value:"222402",label:"图们市"},{value:"222403",label:"敦化市"},{value:"222404",label:"珲春市"},{value:"222405",label:"龙井市"},{value:"222406",label:"和龙市"},{value:"222424",label:"汪清县"},{value:"222426",label:"安图县"}]}]},{value:"230000",label:"黑龙江省",children:[{value:"230100",label:"哈尔滨市",children:[{value:"230101",label:"市辖区"},{value:"230102",label:"道里区"},{value:"230103",label:"南岗区"},{value:"230104",label:"道外区"},{value:"230108",label:"平房区"},{value:"230109",label:"松北区"},{value:"230110",label:"香坊区"},{value:"230111",label:"呼兰区"},{value:"230112",label:"阿城区"},{value:"230113",label:"双城区"},{value:"230123",label:"依兰县"},{value:"230124",label:"方正县"},{value:"230125",label:"宾县"},{value:"230126",label:"巴彦县"},{value:"230127",label:"木兰县"},{value:"230128",label:"通河县"},{value:"230129",label:"延寿县"},{value:"230183",label:"尚志市"},{value:"230184",label:"五常市"}]},{value:"230200",label:"齐齐哈尔市",children:[{value:"230201",label:"市辖区"},{value:"230202",label:"龙沙区"},{value:"230203",label:"建华区"},{value:"230204",label:"铁锋区"},{value:"230205",label:"昂昂溪区"},{value:"230206",label:"富拉尔基区"},{value:"230207",label:"碾子山区"},{value:"230208",label:"梅里斯达斡尔族区"},{value:"230221",label:"龙江县"},{value:"230223",label:"依安县"},{value:"230224",label:"泰来县"},{value:"230225",label:"甘南县"},{value:"230227",label:"富裕县"},{value:"230229",label:"克山县"},{value:"230230",label:"克东县"},{value:"230231",label:"拜泉县"},{value:"230281",label:"讷河市"}]},{value:"230300",label:"鸡西市",children:[{value:"230301",label:"市辖区"},{value:"230302",label:"鸡冠区"},{value:"230303",label:"恒山区"},{value:"230304",label:"滴道区"},{value:"230305",label:"梨树区"},{value:"230306",label:"城子河区"},{value:"230307",label:"麻山区"},{value:"230321",label:"鸡东县"},{value:"230381",label:"虎林市"},{value:"230382",label:"密山市"}]},{value:"230400",label:"鹤岗市",children:[{value:"230401",label:"市辖区"},{value:"230402",label:"向阳区"},{value:"230403",label:"工农区"},{value:"230404",label:"南山区"},{value:"230405",label:"兴安区"},{value:"230406",label:"东山区"},{value:"230407",label:"兴山区"},{value:"230421",label:"萝北县"},{value:"230422",label:"绥滨县"}]},{value:"230500",label:"双鸭山市",children:[{value:"230501",label:"市辖区"},{value:"230502",label:"尖山区"},{value:"230503",label:"岭东区"},{value:"230505",label:"四方台区"},{value:"230506",label:"宝山区"},{value:"230521",label:"集贤县"},{value:"230522",label:"友谊县"},{value:"230523",label:"宝清县"},{value:"230524",label:"饶河县"}]},{value:"230600",label:"大庆市",children:[{value:"230601",label:"市辖区"},{value:"230602",label:"萨尔图区"},{value:"230603",label:"龙凤区"},{value:"230604",label:"让胡路区"},{value:"230605",label:"红岗区"},{value:"230606",label:"大同区"},{value:"230621",label:"肇州县"},{value:"230622",label:"肇源县"},{value:"230623",label:"林甸县"},{value:"230624",label:"杜尔伯特蒙古族自治县"},{value:"230671",label:"大庆高新技术产业开发区"}]},{value:"230700",label:"伊春市",children:[{value:"230701",label:"市辖区"},{value:"230717",label:"伊美区"},{value:"230718",label:"乌翠区"},{value:"230719",label:"友好区"},{value:"230722",label:"嘉荫县"},{value:"230723",label:"汤旺县"},{value:"230724",label:"丰林县"},{value:"230725",label:"大箐山县"},{value:"230726",label:"南岔县"},{value:"230751",label:"金林区"},{value:"230781",label:"铁力市"}]},{value:"230800",label:"佳木斯市",children:[{value:"230801",label:"市辖区"},{value:"230803",label:"向阳区"},{value:"230804",label:"前进区"},{value:"230805",label:"东风区"},{value:"230811",label:"郊区"},{value:"230822",label:"桦南县"},{value:"230826",label:"桦川县"},{value:"230828",label:"汤原县"},{value:"230881",label:"同江市"},{value:"230882",label:"富锦市"},{value:"230883",label:"抚远市"}]},{value:"230900",label:"七台河市",children:[{value:"230901",label:"市辖区"},{value:"230902",label:"新兴区"},{value:"230903",label:"桃山区"},{value:"230904",label:"茄子河区"},{value:"230921",label:"勃利县"}]},{value:"231000",label:"牡丹江市",children:[{value:"231001",label:"市辖区"},{value:"231002",label:"东安区"},{value:"231003",label:"阳明区"},{value:"231004",label:"爱民区"},{value:"231005",label:"西安区"},{value:"231025",label:"林口县"},{value:"231071",label:"牡丹江经济技术开发区"},{value:"231081",label:"绥芬河市"},{value:"231083",label:"海林市"},{value:"231084",label:"宁安市"},{value:"231085",label:"穆棱市"},{value:"231086",label:"东宁市"}]},{value:"231100",label:"黑河市",children:[{value:"231101",label:"市辖区"},{value:"231102",label:"爱辉区"},{value:"231123",label:"逊克县"},{value:"231124",label:"孙吴县"},{value:"231181",label:"北安市"},{value:"231182",label:"五大连池市"},{value:"231183",label:"嫩江市"}]},{value:"231200",label:"绥化市",children:[{value:"231201",label:"市辖区"},{value:"231202",label:"北林区"},{value:"231221",label:"望奎县"},{value:"231222",label:"兰西县"},{value:"231223",label:"青冈县"},{value:"231224",label:"庆安县"},{value:"231225",label:"明水县"},{value:"231226",label:"绥棱县"},{value:"231281",label:"安达市"},{value:"231282",label:"肇东市"},{value:"231283",label:"海伦市"}]},{value:"232700",label:"大兴安岭地区",children:[{value:"232701",label:"漠河市"},{value:"232721",label:"呼玛县"},{value:"232722",label:"塔河县"},{value:"232761",label:"加格达奇区"},{value:"232762",label:"松岭区"},{value:"232763",label:"新林区"},{value:"232764",label:"呼中区"}]}]},{value:"310000",label:"上海市",children:[{value:"310100",label:"市辖区",children:[{value:"310101",label:"黄浦区"},{value:"310104",label:"徐汇区"},{value:"310105",label:"长宁区"},{value:"310106",label:"静安区"},{value:"310107",label:"普陀区"},{value:"310109",label:"虹口区"},{value:"310110",label:"杨浦区"},{value:"310112",label:"闵行区"},{value:"310113",label:"宝山区"},{value:"310114",label:"嘉定区"},{value:"310115",label:"浦东新区"},{value:"310116",label:"金山区"},{value:"310117",label:"松江区"},{value:"310118",label:"青浦区"},{value:"310120",label:"奉贤区"},{value:"310151",label:"崇明区"}]}]},{value:"320000",label:"江苏省",children:[{value:"320100",label:"南京市",children:[{value:"320101",label:"市辖区"},{value:"320102",label:"玄武区"},{value:"320104",label:"秦淮区"},{value:"320105",label:"建邺区"},{value:"320106",label:"鼓楼区"},{value:"320111",label:"浦口区"},{value:"320113",label:"栖霞区"},{value:"320114",label:"雨花台区"},{value:"320115",label:"江宁区"},{value:"320116",label:"六合区"},{value:"320117",label:"溧水区"},{value:"320118",label:"高淳区"}]},{value:"320200",label:"无锡市",children:[{value:"320201",label:"市辖区"},{value:"320205",label:"锡山区"},{value:"320206",label:"惠山区"},{value:"320211",label:"滨湖区"},{value:"320213",label:"梁溪区"},{value:"320214",label:"新吴区"},{value:"320281",label:"江阴市"},{value:"320282",label:"宜兴市"}]},{value:"320300",label:"徐州市",children:[{value:"320301",label:"市辖区"},{value:"320302",label:"鼓楼区"},{value:"320303",label:"云龙区"},{value:"320305",label:"贾汪区"},{value:"320311",label:"泉山区"},{value:"320312",label:"铜山区"},{value:"320321",label:"丰县"},{value:"320322",label:"沛县"},{value:"320324",label:"睢宁县"},{value:"320371",label:"徐州经济技术开发区"},{value:"320381",label:"新沂市"},{value:"320382",label:"邳州市"}]},{value:"320400",label:"常州市",children:[{value:"320401",label:"市辖区"},{value:"320402",label:"天宁区"},{value:"320404",label:"钟楼区"},{value:"320411",label:"新北区"},{value:"320412",label:"武进区"},{value:"320413",label:"金坛区"},{value:"320481",label:"溧阳市"}]},{value:"320500",label:"苏州市",children:[{value:"320501",label:"市辖区"},{value:"320505",label:"虎丘区"},{value:"320506",label:"吴中区"},{value:"320507",label:"相城区"},{value:"320508",label:"姑苏区"},{value:"320509",label:"吴江区"},{value:"320571",label:"苏州工业园区"},{value:"320581",label:"常熟市"},{value:"320582",label:"张家港市"},{value:"320583",label:"昆山市"},{value:"320585",label:"太仓市"}]},{value:"320600",label:"南通市",children:[{value:"320601",label:"市辖区"},{value:"320602",label:"崇川区"},{value:"320611",label:"港闸区"},{value:"320612",label:"通州区"},{value:"320623",label:"如东县"},{value:"320671",label:"南通经济技术开发区"},{value:"320681",label:"启东市"},{value:"320682",label:"如皋市"},{value:"320684",label:"海门市"},{value:"320685",label:"海安市"}]},{value:"320700",label:"连云港市",children:[{value:"320701",label:"市辖区"},{value:"320703",label:"连云区"},{value:"320706",label:"海州区"},{value:"320707",label:"赣榆区"},{value:"320722",label:"东海县"},{value:"320723",label:"灌云县"},{value:"320724",label:"灌南县"},{value:"320771",label:"连云港经济技术开发区"},{value:"320772",label:"连云港高新技术产业开发区"}]},{value:"320800",label:"淮安市",children:[{value:"320801",label:"市辖区"},{value:"320803",label:"淮安区"},{value:"320804",label:"淮阴区"},{value:"320812",label:"清江浦区"},{value:"320813",label:"洪泽区"},{value:"320826",label:"涟水县"},{value:"320830",label:"盱眙县"},{value:"320831",label:"金湖县"},{value:"320871",label:"淮安经济技术开发区"}]},{value:"320900",label:"盐城市",children:[{value:"320901",label:"市辖区"},{value:"320902",label:"亭湖区"},{value:"320903",label:"盐都区"},{value:"320904",label:"大丰区"},{value:"320921",label:"响水县"},{value:"320922",label:"滨海县"},{value:"320923",label:"阜宁县"},{value:"320924",label:"射阳县"},{value:"320925",label:"建湖县"},{value:"320971",label:"盐城经济技术开发区"},{value:"320981",label:"东台市"}]},{value:"321000",label:"扬州市",children:[{value:"321001",label:"市辖区"},{value:"321002",label:"广陵区"},{value:"321003",label:"邗江区"},{value:"321012",label:"江都区"},{value:"321023",label:"宝应县"},{value:"321071",label:"扬州经济技术开发区"},{value:"321081",label:"仪征市"},{value:"321084",label:"高邮市"}]},{value:"321100",label:"镇江市",children:[{value:"321101",label:"市辖区"},{value:"321102",label:"京口区"},{value:"321111",label:"润州区"},{value:"321112",label:"丹徒区"},{value:"321171",label:"镇江新区"},{value:"321181",label:"丹阳市"},{value:"321182",label:"扬中市"},{value:"321183",label:"句容市"}]},{value:"321200",label:"泰州市",children:[{value:"321201",label:"市辖区"},{value:"321202",label:"海陵区"},{value:"321203",label:"高港区"},{value:"321204",label:"姜堰区"},{value:"321271",label:"泰州医药高新技术产业开发区"},{value:"321281",label:"兴化市"},{value:"321282",label:"靖江市"},{value:"321283",label:"泰兴市"}]},{value:"321300",label:"宿迁市",children:[{value:"321301",label:"市辖区"},{value:"321302",label:"宿城区"},{value:"321311",label:"宿豫区"},{value:"321322",label:"沭阳县"},{value:"321323",label:"泗阳县"},{value:"321324",label:"泗洪县"},{value:"321371",label:"宿迁经济技术开发区"}]}]},{value:"330000",label:"浙江省",children:[{value:"330100",label:"杭州市",children:[{value:"330101",label:"市辖区"},{value:"330102",label:"上城区"},{value:"330103",label:"下城区"},{value:"330104",label:"江干区"},{value:"330105",label:"拱墅区"},{value:"330106",label:"西湖区"},{value:"330108",label:"滨江区"},{value:"330109",label:"萧山区"},{value:"330110",label:"余杭区"},{value:"330111",label:"富阳区"},{value:"330112",label:"临安区"},{value:"330122",label:"桐庐县"},{value:"330127",label:"淳安县"},{value:"330182",label:"建德市"}]},{value:"330200",label:"宁波市",children:[{value:"330201",label:"市辖区"},{value:"330203",label:"海曙区"},{value:"330205",label:"江北区"},{value:"330206",label:"北仑区"},{value:"330211",label:"镇海区"},{value:"330212",label:"鄞州区"},{value:"330213",label:"奉化区"},{value:"330225",label:"象山县"},{value:"330226",label:"宁海县"},{value:"330281",label:"余姚市"},{value:"330282",label:"慈溪市"}]},{value:"330300",label:"温州市",children:[{value:"330301",label:"市辖区"},{value:"330302",label:"鹿城区"},{value:"330303",label:"龙湾区"},{value:"330304",label:"瓯海区"},{value:"330305",label:"洞头区"},{value:"330324",label:"永嘉县"},{value:"330326",label:"平阳县"},{value:"330327",label:"苍南县"},{value:"330328",label:"文成县"},{value:"330329",label:"泰顺县"},{value:"330371",label:"温州经济技术开发区"},{value:"330381",label:"瑞安市"},{value:"330382",label:"乐清市"},{value:"330383",label:"龙港市"}]},{value:"330400",label:"嘉兴市",children:[{value:"330401",label:"市辖区"},{value:"330402",label:"南湖区"},{value:"330411",label:"秀洲区"},{value:"330421",label:"嘉善县"},{value:"330424",label:"海盐县"},{value:"330481",label:"海宁市"},{value:"330482",label:"平湖市"},{value:"330483",label:"桐乡市"}]},{value:"330500",label:"湖州市",children:[{value:"330501",label:"市辖区"},{value:"330502",label:"吴兴区"},{value:"330503",label:"南浔区"},{value:"330521",label:"德清县"},{value:"330522",label:"长兴县"},{value:"330523",label:"安吉县"}]},{value:"330600",label:"绍兴市",children:[{value:"330601",label:"市辖区"},{value:"330602",label:"越城区"},{value:"330603",label:"柯桥区"},{value:"330604",label:"上虞区"},{value:"330624",label:"新昌县"},{value:"330681",label:"诸暨市"},{value:"330683",label:"嵊州市"}]},{value:"330700",label:"金华市",children:[{value:"330701",label:"市辖区"},{value:"330702",label:"婺城区"},{value:"330703",label:"金东区"},{value:"330723",label:"武义县"},{value:"330726",label:"浦江县"},{value:"330727",label:"磐安县"},{value:"330781",label:"兰溪市"},{value:"330782",label:"义乌市"},{value:"330783",label:"东阳市"},{value:"330784",label:"永康市"}]},{value:"330800",label:"衢州市",children:[{value:"330801",label:"市辖区"},{value:"330802",label:"柯城区"},{value:"330803",label:"衢江区"},{value:"330822",label:"常山县"},{value:"330824",label:"开化县"},{value:"330825",label:"龙游县"},{value:"330881",label:"江山市"}]},{value:"330900",label:"舟山市",children:[{value:"330901",label:"市辖区"},{value:"330902",label:"定海区"},{value:"330903",label:"普陀区"},{value:"330921",label:"岱山县"},{value:"330922",label:"嵊泗县"}]},{value:"331000",label:"台州市",children:[{value:"331001",label:"市辖区"},{value:"331002",label:"椒江区"},{value:"331003",label:"黄岩区"},{value:"331004",label:"路桥区"},{value:"331022",label:"三门县"},{value:"331023",label:"天台县"},{value:"331024",label:"仙居县"},{value:"331081",label:"温岭市"},{value:"331082",label:"临海市"},{value:"331083",label:"玉环市"}]},{value:"331100",label:"丽水市",children:[{value:"331101",label:"市辖区"},{value:"331102",label:"莲都区"},{value:"331121",label:"青田县"},{value:"331122",label:"缙云县"},{value:"331123",label:"遂昌县"},{value:"331124",label:"松阳县"},{value:"331125",label:"云和县"},{value:"331126",label:"庆元县"},{value:"331127",label:"景宁畲族自治县"},{value:"331181",label:"龙泉市"}]}]},{value:"340000",label:"安徽省",children:[{value:"340100",label:"合肥市",children:[{value:"340101",label:"市辖区"},{value:"340102",label:"瑶海区"},{value:"340103",label:"庐阳区"},{value:"340104",label:"蜀山区"},{value:"340111",label:"包河区"},{value:"340121",label:"长丰县"},{value:"340122",label:"肥东县"},{value:"340123",label:"肥西县"},{value:"340124",label:"庐江县"},{value:"340171",label:"合肥高新技术产业开发区"},{value:"340172",label:"合肥经济技术开发区"},{value:"340173",label:"合肥新站高新技术产业开发区"},{value:"340181",label:"巢湖市"}]},{value:"340200",label:"芜湖市",children:[{value:"340201",label:"市辖区"},{value:"340202",label:"镜湖区"},{value:"340203",label:"弋江区"},{value:"340207",label:"鸠江区"},{value:"340208",label:"三山区"},{value:"340221",label:"芜湖县"},{value:"340222",label:"繁昌县"},{value:"340223",label:"南陵县"},{value:"340225",label:"无为县"},{value:"340271",label:"芜湖经济技术开发区"},{value:"340272",label:"安徽芜湖长江大桥经济开发区"}]},{value:"340300",label:"蚌埠市",children:[{value:"340301",label:"市辖区"},{value:"340302",label:"龙子湖区"},{value:"340303",label:"蚌山区"},{value:"340304",label:"禹会区"},{value:"340311",label:"淮上区"},{value:"340321",label:"怀远县"},{value:"340322",label:"五河县"},{value:"340323",label:"固镇县"},{value:"340371",label:"蚌埠市高新技术开发区"},{value:"340372",label:"蚌埠市经济开发区"}]},{value:"340400",label:"淮南市",children:[{value:"340401",label:"市辖区"},{value:"340402",label:"大通区"},{value:"340403",label:"田家庵区"},{value:"340404",label:"谢家集区"},{value:"340405",label:"八公山区"},{value:"340406",label:"潘集区"},{value:"340421",label:"凤台县"},{value:"340422",label:"寿县"}]},{value:"340500",label:"马鞍山市",children:[{value:"340501",label:"市辖区"},{value:"340503",label:"花山区"},{value:"340504",label:"雨山区"},{value:"340506",label:"博望区"},{value:"340521",label:"当涂县"},{value:"340522",label:"含山县"},{value:"340523",label:"和县"}]},{value:"340600",label:"淮北市",children:[{value:"340601",label:"市辖区"},{value:"340602",label:"杜集区"},{value:"340603",label:"相山区"},{value:"340604",label:"烈山区"},{value:"340621",label:"濉溪县"}]},{value:"340700",label:"铜陵市",children:[{value:"340701",label:"市辖区"},{value:"340705",label:"铜官区"},{value:"340706",label:"义安区"},{value:"340711",label:"郊区"},{value:"340722",label:"枞阳县"}]},{value:"340800",label:"安庆市",children:[{value:"340801",label:"市辖区"},{value:"340802",label:"迎江区"},{value:"340803",label:"大观区"},{value:"340811",label:"宜秀区"},{value:"340822",label:"怀宁县"},{value:"340825",label:"太湖县"},{value:"340826",label:"宿松县"},{value:"340827",label:"望江县"},{value:"340828",label:"岳西县"},{value:"340871",label:"安徽安庆经济开发区"},{value:"340881",label:"桐城市"},{value:"340882",label:"潜山市"}]},{value:"341000",label:"黄山市",children:[{value:"341001",label:"市辖区"},{value:"341002",label:"屯溪区"},{value:"341003",label:"黄山区"},{value:"341004",label:"徽州区"},{value:"341021",label:"歙县"},{value:"341022",label:"休宁县"},{value:"341023",label:"黟县"},{value:"341024",label:"祁门县"}]},{value:"341100",label:"滁州市",children:[{value:"341101",label:"市辖区"},{value:"341102",label:"琅琊区"},{value:"341103",label:"南谯区"},{value:"341122",label:"来安县"},{value:"341124",label:"全椒县"},{value:"341125",label:"定远县"},{value:"341126",label:"凤阳县"},{value:"341171",label:"苏滁现代产业园"},{value:"341172",label:"滁州经济技术开发区"},{value:"341181",label:"天长市"},{value:"341182",label:"明光市"}]},{value:"341200",label:"阜阳市",children:[{value:"341201",label:"市辖区"},{value:"341202",label:"颍州区"},{value:"341203",label:"颍东区"},{value:"341204",label:"颍泉区"},{value:"341221",label:"临泉县"},{value:"341222",label:"太和县"},{value:"341225",label:"阜南县"},{value:"341226",label:"颍上县"},{value:"341271",label:"阜阳合肥现代产业园区"},{value:"341272",label:"阜阳经济技术开发区"},{value:"341282",label:"界首市"}]},{value:"341300",label:"宿州市",children:[{value:"341301",label:"市辖区"},{value:"341302",label:"埇桥区"},{value:"341321",label:"砀山县"},{value:"341322",label:"萧县"},{value:"341323",label:"灵璧县"},{value:"341324",label:"泗县"},{value:"341371",label:"宿州马鞍山现代产业园区"},{value:"341372",label:"宿州经济技术开发区"}]},{value:"341500",label:"六安市",children:[{value:"341501",label:"市辖区"},{value:"341502",label:"金安区"},{value:"341503",label:"裕安区"},{value:"341504",label:"叶集区"},{value:"341522",label:"霍邱县"},{value:"341523",label:"舒城县"},{value:"341524",label:"金寨县"},{value:"341525",label:"霍山县"}]},{value:"341600",label:"亳州市",children:[{value:"341601",label:"市辖区"},{value:"341602",label:"谯城区"},{value:"341621",label:"涡阳县"},{value:"341622",label:"蒙城县"},{value:"341623",label:"利辛县"}]},{value:"341700",label:"池州市",children:[{value:"341701",label:"市辖区"},{value:"341702",label:"贵池区"},{value:"341721",label:"东至县"},{value:"341722",label:"石台县"},{value:"341723",label:"青阳县"}]},{value:"341800",label:"宣城市",children:[{value:"341801",label:"市辖区"},{value:"341802",label:"宣州区"},{value:"341821",label:"郎溪县"},{value:"341823",label:"泾县"},{value:"341824",label:"绩溪县"},{value:"341825",label:"旌德县"},{value:"341871",label:"宣城市经济开发区"},{value:"341881",label:"宁国市"},{value:"341882",label:"广德市"}]}]},{value:"350000",label:"福建省",children:[{value:"350100",label:"福州市",children:[{value:"350101",label:"市辖区"},{value:"350102",label:"鼓楼区"},{value:"350103",label:"台江区"},{value:"350104",label:"仓山区"},{value:"350105",label:"马尾区"},{value:"350111",label:"晋安区"},{value:"350112",label:"长乐区"},{value:"350121",label:"闽侯县"},{value:"350122",label:"连江县"},{value:"350123",label:"罗源县"},{value:"350124",label:"闽清县"},{value:"350125",label:"永泰县"},{value:"350128",label:"平潭县"},{value:"350181",label:"福清市"}]},{value:"350200",label:"厦门市",children:[{value:"350201",label:"市辖区"},{value:"350203",label:"思明区"},{value:"350205",label:"海沧区"},{value:"350206",label:"湖里区"},{value:"350211",label:"集美区"},{value:"350212",label:"同安区"},{value:"350213",label:"翔安区"}]},{value:"350300",label:"莆田市",children:[{value:"350301",label:"市辖区"},{value:"350302",label:"城厢区"},{value:"350303",label:"涵江区"},{value:"350304",label:"荔城区"},{value:"350305",label:"秀屿区"},{value:"350322",label:"仙游县"}]},{value:"350400",label:"三明市",children:[{value:"350401",label:"市辖区"},{value:"350402",label:"梅列区"},{value:"350403",label:"三元区"},{value:"350421",label:"明溪县"},{value:"350423",label:"清流县"},{value:"350424",label:"宁化县"},{value:"350425",label:"大田县"},{value:"350426",label:"尤溪县"},{value:"350427",label:"沙县"},{value:"350428",label:"将乐县"},{value:"350429",label:"泰宁县"},{value:"350430",label:"建宁县"},{value:"350481",label:"永安市"}]},{value:"350500",label:"泉州市",children:[{value:"350501",label:"市辖区"},{value:"350502",label:"鲤城区"},{value:"350503",label:"丰泽区"},{value:"350504",label:"洛江区"},{value:"350505",label:"泉港区"},{value:"350521",label:"惠安县"},{value:"350524",label:"安溪县"},{value:"350525",label:"永春县"},{value:"350526",label:"德化县"},{value:"350527",label:"金门县"},{value:"350581",label:"石狮市"},{value:"350582",label:"晋江市"},{value:"350583",label:"南安市"}]},{value:"350600",label:"漳州市",children:[{value:"350601",label:"市辖区"},{value:"350602",label:"芗城区"},{value:"350603",label:"龙文区"},{value:"350622",label:"云霄县"},{value:"350623",label:"漳浦县"},{value:"350624",label:"诏安县"},{value:"350625",label:"长泰县"},{value:"350626",label:"东山县"},{value:"350627",label:"南靖县"},{value:"350628",label:"平和县"},{value:"350629",label:"华安县"},{value:"350681",label:"龙海市"}]},{value:"350700",label:"南平市",children:[{value:"350701",label:"市辖区"},{value:"350702",label:"延平区"},{value:"350703",label:"建阳区"},{value:"350721",label:"顺昌县"},{value:"350722",label:"浦城县"},{value:"350723",label:"光泽县"},{value:"350724",label:"松溪县"},{value:"350725",label:"政和县"},{value:"350781",label:"邵武市"},{value:"350782",label:"武夷山市"},{value:"350783",label:"建瓯市"}]},{value:"350800",label:"龙岩市",children:[{value:"350801",label:"市辖区"},{value:"350802",label:"新罗区"},{value:"350803",label:"永定区"},{value:"350821",label:"长汀县"},{value:"350823",label:"上杭县"},{value:"350824",label:"武平县"},{value:"350825",label:"连城县"},{value:"350881",label:"漳平市"}]},{value:"350900",label:"宁德市",children:[{value:"350901",label:"市辖区"},{value:"350902",label:"蕉城区"},{value:"350921",label:"霞浦县"},{value:"350922",label:"古田县"},{value:"350923",label:"屏南县"},{value:"350924",label:"寿宁县"},{value:"350925",label:"周宁县"},{value:"350926",label:"柘荣县"},{value:"350981",label:"福安市"},{value:"350982",label:"福鼎市"}]}]},{value:"360000",label:"江西省",children:[{value:"360100",label:"南昌市",children:[{value:"360101",label:"市辖区"},{value:"360102",label:"东湖区"},{value:"360103",label:"西湖区"},{value:"360104",label:"青云谱区"},{value:"360105",label:"湾里区"},{value:"360111",label:"青山湖区"},{value:"360112",label:"新建区"},{value:"360121",label:"南昌县"},{value:"360123",label:"安义县"},{value:"360124",label:"进贤县"}]},{value:"360200",label:"景德镇市",children:[{value:"360201",label:"市辖区"},{value:"360202",label:"昌江区"},{value:"360203",label:"珠山区"},{value:"360222",label:"浮梁县"},{value:"360281",label:"乐平市"}]},{value:"360300",label:"萍乡市",children:[{value:"360301",label:"市辖区"},{value:"360302",label:"安源区"},{value:"360313",label:"湘东区"},{value:"360321",label:"莲花县"},{value:"360322",label:"上栗县"},{value:"360323",label:"芦溪县"}]},{value:"360400",label:"九江市",children:[{value:"360401",label:"市辖区"},{value:"360402",label:"濂溪区"},{value:"360403",label:"浔阳区"},{value:"360404",label:"柴桑区"},{value:"360423",label:"武宁县"},{value:"360424",label:"修水县"},{value:"360425",label:"永修县"},{value:"360426",label:"德安县"},{value:"360428",label:"都昌县"},{value:"360429",label:"湖口县"},{value:"360430",label:"彭泽县"},{value:"360481",label:"瑞昌市"},{value:"360482",label:"共青城市"},{value:"360483",label:"庐山市"}]},{value:"360500",label:"新余市",children:[{value:"360501",label:"市辖区"},{value:"360502",label:"渝水区"},{value:"360521",label:"分宜县"}]},{value:"360600",label:"鹰潭市",children:[{value:"360601",label:"市辖区"},{value:"360602",label:"月湖区"},{value:"360603",label:"余江区"},{value:"360681",label:"贵溪市"}]},{value:"360700",label:"赣州市",children:[{value:"360701",label:"市辖区"},{value:"360702",label:"章贡区"},{value:"360703",label:"南康区"},{value:"360704",label:"赣县区"},{value:"360722",label:"信丰县"},{value:"360723",label:"大余县"},{value:"360724",label:"上犹县"},{value:"360725",label:"崇义县"},{value:"360726",label:"安远县"},{value:"360727",label:"龙南县"},{value:"360728",label:"定南县"},{value:"360729",label:"全南县"},{value:"360730",label:"宁都县"},{value:"360731",label:"于都县"},{value:"360732",label:"兴国县"},{value:"360733",label:"会昌县"},{value:"360734",label:"寻乌县"},{value:"360735",label:"石城县"},{value:"360781",label:"瑞金市"}]},{value:"360800",label:"吉安市",children:[{value:"360801",label:"市辖区"},{value:"360802",label:"吉州区"},{value:"360803",label:"青原区"},{value:"360821",label:"吉安县"},{value:"360822",label:"吉水县"},{value:"360823",label:"峡江县"},{value:"360824",label:"新干县"},{value:"360825",label:"永丰县"},{value:"360826",label:"泰和县"},{value:"360827",label:"遂川县"},{value:"360828",label:"万安县"},{value:"360829",label:"安福县"},{value:"360830",label:"永新县"},{value:"360881",label:"井冈山市"}]},{value:"360900",label:"宜春市",children:[{value:"360901",label:"市辖区"},{value:"360902",label:"袁州区"},{value:"360921",label:"奉新县"},{value:"360922",label:"万载县"},{value:"360923",label:"上高县"},{value:"360924",label:"宜丰县"},{value:"360925",label:"靖安县"},{value:"360926",label:"铜鼓县"},{value:"360981",label:"丰城市"},{value:"360982",label:"樟树市"},{value:"360983",label:"高安市"}]},{value:"361000",label:"抚州市",children:[{value:"361001",label:"市辖区"},{value:"361002",label:"临川区"},{value:"361003",label:"东乡区"},{value:"361021",label:"南城县"},{value:"361022",label:"黎川县"},{value:"361023",label:"南丰县"},{value:"361024",label:"崇仁县"},{value:"361025",label:"乐安县"},{value:"361026",label:"宜黄县"},{value:"361027",label:"金溪县"},{value:"361028",label:"资溪县"},{value:"361030",label:"广昌县"}]},{value:"361100",label:"上饶市",children:[{value:"361101",label:"市辖区"},{value:"361102",label:"信州区"},{value:"361103",label:"广丰区"},{value:"361104",label:"广信区"},{value:"361123",label:"玉山县"},{value:"361124",label:"铅山县"},{value:"361125",label:"横峰县"},{value:"361126",label:"弋阳县"},{value:"361127",label:"余干县"},{value:"361128",label:"鄱阳县"},{value:"361129",label:"万年县"},{value:"361130",label:"婺源县"},{value:"361181",label:"德兴市"}]}]},{value:"370000",label:"山东省",children:[{value:"370100",label:"济南市",children:[{value:"370101",label:"市辖区"},{value:"370102",label:"历下区"},{value:"370103",label:"市中区"},{value:"370104",label:"槐荫区"},{value:"370105",label:"天桥区"},{value:"370112",label:"历城区"},{value:"370113",label:"长清区"},{value:"370114",label:"章丘区"},{value:"370115",label:"济阳区"},{value:"370116",label:"莱芜区"},{value:"370117",label:"钢城区"},{value:"370124",label:"平阴县"},{value:"370126",label:"商河县"},{value:"370171",label:"济南高新技术产业开发区"}]},{value:"370200",label:"青岛市",children:[{value:"370201",label:"市辖区"},{value:"370202",label:"市南区"},{value:"370203",label:"市北区"},{value:"370211",label:"黄岛区"},{value:"370212",label:"崂山区"},{value:"370213",label:"李沧区"},{value:"370214",label:"城阳区"},{value:"370215",label:"即墨区"},{value:"370271",label:"青岛高新技术产业开发区"},{value:"370281",label:"胶州市"},{value:"370283",label:"平度市"},{value:"370285",label:"莱西市"}]},{value:"370300",label:"淄博市",children:[{value:"370301",label:"市辖区"},{value:"370302",label:"淄川区"},{value:"370303",label:"张店区"},{value:"370304",label:"博山区"},{value:"370305",label:"临淄区"},{value:"370306",label:"周村区"},{value:"370321",label:"桓台县"},{value:"370322",label:"高青县"},{value:"370323",label:"沂源县"}]},{value:"370400",label:"枣庄市",children:[{value:"370401",label:"市辖区"},{value:"370402",label:"市中区"},{value:"370403",label:"薛城区"},{value:"370404",label:"峄城区"},{value:"370405",label:"台儿庄区"},{value:"370406",label:"山亭区"},{value:"370481",label:"滕州市"}]},{value:"370500",label:"东营市",children:[{value:"370501",label:"市辖区"},{value:"370502",label:"东营区"},{value:"370503",label:"河口区"},{value:"370505",label:"垦利区"},{value:"370522",label:"利津县"},{value:"370523",label:"广饶县"},{value:"370571",label:"东营经济技术开发区"},{value:"370572",label:"东营港经济开发区"}]},{value:"370600",label:"烟台市",children:[{value:"370601",label:"市辖区"},{value:"370602",label:"芝罘区"},{value:"370611",label:"福山区"},{value:"370612",label:"牟平区"},{value:"370613",label:"莱山区"},{value:"370634",label:"长岛县"},{value:"370671",label:"烟台高新技术产业开发区"},{value:"370672",label:"烟台经济技术开发区"},{value:"370681",label:"龙口市"},{value:"370682",label:"莱阳市"},{value:"370683",label:"莱州市"},{value:"370684",label:"蓬莱市"},{value:"370685",label:"招远市"},{value:"370686",label:"栖霞市"},{value:"370687",label:"海阳市"}]},{value:"370700",label:"潍坊市",children:[{value:"370701",label:"市辖区"},{value:"370702",label:"潍城区"},{value:"370703",label:"寒亭区"},{value:"370704",label:"坊子区"},{value:"370705",label:"奎文区"},{value:"370724",label:"临朐县"},{value:"370725",label:"昌乐县"},{value:"370772",label:"潍坊滨海经济技术开发区"},{value:"370781",label:"青州市"},{value:"370782",label:"诸城市"},{value:"370783",label:"寿光市"},{value:"370784",label:"安丘市"},{value:"370785",label:"高密市"},{value:"370786",label:"昌邑市"}]},{value:"370800",label:"济宁市",children:[{value:"370801",label:"市辖区"},{value:"370811",label:"任城区"},{value:"370812",label:"兖州区"},{value:"370826",label:"微山县"},{value:"370827",label:"鱼台县"},{value:"370828",label:"金乡县"},{value:"370829",label:"嘉祥县"},{value:"370830",label:"汶上县"},{value:"370831",label:"泗水县"},{value:"370832",label:"梁山县"},{value:"370871",label:"济宁高新技术产业开发区"},{value:"370881",label:"曲阜市"},{value:"370883",label:"邹城市"}]},{value:"370900",label:"泰安市",children:[{value:"370901",label:"市辖区"},{value:"370902",label:"泰山区"},{value:"370911",label:"岱岳区"},{value:"370921",label:"宁阳县"},{value:"370923",label:"东平县"},{value:"370982",label:"新泰市"},{value:"370983",label:"肥城市"}]},{value:"371000",label:"威海市",children:[{value:"371001",label:"市辖区"},{value:"371002",label:"环翠区"},{value:"371003",label:"文登区"},{value:"371071",label:"威海火炬高技术产业开发区"},{value:"371072",label:"威海经济技术开发区"},{value:"371073",label:"威海临港经济技术开发区"},{value:"371082",label:"荣成市"},{value:"371083",label:"乳山市"}]},{value:"371100",label:"日照市",children:[{value:"371101",label:"市辖区"},{value:"371102",label:"东港区"},{value:"371103",label:"岚山区"},{value:"371121",label:"五莲县"},{value:"371122",label:"莒县"},{value:"371171",label:"日照经济技术开发区"}]},{value:"371300",label:"临沂市",children:[{value:"371301",label:"市辖区"},{value:"371302",label:"兰山区"},{value:"371311",label:"罗庄区"},{value:"371312",label:"河东区"},{value:"371321",label:"沂南县"},{value:"371322",label:"郯城县"},{value:"371323",label:"沂水县"},{value:"371324",label:"兰陵县"},{value:"371325",label:"费县"},{value:"371326",label:"平邑县"},{value:"371327",label:"莒南县"},{value:"371328",label:"蒙阴县"},{value:"371329",label:"临沭县"},{value:"371371",label:"临沂高新技术产业开发区"},{value:"371372",label:"临沂经济技术开发区"},{value:"371373",label:"临沂临港经济开发区"}]},{value:"371400",label:"德州市",children:[{value:"371401",label:"市辖区"},{value:"371402",label:"德城区"},{value:"371403",label:"陵城区"},{value:"371422",label:"宁津县"},{value:"371423",label:"庆云县"},{value:"371424",label:"临邑县"},{value:"371425",label:"齐河县"},{value:"371426",label:"平原县"},{value:"371427",label:"夏津县"},{value:"371428",label:"武城县"},{value:"371471",label:"德州经济技术开发区"},{value:"371472",label:"德州运河经济开发区"},{value:"371481",label:"乐陵市"},{value:"371482",label:"禹城市"}]},{value:"371500",label:"聊城市",children:[{value:"371501",label:"市辖区"},{value:"371502",label:"东昌府区"},{value:"371503",label:"茌平区"},{value:"371521",label:"阳谷县"},{value:"371522",label:"莘县"},{value:"371524",label:"东阿县"},{value:"371525",label:"冠县"},{value:"371526",label:"高唐县"},{value:"371581",label:"临清市"}]},{value:"371600",label:"滨州市",children:[{value:"371601",label:"市辖区"},{value:"371602",label:"滨城区"},{value:"371603",label:"沾化区"},{value:"371621",label:"惠民县"},{value:"371622",label:"阳信县"},{value:"371623",label:"无棣县"},{value:"371625",label:"博兴县"},{value:"371681",label:"邹平市"}]},{value:"371700",label:"菏泽市",children:[{value:"371701",label:"市辖区"},{value:"371702",label:"牡丹区"},{value:"371703",label:"定陶区"},{value:"371721",label:"曹县"},{value:"371722",label:"单县"},{value:"371723",label:"成武县"},{value:"371724",label:"巨野县"},{value:"371725",label:"郓城县"},{value:"371726",label:"鄄城县"},{value:"371728",label:"东明县"},{value:"371771",label:"菏泽经济技术开发区"},{value:"371772",label:"菏泽高新技术开发区"}]}]},{value:"410000",label:"河南省",children:[{value:"410100",label:"郑州市",children:[{value:"410101",label:"市辖区"},{value:"410102",label:"中原区"},{value:"410103",label:"二七区"},{value:"410104",label:"管城回族区"},{value:"410105",label:"金水区"},{value:"410106",label:"上街区"},{value:"410108",label:"惠济区"},{value:"410122",label:"中牟县"},{value:"410171",label:"郑州经济技术开发区"},{value:"410172",label:"郑州高新技术产业开发区"},{value:"410173",label:"郑州航空港经济综合实验区"},{value:"410181",label:"巩义市"},{value:"410182",label:"荥阳市"},{value:"410183",label:"新密市"},{value:"410184",label:"新郑市"},{value:"410185",label:"登封市"}]},{value:"410200",label:"开封市",children:[{value:"410201",label:"市辖区"},{value:"410202",label:"龙亭区"},{value:"410203",label:"顺河回族区"},{value:"410204",label:"鼓楼区"},{value:"410205",label:"禹王台区"},{value:"410212",label:"祥符区"},{value:"410221",label:"杞县"},{value:"410222",label:"通许县"},{value:"410223",label:"尉氏县"},{value:"410225",label:"兰考县"}]},{value:"410300",label:"洛阳市",children:[{value:"410301",label:"市辖区"},{value:"410302",label:"老城区"},{value:"410303",label:"西工区"},{value:"410304",label:"瀍河回族区"},{value:"410305",label:"涧西区"},{value:"410306",label:"吉利区"},{value:"410311",label:"洛龙区"},{value:"410322",label:"孟津县"},{value:"410323",label:"新安县"},{value:"410324",label:"栾川县"},{value:"410325",label:"嵩县"},{value:"410326",label:"汝阳县"},{value:"410327",label:"宜阳县"},{value:"410328",label:"洛宁县"},{value:"410329",label:"伊川县"},{value:"410371",label:"洛阳高新技术产业开发区"},{value:"410381",label:"偃师市"}]},{value:"410400",label:"平顶山市",children:[{value:"410401",label:"市辖区"},{value:"410402",label:"新华区"},{value:"410403",label:"卫东区"},{value:"410404",label:"石龙区"},{value:"410411",label:"湛河区"},{value:"410421",label:"宝丰县"},{value:"410422",label:"叶县"},{value:"410423",label:"鲁山县"},{value:"410425",label:"郏县"},{value:"410471",label:"平顶山高新技术产业开发区"},{value:"410472",label:"平顶山市城乡一体化示范区"},{value:"410481",label:"舞钢市"},{value:"410482",label:"汝州市"}]},{value:"410500",label:"安阳市",children:[{value:"410501",label:"市辖区"},{value:"410502",label:"文峰区"},{value:"410503",label:"北关区"},{value:"410505",label:"殷都区"},{value:"410506",label:"龙安区"},{value:"410522",label:"安阳县"},{value:"410523",label:"汤阴县"},{value:"410526",label:"滑县"},{value:"410527",label:"内黄县"},{value:"410571",label:"安阳高新技术产业开发区"},{value:"410581",label:"林州市"}]},{value:"410600",label:"鹤壁市",children:[{value:"410601",label:"市辖区"},{value:"410602",label:"鹤山区"},{value:"410603",label:"山城区"},{value:"410611",label:"淇滨区"},{value:"410621",label:"浚县"},{value:"410622",label:"淇县"},{value:"410671",label:"鹤壁经济技术开发区"}]},{value:"410700",label:"新乡市",children:[{value:"410701",label:"市辖区"},{value:"410702",label:"红旗区"},{value:"410703",label:"卫滨区"},{value:"410704",label:"凤泉区"},{value:"410711",label:"牧野区"},{value:"410721",label:"新乡县"},{value:"410724",label:"获嘉县"},{value:"410725",label:"原阳县"},{value:"410726",label:"延津县"},{value:"410727",label:"封丘县"},{value:"410771",label:"新乡高新技术产业开发区"},{value:"410772",label:"新乡经济技术开发区"},{value:"410773",label:"新乡市平原城乡一体化示范区"},{value:"410781",label:"卫辉市"},{value:"410782",label:"辉县市"},{value:"410783",label:"长垣市"}]},{value:"410800",label:"焦作市",children:[{value:"410801",label:"市辖区"},{value:"410802",label:"解放区"},{value:"410803",label:"中站区"},{value:"410804",label:"马村区"},{value:"410811",label:"山阳区"},{value:"410821",label:"修武县"},{value:"410822",label:"博爱县"},{value:"410823",label:"武陟县"},{value:"410825",label:"温县"},{value:"410871",label:"焦作城乡一体化示范区"},{value:"410882",label:"沁阳市"},{value:"410883",label:"孟州市"}]},{value:"410900",label:"濮阳市",children:[{value:"410901",label:"市辖区"},{value:"410902",label:"华龙区"},{value:"410922",label:"清丰县"},{value:"410923",label:"南乐县"},{value:"410926",label:"范县"},{value:"410927",label:"台前县"},{value:"410928",label:"濮阳县"},{value:"410971",label:"河南濮阳工业园区"},{value:"410972",label:"濮阳经济技术开发区"}]},{value:"411000",label:"许昌市",children:[{value:"411001",label:"市辖区"},{value:"411002",label:"魏都区"},{value:"411003",label:"建安区"},{value:"411024",label:"鄢陵县"},{value:"411025",label:"襄城县"},{value:"411071",label:"许昌经济技术开发区"},{value:"411081",label:"禹州市"},{value:"411082",label:"长葛市"}]},{value:"411100",label:"漯河市",children:[{value:"411101",label:"市辖区"},{value:"411102",label:"源汇区"},{value:"411103",label:"郾城区"},{value:"411104",label:"召陵区"},{value:"411121",label:"舞阳县"},{value:"411122",label:"临颍县"},{value:"411171",label:"漯河经济技术开发区"}]},{value:"411200",label:"三门峡市",children:[{value:"411201",label:"市辖区"},{value:"411202",label:"湖滨区"},{value:"411203",label:"陕州区"},{value:"411221",label:"渑池县"},{value:"411224",label:"卢氏县"},{value:"411271",label:"河南三门峡经济开发区"},{value:"411281",label:"义马市"},{value:"411282",label:"灵宝市"}]},{value:"411300",label:"南阳市",children:[{value:"411301",label:"市辖区"},{value:"411302",label:"宛城区"},{value:"411303",label:"卧龙区"},{value:"411321",label:"南召县"},{value:"411322",label:"方城县"},{value:"411323",label:"西峡县"},{value:"411324",label:"镇平县"},{value:"411325",label:"内乡县"},{value:"411326",label:"淅川县"},{value:"411327",label:"社旗县"},{value:"411328",label:"唐河县"},{value:"411329",label:"新野县"},{value:"411330",label:"桐柏县"},{value:"411371",label:"南阳高新技术产业开发区"},{value:"411372",label:"南阳市城乡一体化示范区"},{value:"411381",label:"邓州市"}]},{value:"411400",label:"商丘市",children:[{value:"411401",label:"市辖区"},{value:"411402",label:"梁园区"},{value:"411403",label:"睢阳区"},{value:"411421",label:"民权县"},{value:"411422",label:"睢县"},{value:"411423",label:"宁陵县"},{value:"411424",label:"柘城县"},{value:"411425",label:"虞城县"},{value:"411426",label:"夏邑县"},{value:"411471",label:"豫东综合物流产业聚集区"},{value:"411472",label:"河南商丘经济开发区"},{value:"411481",label:"永城市"}]},{value:"411500",label:"信阳市",children:[{value:"411501",label:"市辖区"},{value:"411502",label:"浉河区"},{value:"411503",label:"平桥区"},{value:"411521",label:"罗山县"},{value:"411522",label:"光山县"},{value:"411523",label:"新县"},{value:"411524",label:"商城县"},{value:"411525",label:"固始县"},{value:"411526",label:"潢川县"},{value:"411527",label:"淮滨县"},{value:"411528",label:"息县"},{value:"411571",label:"信阳高新技术产业开发区"}]},{value:"411600",label:"周口市",children:[{value:"411601",label:"市辖区"},{value:"411602",label:"川汇区"},{value:"411603",label:"淮阳区"},{value:"411621",label:"扶沟县"},{value:"411622",label:"西华县"},{value:"411623",label:"商水县"},{value:"411624",label:"沈丘县"},{value:"411625",label:"郸城县"},{value:"411627",label:"太康县"},{value:"411628",label:"鹿邑县"},{value:"411671",label:"河南周口经济开发区"},{value:"411681",label:"项城市"}]},{value:"411700",label:"驻马店市",children:[{value:"411701",label:"市辖区"},{value:"411702",label:"驿城区"},{value:"411721",label:"西平县"},{value:"411722",label:"上蔡县"},{value:"411723",label:"平舆县"},{value:"411724",label:"正阳县"},{value:"411725",label:"确山县"},{value:"411726",label:"泌阳县"},{value:"411727",label:"汝南县"},{value:"411728",label:"遂平县"},{value:"411729",label:"新蔡县"},{value:"411771",label:"河南驻马店经济开发区"}]},{value:"419000",label:"省直辖县级行政区划",children:[{value:"419001",label:"济源市"}]}]},{value:"420000",label:"湖北省",children:[{value:"420100",label:"武汉市",children:[{value:"420101",label:"市辖区"},{value:"420102",label:"江岸区"},{value:"420103",label:"江汉区"},{value:"420104",label:"硚口区"},{value:"420105",label:"汉阳区"},{value:"420106",label:"武昌区"},{value:"420107",label:"青山区"},{value:"420111",label:"洪山区"},{value:"420112",label:"东西湖区"},{value:"420113",label:"汉南区"},{value:"420114",label:"蔡甸区"},{value:"420115",label:"江夏区"},{value:"420116",label:"黄陂区"},{value:"420117",label:"新洲区"}]},{value:"420200",label:"黄石市",children:[{value:"420201",label:"市辖区"},{value:"420202",label:"黄石港区"},{value:"420203",label:"西塞山区"},{value:"420204",label:"下陆区"},{value:"420205",label:"铁山区"},{value:"420222",label:"阳新县"},{value:"420281",label:"大冶市"}]},{value:"420300",label:"十堰市",children:[{value:"420301",label:"市辖区"},{value:"420302",label:"茅箭区"},{value:"420303",label:"张湾区"},{value:"420304",label:"郧阳区"},{value:"420322",label:"郧西县"},{value:"420323",label:"竹山县"},{value:"420324",label:"竹溪县"},{value:"420325",label:"房县"},{value:"420381",label:"丹江口市"}]},{value:"420500",label:"宜昌市",children:[{value:"420501",label:"市辖区"},{value:"420502",label:"西陵区"},{value:"420503",label:"伍家岗区"},{value:"420504",label:"点军区"},{value:"420505",label:"猇亭区"},{value:"420506",label:"夷陵区"},{value:"420525",label:"远安县"},{value:"420526",label:"兴山县"},{value:"420527",label:"秭归县"},{value:"420528",label:"长阳土家族自治县"},{value:"420529",label:"五峰土家族自治县"},{value:"420581",label:"宜都市"},{value:"420582",label:"当阳市"},{value:"420583",label:"枝江市"}]},{value:"420600",label:"襄阳市",children:[{value:"420601",label:"市辖区"},{value:"420602",label:"襄城区"},{value:"420606",label:"樊城区"},{value:"420607",label:"襄州区"},{value:"420624",label:"南漳县"},{value:"420625",label:"谷城县"},{value:"420626",label:"保康县"},{value:"420682",label:"老河口市"},{value:"420683",label:"枣阳市"},{value:"420684",label:"宜城市"}]},{value:"420700",label:"鄂州市",children:[{value:"420701",label:"市辖区"},{value:"420702",label:"梁子湖区"},{value:"420703",label:"华容区"},{value:"420704",label:"鄂城区"}]},{value:"420800",label:"荆门市",children:[{value:"420801",label:"市辖区"},{value:"420802",label:"东宝区"},{value:"420804",label:"掇刀区"},{value:"420822",label:"沙洋县"},{value:"420881",label:"钟祥市"},{value:"420882",label:"京山市"}]},{value:"420900",label:"孝感市",children:[{value:"420901",label:"市辖区"},{value:"420902",label:"孝南区"},{value:"420921",label:"孝昌县"},{value:"420922",label:"大悟县"},{value:"420923",label:"云梦县"},{value:"420981",label:"应城市"},{value:"420982",label:"安陆市"},{value:"420984",label:"汉川市"}]},{value:"421000",label:"荆州市",children:[{value:"421001",label:"市辖区"},{value:"421002",label:"沙市区"},{value:"421003",label:"荆州区"},{value:"421022",label:"公安县"},{value:"421023",label:"监利县"},{value:"421024",label:"江陵县"},{value:"421071",label:"荆州经济技术开发区"},{value:"421081",label:"石首市"},{value:"421083",label:"洪湖市"},{value:"421087",label:"松滋市"}]},{value:"421100",label:"黄冈市",children:[{value:"421101",label:"市辖区"},{value:"421102",label:"黄州区"},{value:"421121",label:"团风县"},{value:"421122",label:"红安县"},{value:"421123",label:"罗田县"},{value:"421124",label:"英山县"},{value:"421125",label:"浠水县"},{value:"421126",label:"蕲春县"},{value:"421127",label:"黄梅县"},{value:"421171",label:"龙感湖管理区"},{value:"421181",label:"麻城市"},{value:"421182",label:"武穴市"}]},{value:"421200",label:"咸宁市",children:[{value:"421201",label:"市辖区"},{value:"421202",label:"咸安区"},{value:"421221",label:"嘉鱼县"},{value:"421222",label:"通城县"},{value:"421223",label:"崇阳县"},{value:"421224",label:"通山县"},{value:"421281",label:"赤壁市"}]},{value:"421300",label:"随州市",children:[{value:"421301",label:"市辖区"},{value:"421303",label:"曾都区"},{value:"421321",label:"随县"},{value:"421381",label:"广水市"}]},{value:"422800",label:"恩施土家族苗族自治州",children:[{value:"422801",label:"恩施市"},{value:"422802",label:"利川市"},{value:"422822",label:"建始县"},{value:"422823",label:"巴东县"},{value:"422825",label:"宣恩县"},{value:"422826",label:"咸丰县"},{value:"422827",label:"来凤县"},{value:"422828",label:"鹤峰县"}]},{value:"429000",label:"省直辖县级行政区划",children:[{value:"429004",label:"仙桃市"},{value:"429005",label:"潜江市"},{value:"429006",label:"天门市"},{value:"429021",label:"神农架林区"}]}]},{value:"430000",label:"湖南省",children:[{value:"430100",label:"长沙市",children:[{value:"430101",label:"市辖区"},{value:"430102",label:"芙蓉区"},{value:"430103",label:"天心区"},{value:"430104",label:"岳麓区"},{value:"430105",label:"开福区"},{value:"430111",label:"雨花区"},{value:"430112",label:"望城区"},{value:"430121",label:"长沙县"},{value:"430181",label:"浏阳市"},{value:"430182",label:"宁乡市"}]},{value:"430200",label:"株洲市",children:[{value:"430201",label:"市辖区"},{value:"430202",label:"荷塘区"},{value:"430203",label:"芦淞区"},{value:"430204",label:"石峰区"},{value:"430211",label:"天元区"},{value:"430212",label:"渌口区"},{value:"430223",label:"攸县"},{value:"430224",label:"茶陵县"},{value:"430225",label:"炎陵县"},{value:"430271",label:"云龙示范区"},{value:"430281",label:"醴陵市"}]},{value:"430300",label:"湘潭市",children:[{value:"430301",label:"市辖区"},{value:"430302",label:"雨湖区"},{value:"430304",label:"岳塘区"},{value:"430321",label:"湘潭县"},{value:"430371",label:"湖南湘潭高新技术产业园区"},{value:"430372",label:"湘潭昭山示范区"},{value:"430373",label:"湘潭九华示范区"},{value:"430381",label:"湘乡市"},{value:"430382",label:"韶山市"}]},{value:"430400",label:"衡阳市",children:[{value:"430401",label:"市辖区"},{value:"430405",label:"珠晖区"},{value:"430406",label:"雁峰区"},{value:"430407",label:"石鼓区"},{value:"430408",label:"蒸湘区"},{value:"430412",label:"南岳区"},{value:"430421",label:"衡阳县"},{value:"430422",label:"衡南县"},{value:"430423",label:"衡山县"},{value:"430424",label:"衡东县"},{value:"430426",label:"祁东县"},{value:"430471",label:"衡阳综合保税区"},{value:"430472",label:"湖南衡阳高新技术产业园区"},{value:"430473",label:"湖南衡阳松木经济开发区"},{value:"430481",label:"耒阳市"},{value:"430482",label:"常宁市"}]},{value:"430500",label:"邵阳市",children:[{value:"430501",label:"市辖区"},{value:"430502",label:"双清区"},{value:"430503",label:"大祥区"},{value:"430511",label:"北塔区"},{value:"430522",label:"新邵县"},{value:"430523",label:"邵阳县"},{value:"430524",label:"隆回县"},{value:"430525",label:"洞口县"},{value:"430527",label:"绥宁县"},{value:"430528",label:"新宁县"},{value:"430529",label:"城步苗族自治县"},{value:"430581",label:"武冈市"},{value:"430582",label:"邵东市"}]},{value:"430600",label:"岳阳市",children:[{value:"430601",label:"市辖区"},{value:"430602",label:"岳阳楼区"},{value:"430603",label:"云溪区"},{value:"430611",label:"君山区"},{value:"430621",label:"岳阳县"},{value:"430623",label:"华容县"},{value:"430624",label:"湘阴县"},{value:"430626",label:"平江县"},{value:"430671",label:"岳阳市屈原管理区"},{value:"430681",label:"汨罗市"},{value:"430682",label:"临湘市"}]},{value:"430700",label:"常德市",children:[{value:"430701",label:"市辖区"},{value:"430702",label:"武陵区"},{value:"430703",label:"鼎城区"},{value:"430721",label:"安乡县"},{value:"430722",label:"汉寿县"},{value:"430723",label:"澧县"},{value:"430724",label:"临澧县"},{value:"430725",label:"桃源县"},{value:"430726",label:"石门县"},{value:"430771",label:"常德市西洞庭管理区"},{value:"430781",label:"津市市"}]},{value:"430800",label:"张家界市",children:[{value:"430801",label:"市辖区"},{value:"430802",label:"永定区"},{value:"430811",label:"武陵源区"},{value:"430821",label:"慈利县"},{value:"430822",label:"桑植县"}]},{value:"430900",label:"益阳市",children:[{value:"430901",label:"市辖区"},{value:"430902",label:"资阳区"},{value:"430903",label:"赫山区"},{value:"430921",label:"南县"},{value:"430922",label:"桃江县"},{value:"430923",label:"安化县"},{value:"430971",label:"益阳市大通湖管理区"},{value:"430972",label:"湖南益阳高新技术产业园区"},{value:"430981",label:"沅江市"}]},{value:"431000",label:"郴州市",children:[{value:"431001",label:"市辖区"},{value:"431002",label:"北湖区"},{value:"431003",label:"苏仙区"},{value:"431021",label:"桂阳县"},{value:"431022",label:"宜章县"},{value:"431023",label:"永兴县"},{value:"431024",label:"嘉禾县"},{value:"431025",label:"临武县"},{value:"431026",label:"汝城县"},{value:"431027",label:"桂东县"},{value:"431028",label:"安仁县"},{value:"431081",label:"资兴市"}]},{value:"431100",label:"永州市",children:[{value:"431101",label:"市辖区"},{value:"431102",label:"零陵区"},{value:"431103",label:"冷水滩区"},{value:"431121",label:"祁阳县"},{value:"431122",label:"东安县"},{value:"431123",label:"双牌县"},{value:"431124",label:"道县"},{value:"431125",label:"江永县"},{value:"431126",label:"宁远县"},{value:"431127",label:"蓝山县"},{value:"431128",label:"新田县"},{value:"431129",label:"江华瑶族自治县"},{value:"431171",label:"永州经济技术开发区"},{value:"431172",label:"永州市金洞管理区"},{value:"431173",label:"永州市回龙圩管理区"}]},{value:"431200",label:"怀化市",children:[{value:"431201",label:"市辖区"},{value:"431202",label:"鹤城区"},{value:"431221",label:"中方县"},{value:"431222",label:"沅陵县"},{value:"431223",label:"辰溪县"},{value:"431224",label:"溆浦县"},{value:"431225",label:"会同县"},{value:"431226",label:"麻阳苗族自治县"},{value:"431227",label:"新晃侗族自治县"},{value:"431228",label:"芷江侗族自治县"},{value:"431229",label:"靖州苗族侗族自治县"},{value:"431230",label:"通道侗族自治县"},{value:"431271",label:"怀化市洪江管理区"},{value:"431281",label:"洪江市"}]},{value:"431300",label:"娄底市",children:[{value:"431301",label:"市辖区"},{value:"431302",label:"娄星区"},{value:"431321",label:"双峰县"},{value:"431322",label:"新化县"},{value:"431381",label:"冷水江市"},{value:"431382",label:"涟源市"}]},{value:"433100",label:"湘西土家族苗族自治州",children:[{value:"433101",label:"吉首市"},{value:"433122",label:"泸溪县"},{value:"433123",label:"凤凰县"},{value:"433124",label:"花垣县"},{value:"433125",label:"保靖县"},{value:"433126",label:"古丈县"},{value:"433127",label:"永顺县"},{value:"433130",label:"龙山县"},{value:"433173",label:"湖南永顺经济开发区"}]}]},{value:"440000",label:"广东省",children:[{value:"440100",label:"广州市",children:[{value:"440101",label:"市辖区"},{value:"440103",label:"荔湾区"},{value:"440104",label:"越秀区"},{value:"440105",label:"海珠区"},{value:"440106",label:"天河区"},{value:"440111",label:"白云区"},{value:"440112",label:"黄埔区"},{value:"440113",label:"番禺区"},{value:"440114",label:"花都区"},{value:"440115",label:"南沙区"},{value:"440117",label:"从化区"},{value:"440118",label:"增城区"}]},{value:"440200",label:"韶关市",children:[{value:"440201",label:"市辖区"},{value:"440203",label:"武江区"},{value:"440204",label:"浈江区"},{value:"440205",label:"曲江区"},{value:"440222",label:"始兴县"},{value:"440224",label:"仁化县"},{value:"440229",label:"翁源县"},{value:"440232",label:"乳源瑶族自治县"},{value:"440233",label:"新丰县"},{value:"440281",label:"乐昌市"},{value:"440282",label:"南雄市"}]},{value:"440300",label:"深圳市",children:[{value:"440301",label:"市辖区"},{value:"440303",label:"罗湖区"},{value:"440304",label:"福田区"},{value:"440305",label:"南山区"},{value:"440306",label:"宝安区"},{value:"440307",label:"龙岗区"},{value:"440308",label:"盐田区"},{value:"440309",label:"龙华区"},{value:"440310",label:"坪山区"},{value:"440311",label:"光明区"}]},{value:"440400",label:"珠海市",children:[{value:"440401",label:"市辖区"},{value:"440402",label:"香洲区"},{value:"440403",label:"斗门区"},{value:"440404",label:"金湾区"}]},{value:"440500",label:"汕头市",children:[{value:"440501",label:"市辖区"},{value:"440507",label:"龙湖区"},{value:"440511",label:"金平区"},{value:"440512",label:"濠江区"},{value:"440513",label:"潮阳区"},{value:"440514",label:"潮南区"},{value:"440515",label:"澄海区"},{value:"440523",label:"南澳县"}]},{value:"440600",label:"佛山市",children:[{value:"440601",label:"市辖区"},{value:"440604",label:"禅城区"},{value:"440605",label:"南海区"},{value:"440606",label:"顺德区"},{value:"440607",label:"三水区"},{value:"440608",label:"高明区"}]},{value:"440700",label:"江门市",children:[{value:"440701",label:"市辖区"},{value:"440703",label:"蓬江区"},{value:"440704",label:"江海区"},{value:"440705",label:"新会区"},{value:"440781",label:"台山市"},{value:"440783",label:"开平市"},{value:"440784",label:"鹤山市"},{value:"440785",label:"恩平市"}]},{value:"440800",label:"湛江市",children:[{value:"440801",label:"市辖区"},{value:"440802",label:"赤坎区"},{value:"440803",label:"霞山区"},{value:"440804",label:"坡头区"},{value:"440811",label:"麻章区"},{value:"440823",label:"遂溪县"},{value:"440825",label:"徐闻县"},{value:"440881",label:"廉江市"},{value:"440882",label:"雷州市"},{value:"440883",label:"吴川市"}]},{value:"440900",label:"茂名市",children:[{value:"440901",label:"市辖区"},{value:"440902",label:"茂南区"},{value:"440904",label:"电白区"},{value:"440981",label:"高州市"},{value:"440982",label:"化州市"},{value:"440983",label:"信宜市"}]},{value:"441200",label:"肇庆市",children:[{value:"441201",label:"市辖区"},{value:"441202",label:"端州区"},{value:"441203",label:"鼎湖区"},{value:"441204",label:"高要区"},{value:"441223",label:"广宁县"},{value:"441224",label:"怀集县"},{value:"441225",label:"封开县"},{value:"441226",label:"德庆县"},{value:"441284",label:"四会市"}]},{value:"441300",label:"惠州市",children:[{value:"441301",label:"市辖区"},{value:"441302",label:"惠城区"},{value:"441303",label:"惠阳区"},{value:"441322",label:"博罗县"},{value:"441323",label:"惠东县"},{value:"441324",label:"龙门县"}]},{value:"441400",label:"梅州市",children:[{value:"441401",label:"市辖区"},{value:"441402",label:"梅江区"},{value:"441403",label:"梅县区"},{value:"441422",label:"大埔县"},{value:"441423",label:"丰顺县"},{value:"441424",label:"五华县"},{value:"441426",label:"平远县"},{value:"441427",label:"蕉岭县"},{value:"441481",label:"兴宁市"}]},{value:"441500",label:"汕尾市",children:[{value:"441501",label:"市辖区"},{value:"441502",label:"城区"},{value:"441521",label:"海丰县"},{value:"441523",label:"陆河县"},{value:"441581",label:"陆丰市"}]},{value:"441600",label:"河源市",children:[{value:"441601",label:"市辖区"},{value:"441602",label:"源城区"},{value:"441621",label:"紫金县"},{value:"441622",label:"龙川县"},{value:"441623",label:"连平县"},{value:"441624",label:"和平县"},{value:"441625",label:"东源县"}]},{value:"441700",label:"阳江市",children:[{value:"441701",label:"市辖区"},{value:"441702",label:"江城区"},{value:"441704",label:"阳东区"},{value:"441721",label:"阳西县"},{value:"441781",label:"阳春市"}]},{value:"441800",label:"清远市",children:[{value:"441801",label:"市辖区"},{value:"441802",label:"清城区"},{value:"441803",label:"清新区"},{value:"441821",label:"佛冈县"},{value:"441823",label:"阳山县"},{value:"441825",label:"连山壮族瑶族自治县"},{value:"441826",label:"连南瑶族自治县"},{value:"441881",label:"英德市"},{value:"441882",label:"连州市"}]},{value:"441900",label:"东莞市",children:[{value:"441900003",label:"东城街道"},{value:"441900004",label:"南城街道"},{value:"441900005",label:"万江街道"},{value:"441900006",label:"莞城街道"},{value:"441900101",label:"石碣镇"},{value:"441900102",label:"石龙镇"},{value:"441900103",label:"茶山镇"},{value:"441900104",label:"石排镇"},{value:"441900105",label:"企石镇"},{value:"441900106",label:"横沥镇"},{value:"441900107",label:"桥头镇"},{value:"441900108",label:"谢岗镇"},{value:"441900109",label:"东坑镇"},{value:"441900110",label:"常平镇"},{value:"441900111",label:"寮步镇"},{value:"441900112",label:"樟木头镇"},{value:"441900113",label:"大朗镇"},{value:"441900114",label:"黄江镇"},{value:"441900115",label:"清溪镇"},{value:"441900116",label:"塘厦镇"},{value:"441900117",label:"凤岗镇"},{value:"441900118",label:"大岭山镇"},{value:"441900119",label:"长安镇"},{value:"441900121",label:"虎门镇"},{value:"441900122",label:"厚街镇"},{value:"441900123",label:"沙田镇"},{value:"441900124",label:"道滘镇"},{value:"441900125",label:"洪梅镇"},{value:"441900126",label:"麻涌镇"},{value:"441900127",label:"望牛墩镇"},{value:"441900128",label:"中堂镇"},{value:"441900129",label:"高埗镇"},{value:"441900401",label:"松山湖"},{value:"441900402",label:"东莞港"},{value:"441900403",label:"东莞生态园"}]},{value:"442000",label:"中山市",children:[{value:"442000001",label:"石岐街道"},{value:"442000002",label:"东区街道"},{value:"442000003",label:"中山港街道"},{value:"442000004",label:"西区街道"},{value:"442000005",label:"南区街道"},{value:"442000006",label:"五桂山街道"},{value:"442000100",label:"小榄镇"},{value:"442000101",label:"黄圃镇"},{value:"442000102",label:"民众镇"},{value:"442000103",label:"东凤镇"},{value:"442000104",label:"东升镇"},{value:"442000105",label:"古镇镇"},{value:"442000106",label:"沙溪镇"},{value:"442000107",label:"坦洲镇"},{value:"442000108",label:"港口镇"},{value:"442000109",label:"三角镇"},{value:"442000110",label:"横栏镇"},{value:"442000111",label:"南头镇"},{value:"442000112",label:"阜沙镇"},{value:"442000113",label:"南朗镇"},{value:"442000114",label:"三乡镇"},{value:"442000115",label:"板芙镇"},{value:"442000116",label:"大涌镇"},{value:"442000117",label:"神湾镇"}]},{value:"445100",label:"潮州市",children:[{value:"445101",label:"市辖区"},{value:"445102",label:"湘桥区"},{value:"445103",label:"潮安区"},{value:"445122",label:"饶平县"}]},{value:"445200",label:"揭阳市",children:[{value:"445201",label:"市辖区"},{value:"445202",label:"榕城区"},{value:"445203",label:"揭东区"},{value:"445222",label:"揭西县"},{value:"445224",label:"惠来县"},{value:"445281",label:"普宁市"}]},{value:"445300",label:"云浮市",children:[{value:"445301",label:"市辖区"},{value:"445302",label:"云城区"},{value:"445303",label:"云安区"},{value:"445321",label:"新兴县"},{value:"445322",label:"郁南县"},{value:"445381",label:"罗定市"}]}]},{value:"450000",label:"广西壮族自治区",children:[{value:"450100",label:"南宁市",children:[{value:"450101",label:"市辖区"},{value:"450102",label:"兴宁区"},{value:"450103",label:"青秀区"},{value:"450105",label:"江南区"},{value:"450107",label:"西乡塘区"},{value:"450108",label:"良庆区"},{value:"450109",label:"邕宁区"},{value:"450110",label:"武鸣区"},{value:"450123",label:"隆安县"},{value:"450124",label:"马山县"},{value:"450125",label:"上林县"},{value:"450126",label:"宾阳县"},{value:"450127",label:"横县"}]},{value:"450200",label:"柳州市",children:[{value:"450201",label:"市辖区"},{value:"450202",label:"城中区"},{value:"450203",label:"鱼峰区"},{value:"450204",label:"柳南区"},{value:"450205",label:"柳北区"},{value:"450206",label:"柳江区"},{value:"450222",label:"柳城县"},{value:"450223",label:"鹿寨县"},{value:"450224",label:"融安县"},{value:"450225",label:"融水苗族自治县"},{value:"450226",label:"三江侗族自治县"}]},{value:"450300",label:"桂林市",children:[{value:"450301",label:"市辖区"},{value:"450302",label:"秀峰区"},{value:"450303",label:"叠彩区"},{value:"450304",label:"象山区"},{value:"450305",label:"七星区"},{value:"450311",label:"雁山区"},{value:"450312",label:"临桂区"},{value:"450321",label:"阳朔县"},{value:"450323",label:"灵川县"},{value:"450324",label:"全州县"},{value:"450325",label:"兴安县"},{value:"450326",label:"永福县"},{value:"450327",label:"灌阳县"},{value:"450328",label:"龙胜各族自治县"},{value:"450329",label:"资源县"},{value:"450330",label:"平乐县"},{value:"450332",label:"恭城瑶族自治县"},{value:"450381",label:"荔浦市"}]},{value:"450400",label:"梧州市",children:[{value:"450401",label:"市辖区"},{value:"450403",label:"万秀区"},{value:"450405",label:"长洲区"},{value:"450406",label:"龙圩区"},{value:"450421",label:"苍梧县"},{value:"450422",label:"藤县"},{value:"450423",label:"蒙山县"},{value:"450481",label:"岑溪市"}]},{value:"450500",label:"北海市",children:[{value:"450501",label:"市辖区"},{value:"450502",label:"海城区"},{value:"450503",label:"银海区"},{value:"450512",label:"铁山港区"},{value:"450521",label:"合浦县"}]},{value:"450600",label:"防城港市",children:[{value:"450601",label:"市辖区"},{value:"450602",label:"港口区"},{value:"450603",label:"防城区"},{value:"450621",label:"上思县"},{value:"450681",label:"东兴市"}]},{value:"450700",label:"钦州市",children:[{value:"450701",label:"市辖区"},{value:"450702",label:"钦南区"},{value:"450703",label:"钦北区"},{value:"450721",label:"灵山县"},{value:"450722",label:"浦北县"}]},{value:"450800",label:"贵港市",children:[{value:"450801",label:"市辖区"},{value:"450802",label:"港北区"},{value:"450803",label:"港南区"},{value:"450804",label:"覃塘区"},{value:"450821",label:"平南县"},{value:"450881",label:"桂平市"}]},{value:"450900",label:"玉林市",children:[{value:"450901",label:"市辖区"},{value:"450902",label:"玉州区"},{value:"450903",label:"福绵区"},{value:"450921",label:"容县"},{value:"450922",label:"陆川县"},{value:"450923",label:"博白县"},{value:"450924",label:"兴业县"},{value:"450981",label:"北流市"}]},{value:"451000",label:"百色市",children:[{value:"451001",label:"市辖区"},{value:"451002",label:"右江区"},{value:"451003",label:"田阳区"},{value:"451022",label:"田东县"},{value:"451023",label:"平果县"},{value:"451024",label:"德保县"},{value:"451026",label:"那坡县"},{value:"451027",label:"凌云县"},{value:"451028",label:"乐业县"},{value:"451029",label:"田林县"},{value:"451030",label:"西林县"},{value:"451031",label:"隆林各族自治县"},{value:"451081",label:"靖西市"}]},{value:"451100",label:"贺州市",children:[{value:"451101",label:"市辖区"},{value:"451102",label:"八步区"},{value:"451103",label:"平桂区"},{value:"451121",label:"昭平县"},{value:"451122",label:"钟山县"},{value:"451123",label:"富川瑶族自治县"}]},{value:"451200",label:"河池市",children:[{value:"451201",label:"市辖区"},{value:"451202",label:"金城江区"},{value:"451203",label:"宜州区"},{value:"451221",label:"南丹县"},{value:"451222",label:"天峨县"},{value:"451223",label:"凤山县"},{value:"451224",label:"东兰县"},{value:"451225",label:"罗城仫佬族自治县"},{value:"451226",label:"环江毛南族自治县"},{value:"451227",label:"巴马瑶族自治县"},{value:"451228",label:"都安瑶族自治县"},{value:"451229",label:"大化瑶族自治县"}]},{value:"451300",label:"来宾市",children:[{value:"451301",label:"市辖区"},{value:"451302",label:"兴宾区"},{value:"451321",label:"忻城县"},{value:"451322",label:"象州县"},{value:"451323",label:"武宣县"},{value:"451324",label:"金秀瑶族自治县"},{value:"451381",label:"合山市"}]},{value:"451400",label:"崇左市",children:[{value:"451401",label:"市辖区"},{value:"451402",label:"江州区"},{value:"451421",label:"扶绥县"},{value:"451422",label:"宁明县"},{value:"451423",label:"龙州县"},{value:"451424",label:"大新县"},{value:"451425",label:"天等县"},{value:"451481",label:"凭祥市"}]}]},{value:"460000",label:"海南省",children:[{value:"460100",label:"海口市",children:[{value:"460101",label:"市辖区"},{value:"460105",label:"秀英区"},{value:"460106",label:"龙华区"},{value:"460107",label:"琼山区"},{value:"460108",label:"美兰区"}]},{value:"460200",label:"三亚市",children:[{value:"460201",label:"市辖区"},{value:"460202",label:"海棠区"},{value:"460203",label:"吉阳区"},{value:"460204",label:"天涯区"},{value:"460205",label:"崖州区"}]},{value:"460300",label:"三沙市",children:[{value:"460321",label:"西沙群岛"},{value:"460322",label:"南沙群岛"},{value:"460323",label:"中沙群岛的岛礁及其海域"}]},{value:"460400",label:"儋州市",children:[{value:"460400100",label:"那大镇"},{value:"460400101",label:"和庆镇"},{value:"460400102",label:"南丰镇"},{value:"460400103",label:"大成镇"},{value:"460400104",label:"雅星镇"},{value:"460400105",label:"兰洋镇"},{value:"460400106",label:"光村镇"},{value:"460400107",label:"木棠镇"},{value:"460400108",label:"海头镇"},{value:"460400109",label:"峨蔓镇"},{value:"460400111",label:"王五镇"},{value:"460400112",label:"白马井镇"},{value:"460400113",label:"中和镇"},{value:"460400114",label:"排浦镇"},{value:"460400115",label:"东成镇"},{value:"460400116",label:"新州镇"},{value:"460400499",label:"洋浦经济开发区"},{value:"460400500",label:"华南热作学院"}]},{value:"469000",label:"省直辖县级行政区划",children:[{value:"469001",label:"五指山市"},{value:"469002",label:"琼海市"},{value:"469005",label:"文昌市"},{value:"469006",label:"万宁市"},{value:"469007",label:"东方市"},{value:"469021",label:"定安县"},{value:"469022",label:"屯昌县"},{value:"469023",label:"澄迈县"},{value:"469024",label:"临高县"},{value:"469025",label:"白沙黎族自治县"},{value:"469026",label:"昌江黎族自治县"},{value:"469027",label:"乐东黎族自治县"},{value:"469028",label:"陵水黎族自治县"},{value:"469029",label:"保亭黎族苗族自治县"},{value:"469030",label:"琼中黎族苗族自治县"}]}]},{value:"500000",label:"重庆市",children:[{value:"500100",label:"市辖区",children:[{value:"500101",label:"万州区"},{value:"500102",label:"涪陵区"},{value:"500103",label:"渝中区"},{value:"500104",label:"大渡口区"},{value:"500105",label:"江北区"},{value:"500106",label:"沙坪坝区"},{value:"500107",label:"九龙坡区"},{value:"500108",label:"南岸区"},{value:"500109",label:"北碚区"},{value:"500110",label:"綦江区"},{value:"500111",label:"大足区"},{value:"500112",label:"渝北区"},{value:"500113",label:"巴南区"},{value:"500114",label:"黔江区"},{value:"500115",label:"长寿区"},{value:"500116",label:"江津区"},{value:"500117",label:"合川区"},{value:"500118",label:"永川区"},{value:"500119",label:"南川区"},{value:"500120",label:"璧山区"},{value:"500151",label:"铜梁区"},{value:"500152",label:"潼南区"},{value:"500153",label:"荣昌区"},{value:"500154",label:"开州区"},{value:"500155",label:"梁平区"},{value:"500156",label:"武隆区"}]},{value:"500200",label:"县",children:[{value:"500229",label:"城口县"},{value:"500230",label:"丰都县"},{value:"500231",label:"垫江县"},{value:"500233",label:"忠县"},{value:"500235",label:"云阳县"},{value:"500236",label:"奉节县"},{value:"500237",label:"巫山县"},{value:"500238",label:"巫溪县"},{value:"500240",label:"石柱土家族自治县"},{value:"500241",label:"秀山土家族苗族自治县"},{value:"500242",label:"酉阳土家族苗族自治县"},{value:"500243",label:"彭水苗族土家族自治县"}]}]},{value:"510000",label:"四川省",children:[{value:"510100",label:"成都市",children:[{value:"510101",label:"市辖区"},{value:"510104",label:"锦江区"},{value:"510105",label:"青羊区"},{value:"510106",label:"金牛区"},{value:"510107",label:"武侯区"},{value:"510108",label:"成华区"},{value:"510112",label:"龙泉驿区"},{value:"510113",label:"青白江区"},{value:"510114",label:"新都区"},{value:"510115",label:"温江区"},{value:"510116",label:"双流区"},{value:"510117",label:"郫都区"},{value:"510121",label:"金堂县"},{value:"510129",label:"大邑县"},{value:"510131",label:"蒲江县"},{value:"510132",label:"新津县"},{value:"510181",label:"都江堰市"},{value:"510182",label:"彭州市"},{value:"510183",label:"邛崃市"},{value:"510184",label:"崇州市"},{value:"510185",label:"简阳市"}]},{value:"510300",label:"自贡市",children:[{value:"510301",label:"市辖区"},{value:"510302",label:"自流井区"},{value:"510303",label:"贡井区"},{value:"510304",label:"大安区"},{value:"510311",label:"沿滩区"},{value:"510321",label:"荣县"},{value:"510322",label:"富顺县"}]},{value:"510400",label:"攀枝花市",children:[{value:"510401",label:"市辖区"},{value:"510402",label:"东区"},{value:"510403",label:"西区"},{value:"510411",label:"仁和区"},{value:"510421",label:"米易县"},{value:"510422",label:"盐边县"}]},{value:"510500",label:"泸州市",children:[{value:"510501",label:"市辖区"},{value:"510502",label:"江阳区"},{value:"510503",label:"纳溪区"},{value:"510504",label:"龙马潭区"},{value:"510521",label:"泸县"},{value:"510522",label:"合江县"},{value:"510524",label:"叙永县"},{value:"510525",label:"古蔺县"}]},{value:"510600",label:"德阳市",children:[{value:"510601",label:"市辖区"},{value:"510603",label:"旌阳区"},{value:"510604",label:"罗江区"},{value:"510623",label:"中江县"},{value:"510681",label:"广汉市"},{value:"510682",label:"什邡市"},{value:"510683",label:"绵竹市"}]},{value:"510700",label:"绵阳市",children:[{value:"510701",label:"市辖区"},{value:"510703",label:"涪城区"},{value:"510704",label:"游仙区"},{value:"510705",label:"安州区"},{value:"510722",label:"三台县"},{value:"510723",label:"盐亭县"},{value:"510725",label:"梓潼县"},{value:"510726",label:"北川羌族自治县"},{value:"510727",label:"平武县"},{value:"510781",label:"江油市"}]},{value:"510800",label:"广元市",children:[{value:"510801",label:"市辖区"},{value:"510802",label:"利州区"},{value:"510811",label:"昭化区"},{value:"510812",label:"朝天区"},{value:"510821",label:"旺苍县"},{value:"510822",label:"青川县"},{value:"510823",label:"剑阁县"},{value:"510824",label:"苍溪县"}]},{value:"510900",label:"遂宁市",children:[{value:"510901",label:"市辖区"},{value:"510903",label:"船山区"},{value:"510904",label:"安居区"},{value:"510921",label:"蓬溪县"},{value:"510923",label:"大英县"},{value:"510981",label:"射洪市"}]},{value:"511000",label:"内江市",children:[{value:"511001",label:"市辖区"},{value:"511002",label:"市中区"},{value:"511011",label:"东兴区"},{value:"511024",label:"威远县"},{value:"511025",label:"资中县"},{value:"511071",label:"内江经济开发区"},{value:"511083",label:"隆昌市"}]},{value:"511100",label:"乐山市",children:[{value:"511101",label:"市辖区"},{value:"511102",label:"市中区"},{value:"511111",label:"沙湾区"},{value:"511112",label:"五通桥区"},{value:"511113",label:"金口河区"},{value:"511123",label:"犍为县"},{value:"511124",label:"井研县"},{value:"511126",label:"夹江县"},{value:"511129",label:"沐川县"},{value:"511132",label:"峨边彝族自治县"},{value:"511133",label:"马边彝族自治县"},{value:"511181",label:"峨眉山市"}]},{value:"511300",label:"南充市",children:[{value:"511301",label:"市辖区"},{value:"511302",label:"顺庆区"},{value:"511303",label:"高坪区"},{value:"511304",label:"嘉陵区"},{value:"511321",label:"南部县"},{value:"511322",label:"营山县"},{value:"511323",label:"蓬安县"},{value:"511324",label:"仪陇县"},{value:"511325",label:"西充县"},{value:"511381",label:"阆中市"}]},{value:"511400",label:"眉山市",children:[{value:"511401",label:"市辖区"},{value:"511402",label:"东坡区"},{value:"511403",label:"彭山区"},{value:"511421",label:"仁寿县"},{value:"511423",label:"洪雅县"},{value:"511424",label:"丹棱县"},{value:"511425",label:"青神县"}]},{value:"511500",label:"宜宾市",children:[{value:"511501",label:"市辖区"},{value:"511502",label:"翠屏区"},{value:"511503",label:"南溪区"},{value:"511504",label:"叙州区"},{value:"511523",label:"江安县"},{value:"511524",label:"长宁县"},{value:"511525",label:"高县"},{value:"511526",label:"珙县"},{value:"511527",label:"筠连县"},{value:"511528",label:"兴文县"},{value:"511529",label:"屏山县"}]},{value:"511600",label:"广安市",children:[{value:"511601",label:"市辖区"},{value:"511602",label:"广安区"},{value:"511603",label:"前锋区"},{value:"511621",label:"岳池县"},{value:"511622",label:"武胜县"},{value:"511623",label:"邻水县"},{value:"511681",label:"华蓥市"}]},{value:"511700",label:"达州市",children:[{value:"511701",label:"市辖区"},{value:"511702",label:"通川区"},{value:"511703",label:"达川区"},{value:"511722",label:"宣汉县"},{value:"511723",label:"开江县"},{value:"511724",label:"大竹县"},{value:"511725",label:"渠县"},{value:"511771",label:"达州经济开发区"},{value:"511781",label:"万源市"}]},{value:"511800",label:"雅安市",children:[{value:"511801",label:"市辖区"},{value:"511802",label:"雨城区"},{value:"511803",label:"名山区"},{value:"511822",label:"荥经县"},{value:"511823",label:"汉源县"},{value:"511824",label:"石棉县"},{value:"511825",label:"天全县"},{value:"511826",label:"芦山县"},{value:"511827",label:"宝兴县"}]},{value:"511900",label:"巴中市",children:[{value:"511901",label:"市辖区"},{value:"511902",label:"巴州区"},{value:"511903",label:"恩阳区"},{value:"511921",label:"通江县"},{value:"511922",label:"南江县"},{value:"511923",label:"平昌县"},{value:"511971",label:"巴中经济开发区"}]},{value:"512000",label:"资阳市",children:[{value:"512001",label:"市辖区"},{value:"512002",label:"雁江区"},{value:"512021",label:"安岳县"},{value:"512022",label:"乐至县"}]},{value:"513200",label:"阿坝藏族羌族自治州",children:[{value:"513201",label:"马尔康市"},{value:"513221",label:"汶川县"},{value:"513222",label:"理县"},{value:"513223",label:"茂县"},{value:"513224",label:"松潘县"},{value:"513225",label:"九寨沟县"},{value:"513226",label:"金川县"},{value:"513227",label:"小金县"},{value:"513228",label:"黑水县"},{value:"513230",label:"壤塘县"},{value:"513231",label:"阿坝县"},{value:"513232",label:"若尔盖县"},{value:"513233",label:"红原县"}]},{value:"513300",label:"甘孜藏族自治州",children:[{value:"513301",label:"康定市"},{value:"513322",label:"泸定县"},{value:"513323",label:"丹巴县"},{value:"513324",label:"九龙县"},{value:"513325",label:"雅江县"},{value:"513326",label:"道孚县"},{value:"513327",label:"炉霍县"},{value:"513328",label:"甘孜县"},{value:"513329",label:"新龙县"},{value:"513330",label:"德格县"},{value:"513331",label:"白玉县"},{value:"513332",label:"石渠县"},{value:"513333",label:"色达县"},{value:"513334",label:"理塘县"},{value:"513335",label:"巴塘县"},{value:"513336",label:"乡城县"},{value:"513337",label:"稻城县"},{value:"513338",label:"得荣县"}]},{value:"513400",label:"凉山彝族自治州",children:[{value:"513401",label:"西昌市"},{value:"513422",label:"木里藏族自治县"},{value:"513423",label:"盐源县"},{value:"513424",label:"德昌县"},{value:"513425",label:"会理县"},{value:"513426",label:"会东县"},{value:"513427",label:"宁南县"},{value:"513428",label:"普格县"},{value:"513429",label:"布拖县"},{value:"513430",label:"金阳县"},{value:"513431",label:"昭觉县"},{value:"513432",label:"喜德县"},{value:"513433",label:"冕宁县"},{value:"513434",label:"越西县"},{value:"513435",label:"甘洛县"},{value:"513436",label:"美姑县"},{value:"513437",label:"雷波县"}]}]},{value:"520000",label:"贵州省",children:[{value:"520100",label:"贵阳市",children:[{value:"520101",label:"市辖区"},{value:"520102",label:"南明区"},{value:"520103",label:"云岩区"},{value:"520111",label:"花溪区"},{value:"520112",label:"乌当区"},{value:"520113",label:"白云区"},{value:"520115",label:"观山湖区"},{value:"520121",label:"开阳县"},{value:"520122",label:"息烽县"},{value:"520123",label:"修文县"},{value:"520181",label:"清镇市"}]},{value:"520200",label:"六盘水市",children:[{value:"520201",label:"钟山区"},{value:"520203",label:"六枝特区"},{value:"520221",label:"水城县"},{value:"520281",label:"盘州市"}]},{value:"520300",label:"遵义市",children:[{value:"520301",label:"市辖区"},{value:"520302",label:"红花岗区"},{value:"520303",label:"汇川区"},{value:"520304",label:"播州区"},{value:"520322",label:"桐梓县"},{value:"520323",label:"绥阳县"},{value:"520324",label:"正安县"},{value:"520325",label:"道真仡佬族苗族自治县"},{value:"520326",label:"务川仡佬族苗族自治县"},{value:"520327",label:"凤冈县"},{value:"520328",label:"湄潭县"},{value:"520329",label:"余庆县"},{value:"520330",label:"习水县"},{value:"520381",label:"赤水市"},{value:"520382",label:"仁怀市"}]},{value:"520400",label:"安顺市",children:[{value:"520401",label:"市辖区"},{value:"520402",label:"西秀区"},{value:"520403",label:"平坝区"},{value:"520422",label:"普定县"},{value:"520423",label:"镇宁布依族苗族自治县"},{value:"520424",label:"关岭布依族苗族自治县"},{value:"520425",label:"紫云苗族布依族自治县"}]},{value:"520500",label:"毕节市",children:[{value:"520501",label:"市辖区"},{value:"520502",label:"七星关区"},{value:"520521",label:"大方县"},{value:"520522",label:"黔西县"},{value:"520523",label:"金沙县"},{value:"520524",label:"织金县"},{value:"520525",label:"纳雍县"},{value:"520526",label:"威宁彝族回族苗族自治县"},{value:"520527",label:"赫章县"}]},{value:"520600",label:"铜仁市",children:[{value:"520601",label:"市辖区"},{value:"520602",label:"碧江区"},{value:"520603",label:"万山区"},{value:"520621",label:"江口县"},{value:"520622",label:"玉屏侗族自治县"},{value:"520623",label:"石阡县"},{value:"520624",label:"思南县"},{value:"520625",label:"印江土家族苗族自治县"},{value:"520626",label:"德江县"},{value:"520627",label:"沿河土家族自治县"},{value:"520628",label:"松桃苗族自治县"}]},{value:"522300",label:"黔西南布依族苗族自治州",children:[{value:"522301",label:"兴义市"},{value:"522302",label:"兴仁市"},{value:"522323",label:"普安县"},{value:"522324",label:"晴隆县"},{value:"522325",label:"贞丰县"},{value:"522326",label:"望谟县"},{value:"522327",label:"册亨县"},{value:"522328",label:"安龙县"}]},{value:"522600",label:"黔东南苗族侗族自治州",children:[{value:"522601",label:"凯里市"},{value:"522622",label:"黄平县"},{value:"522623",label:"施秉县"},{value:"522624",label:"三穗县"},{value:"522625",label:"镇远县"},{value:"522626",label:"岑巩县"},{value:"522627",label:"天柱县"},{value:"522628",label:"锦屏县"},{value:"522629",label:"剑河县"},{value:"522630",label:"台江县"},{value:"522631",label:"黎平县"},{value:"522632",label:"榕江县"},{value:"522633",label:"从江县"},{value:"522634",label:"雷山县"},{value:"522635",label:"麻江县"},{value:"522636",label:"丹寨县"}]},{value:"522700",label:"黔南布依族苗族自治州",children:[{value:"522701",label:"都匀市"},{value:"522702",label:"福泉市"},{value:"522722",label:"荔波县"},{value:"522723",label:"贵定县"},{value:"522725",label:"瓮安县"},{value:"522726",label:"独山县"},{value:"522727",label:"平塘县"},{value:"522728",label:"罗甸县"},{value:"522729",label:"长顺县"},{value:"522730",label:"龙里县"},{value:"522731",label:"惠水县"},{value:"522732",label:"三都水族自治县"}]}]},{value:"530000",label:"云南省",children:[{value:"530100",label:"昆明市",children:[{value:"530101",label:"市辖区"},{value:"530102",label:"五华区"},{value:"530103",label:"盘龙区"},{value:"530111",label:"官渡区"},{value:"530112",label:"西山区"},{value:"530113",label:"东川区"},{value:"530114",label:"呈贡区"},{value:"530115",label:"晋宁区"},{value:"530124",label:"富民县"},{value:"530125",label:"宜良县"},{value:"530126",label:"石林彝族自治县"},{value:"530127",label:"嵩明县"},{value:"530128",label:"禄劝彝族苗族自治县"},{value:"530129",label:"寻甸回族彝族自治县"},{value:"530181",label:"安宁市"}]},{value:"530300",label:"曲靖市",children:[{value:"530301",label:"市辖区"},{value:"530302",label:"麒麟区"},{value:"530303",label:"沾益区"},{value:"530304",label:"马龙区"},{value:"530322",label:"陆良县"},{value:"530323",label:"师宗县"},{value:"530324",label:"罗平县"},{value:"530325",label:"富源县"},{value:"530326",label:"会泽县"},{value:"530381",label:"宣威市"}]},{value:"530400",label:"玉溪市",children:[{value:"530401",label:"市辖区"},{value:"530402",label:"红塔区"},{value:"530403",label:"江川区"},{value:"530422",label:"澄江县"},{value:"530423",label:"通海县"},{value:"530424",label:"华宁县"},{value:"530425",label:"易门县"},{value:"530426",label:"峨山彝族自治县"},{value:"530427",label:"新平彝族傣族自治县"},{value:"530428",label:"元江哈尼族彝族傣族自治县"}]},{value:"530500",label:"保山市",children:[{value:"530501",label:"市辖区"},{value:"530502",label:"隆阳区"},{value:"530521",label:"施甸县"},{value:"530523",label:"龙陵县"},{value:"530524",label:"昌宁县"},{value:"530581",label:"腾冲市"}]},{value:"530600",label:"昭通市",children:[{value:"530601",label:"市辖区"},{value:"530602",label:"昭阳区"},{value:"530621",label:"鲁甸县"},{value:"530622",label:"巧家县"},{value:"530623",label:"盐津县"},{value:"530624",label:"大关县"},{value:"530625",label:"永善县"},{value:"530626",label:"绥江县"},{value:"530627",label:"镇雄县"},{value:"530628",label:"彝良县"},{value:"530629",label:"威信县"},{value:"530681",label:"水富市"}]},{value:"530700",label:"丽江市",children:[{value:"530701",label:"市辖区"},{value:"530702",label:"古城区"},{value:"530721",label:"玉龙纳西族自治县"},{value:"530722",label:"永胜县"},{value:"530723",label:"华坪县"},{value:"530724",label:"宁蒗彝族自治县"}]},{value:"530800",label:"普洱市",children:[{value:"530801",label:"市辖区"},{value:"530802",label:"思茅区"},{value:"530821",label:"宁洱哈尼族彝族自治县"},{value:"530822",label:"墨江哈尼族自治县"},{value:"530823",label:"景东彝族自治县"},{value:"530824",label:"景谷傣族彝族自治县"},{value:"530825",label:"镇沅彝族哈尼族拉祜族自治县"},{value:"530826",label:"江城哈尼族彝族自治县"},{value:"530827",label:"孟连傣族拉祜族佤族自治县"},{value:"530828",label:"澜沧拉祜族自治县"},{value:"530829",label:"西盟佤族自治县"}]},{value:"530900",label:"临沧市",children:[{value:"530901",label:"市辖区"},{value:"530902",label:"临翔区"},{value:"530921",label:"凤庆县"},{value:"530922",label:"云县"},{value:"530923",label:"永德县"},{value:"530924",label:"镇康县"},{value:"530925",label:"双江拉祜族佤族布朗族傣族自治县"},{value:"530926",label:"耿马傣族佤族自治县"},{value:"530927",label:"沧源佤族自治县"}]},{value:"532300",label:"楚雄彝族自治州",children:[{value:"532301",label:"楚雄市"},{value:"532322",label:"双柏县"},{value:"532323",label:"牟定县"},{value:"532324",label:"南华县"},{value:"532325",label:"姚安县"},{value:"532326",label:"大姚县"},{value:"532327",label:"永仁县"},{value:"532328",label:"元谋县"},{value:"532329",label:"武定县"},{value:"532331",label:"禄丰县"}]},{value:"532500",label:"红河哈尼族彝族自治州",children:[{value:"532501",label:"个旧市"},{value:"532502",label:"开远市"},{value:"532503",label:"蒙自市"},{value:"532504",label:"弥勒市"},{value:"532523",label:"屏边苗族自治县"},{value:"532524",label:"建水县"},{value:"532525",label:"石屏县"},{value:"532527",label:"泸西县"},{value:"532528",label:"元阳县"},{value:"532529",label:"红河县"},{value:"532530",label:"金平苗族瑶族傣族自治县"},{value:"532531",label:"绿春县"},{value:"532532",label:"河口瑶族自治县"}]},{value:"532600",label:"文山壮族苗族自治州",children:[{value:"532601",label:"文山市"},{value:"532622",label:"砚山县"},{value:"532623",label:"西畴县"},{value:"532624",label:"麻栗坡县"},{value:"532625",label:"马关县"},{value:"532626",label:"丘北县"},{value:"532627",label:"广南县"},{value:"532628",label:"富宁县"}]},{value:"532800",label:"西双版纳傣族自治州",children:[{value:"532801",label:"景洪市"},{value:"532822",label:"勐海县"},{value:"532823",label:"勐腊县"}]},{value:"532900",label:"大理白族自治州",children:[{value:"532901",label:"大理市"},{value:"532922",label:"漾濞彝族自治县"},{value:"532923",label:"祥云县"},{value:"532924",label:"宾川县"},{value:"532925",label:"弥渡县"},{value:"532926",label:"南涧彝族自治县"},{value:"532927",label:"巍山彝族回族自治县"},{value:"532928",label:"永平县"},{value:"532929",label:"云龙县"},{value:"532930",label:"洱源县"},{value:"532931",label:"剑川县"},{value:"532932",label:"鹤庆县"}]},{value:"533100",label:"德宏傣族景颇族自治州",children:[{value:"533102",label:"瑞丽市"},{value:"533103",label:"芒市"},{value:"533122",label:"梁河县"},{value:"533123",label:"盈江县"},{value:"533124",label:"陇川县"}]},{value:"533300",label:"怒江傈僳族自治州",children:[{value:"533301",label:"泸水市"},{value:"533323",label:"福贡县"},{value:"533324",label:"贡山独龙族怒族自治县"},{value:"533325",label:"兰坪白族普米族自治县"}]},{value:"533400",label:"迪庆藏族自治州",children:[{value:"533401",label:"香格里拉市"},{value:"533422",label:"德钦县"},{value:"533423",label:"维西傈僳族自治县"}]}]},{value:"540000",label:"西藏自治区",children:[{value:"540100",label:"拉萨市",children:[{value:"540101",label:"市辖区"},{value:"540102",label:"城关区"},{value:"540103",label:"堆龙德庆区"},{value:"540104",label:"达孜区"},{value:"540121",label:"林周县"},{value:"540122",label:"当雄县"},{value:"540123",label:"尼木县"},{value:"540124",label:"曲水县"},{value:"540127",label:"墨竹工卡县"},{value:"540171",label:"格尔木藏青工业园区"},{value:"540172",label:"拉萨经济技术开发区"},{value:"540173",label:"西藏文化旅游创意园区"},{value:"540174",label:"达孜工业园区"}]},{value:"540200",label:"日喀则市",children:[{value:"540202",label:"桑珠孜区"},{value:"540221",label:"南木林县"},{value:"540222",label:"江孜县"},{value:"540223",label:"定日县"},{value:"540224",label:"萨迦县"},{value:"540225",label:"拉孜县"},{value:"540226",label:"昂仁县"},{value:"540227",label:"谢通门县"},{value:"540228",label:"白朗县"},{value:"540229",label:"仁布县"},{value:"540230",label:"康马县"},{value:"540231",label:"定结县"},{value:"540232",label:"仲巴县"},{value:"540233",label:"亚东县"},{value:"540234",label:"吉隆县"},{value:"540235",label:"聂拉木县"},{value:"540236",label:"萨嘎县"},{value:"540237",label:"岗巴县"}]},{value:"540300",label:"昌都市",children:[{value:"540302",label:"卡若区"},{value:"540321",label:"江达县"},{value:"540322",label:"贡觉县"},{value:"540323",label:"类乌齐县"},{value:"540324",label:"丁青县"},{value:"540325",label:"察雅县"},{value:"540326",label:"八宿县"},{value:"540327",label:"左贡县"},{value:"540328",label:"芒康县"},{value:"540329",label:"洛隆县"},{value:"540330",label:"边坝县"}]},{value:"540400",label:"林芝市",children:[{value:"540402",label:"巴宜区"},{value:"540421",label:"工布江达县"},{value:"540422",label:"米林县"},{value:"540423",label:"墨脱县"},{value:"540424",label:"波密县"},{value:"540425",label:"察隅县"},{value:"540426",label:"朗县"}]},{value:"540500",label:"山南市",children:[{value:"540501",label:"市辖区"},{value:"540502",label:"乃东区"},{value:"540521",label:"扎囊县"},{value:"540522",label:"贡嘎县"},{value:"540523",label:"桑日县"},{value:"540524",label:"琼结县"},{value:"540525",label:"曲松县"},{value:"540526",label:"措美县"},{value:"540527",label:"洛扎县"},{value:"540528",label:"加查县"},{value:"540529",label:"隆子县"},{value:"540530",label:"错那县"},{value:"540531",label:"浪卡子县"}]},{value:"540600",label:"那曲市",children:[{value:"540602",label:"色尼区"},{value:"540621",label:"嘉黎县"},{value:"540622",label:"比如县"},{value:"540623",label:"聂荣县"},{value:"540624",label:"安多县"},{value:"540625",label:"申扎县"},{value:"540626",label:"索县"},{value:"540627",label:"班戈县"},{value:"540628",label:"巴青县"},{value:"540629",label:"尼玛县"},{value:"540630",label:"双湖县"}]},{value:"542500",label:"阿里地区",children:[{value:"542521",label:"普兰县"},{value:"542522",label:"札达县"},{value:"542523",label:"噶尔县"},{value:"542524",label:"日土县"},{value:"542525",label:"革吉县"},{value:"542526",label:"改则县"},{value:"542527",label:"措勤县"}]}]},{value:"610000",label:"陕西省",children:[{value:"610100",label:"西安市",children:[{value:"610101",label:"市辖区"},{value:"610102",label:"新城区"},{value:"610103",label:"碑林区"},{value:"610104",label:"莲湖区"},{value:"610111",label:"灞桥区"},{value:"610112",label:"未央区"},{value:"610113",label:"雁塔区"},{value:"610114",label:"阎良区"},{value:"610115",label:"临潼区"},{value:"610116",label:"长安区"},{value:"610117",label:"高陵区"},{value:"610118",label:"鄠邑区"},{value:"610122",label:"蓝田县"},{value:"610124",label:"周至县"}]},{value:"610200",label:"铜川市",children:[{value:"610201",label:"市辖区"},{value:"610202",label:"王益区"},{value:"610203",label:"印台区"},{value:"610204",label:"耀州区"},{value:"610222",label:"宜君县"}]},{value:"610300",label:"宝鸡市",children:[{value:"610301",label:"市辖区"},{value:"610302",label:"渭滨区"},{value:"610303",label:"金台区"},{value:"610304",label:"陈仓区"},{value:"610322",label:"凤翔县"},{value:"610323",label:"岐山县"},{value:"610324",label:"扶风县"},{value:"610326",label:"眉县"},{value:"610327",label:"陇县"},{value:"610328",label:"千阳县"},{value:"610329",label:"麟游县"},{value:"610330",label:"凤县"},{value:"610331",label:"太白县"}]},{value:"610400",label:"咸阳市",children:[{value:"610401",label:"市辖区"},{value:"610402",label:"秦都区"},{value:"610403",label:"杨陵区"},{value:"610404",label:"渭城区"},{value:"610422",label:"三原县"},{value:"610423",label:"泾阳县"},{value:"610424",label:"乾县"},{value:"610425",label:"礼泉县"},{value:"610426",label:"永寿县"},{value:"610428",label:"长武县"},{value:"610429",label:"旬邑县"},{value:"610430",label:"淳化县"},{value:"610431",label:"武功县"},{value:"610481",label:"兴平市"},{value:"610482",label:"彬州市"}]},{value:"610500",label:"渭南市",children:[{value:"610501",label:"市辖区"},{value:"610502",label:"临渭区"},{value:"610503",label:"华州区"},{value:"610522",label:"潼关县"},{value:"610523",label:"大荔县"},{value:"610524",label:"合阳县"},{value:"610525",label:"澄城县"},{value:"610526",label:"蒲城县"},{value:"610527",label:"白水县"},{value:"610528",label:"富平县"},{value:"610581",label:"韩城市"},{value:"610582",label:"华阴市"}]},{value:"610600",label:"延安市",children:[{value:"610601",label:"市辖区"},{value:"610602",label:"宝塔区"},{value:"610603",label:"安塞区"},{value:"610621",label:"延长县"},{value:"610622",label:"延川县"},{value:"610625",label:"志丹县"},{value:"610626",label:"吴起县"},{value:"610627",label:"甘泉县"},{value:"610628",label:"富县"},{value:"610629",label:"洛川县"},{value:"610630",label:"宜川县"},{value:"610631",label:"黄龙县"},{value:"610632",label:"黄陵县"},{value:"610681",label:"子长市"}]},{value:"610700",label:"汉中市",children:[{value:"610701",label:"市辖区"},{value:"610702",label:"汉台区"},{value:"610703",label:"南郑区"},{value:"610722",label:"城固县"},{value:"610723",label:"洋县"},{value:"610724",label:"西乡县"},{value:"610725",label:"勉县"},{value:"610726",label:"宁强县"},{value:"610727",label:"略阳县"},{value:"610728",label:"镇巴县"},{value:"610729",label:"留坝县"},{value:"610730",label:"佛坪县"}]},{value:"610800",label:"榆林市",children:[{value:"610801",label:"市辖区"},{value:"610802",label:"榆阳区"},{value:"610803",label:"横山区"},{value:"610822",label:"府谷县"},{value:"610824",label:"靖边县"},{value:"610825",label:"定边县"},{value:"610826",label:"绥德县"},{value:"610827",label:"米脂县"},{value:"610828",label:"佳县"},{value:"610829",label:"吴堡县"},{value:"610830",label:"清涧县"},{value:"610831",label:"子洲县"},{value:"610881",label:"神木市"}]},{value:"610900",label:"安康市",children:[{value:"610901",label:"市辖区"},{value:"610902",label:"汉滨区"},{value:"610921",label:"汉阴县"},{value:"610922",label:"石泉县"},{value:"610923",label:"宁陕县"},{value:"610924",label:"紫阳县"},{value:"610925",label:"岚皋县"},{value:"610926",label:"平利县"},{value:"610927",label:"镇坪县"},{value:"610928",label:"旬阳县"},{value:"610929",label:"白河县"}]},{value:"611000",label:"商洛市",children:[{value:"611001",label:"市辖区"},{value:"611002",label:"商州区"},{value:"611021",label:"洛南县"},{value:"611022",label:"丹凤县"},{value:"611023",label:"商南县"},{value:"611024",label:"山阳县"},{value:"611025",label:"镇安县"},{value:"611026",label:"柞水县"}]}]},{value:"620000",label:"甘肃省",children:[{value:"620100",label:"兰州市",children:[{value:"620101",label:"市辖区"},{value:"620102",label:"城关区"},{value:"620103",label:"七里河区"},{value:"620104",label:"西固区"},{value:"620105",label:"安宁区"},{value:"620111",label:"红古区"},{value:"620121",label:"永登县"},{value:"620122",label:"皋兰县"},{value:"620123",label:"榆中县"},{value:"620171",label:"兰州新区"}]},{value:"620200",label:"嘉峪关市",children:[{value:"620201",label:"市辖区"}]},{value:"620300",label:"金昌市",children:[{value:"620301",label:"市辖区"},{value:"620302",label:"金川区"},{value:"620321",label:"永昌县"}]},{value:"620400",label:"白银市",children:[{value:"620401",label:"市辖区"},{value:"620402",label:"白银区"},{value:"620403",label:"平川区"},{value:"620421",label:"靖远县"},{value:"620422",label:"会宁县"},{value:"620423",label:"景泰县"}]},{value:"620500",label:"天水市",children:[{value:"620501",label:"市辖区"},{value:"620502",label:"秦州区"},{value:"620503",label:"麦积区"},{value:"620521",label:"清水县"},{value:"620522",label:"秦安县"},{value:"620523",label:"甘谷县"},{value:"620524",label:"武山县"},{value:"620525",label:"张家川回族自治县"}]},{value:"620600",label:"武威市",children:[{value:"620601",label:"市辖区"},{value:"620602",label:"凉州区"},{value:"620621",label:"民勤县"},{value:"620622",label:"古浪县"},{value:"620623",label:"天祝藏族自治县"}]},{value:"620700",label:"张掖市",children:[{value:"620701",label:"市辖区"},{value:"620702",label:"甘州区"},{value:"620721",label:"肃南裕固族自治县"},{value:"620722",label:"民乐县"},{value:"620723",label:"临泽县"},{value:"620724",label:"高台县"},{value:"620725",label:"山丹县"}]},{value:"620800",label:"平凉市",children:[{value:"620801",label:"市辖区"},{value:"620802",label:"崆峒区"},{value:"620821",label:"泾川县"},{value:"620822",label:"灵台县"},{value:"620823",label:"崇信县"},{value:"620825",label:"庄浪县"},{value:"620826",label:"静宁县"},{value:"620881",label:"华亭市"}]},{value:"620900",label:"酒泉市",children:[{value:"620901",label:"市辖区"},{value:"620902",label:"肃州区"},{value:"620921",label:"金塔县"},{value:"620922",label:"瓜州县"},{value:"620923",label:"肃北蒙古族自治县"},{value:"620924",label:"阿克塞哈萨克族自治县"},{value:"620981",label:"玉门市"},{value:"620982",label:"敦煌市"}]},{value:"621000",label:"庆阳市",children:[{value:"621001",label:"市辖区"},{value:"621002",label:"西峰区"},{value:"621021",label:"庆城县"},{value:"621022",label:"环县"},{value:"621023",label:"华池县"},{value:"621024",label:"合水县"},{value:"621025",label:"正宁县"},{value:"621026",label:"宁县"},{value:"621027",label:"镇原县"}]},{value:"621100",label:"定西市",children:[{value:"621101",label:"市辖区"},{value:"621102",label:"安定区"},{value:"621121",label:"通渭县"},{value:"621122",label:"陇西县"},{value:"621123",label:"渭源县"},{value:"621124",label:"临洮县"},{value:"621125",label:"漳县"},{value:"621126",label:"岷县"}]},{value:"621200",label:"陇南市",children:[{value:"621201",label:"市辖区"},{value:"621202",label:"武都区"},{value:"621221",label:"成县"},{value:"621222",label:"文县"},{value:"621223",label:"宕昌县"},{value:"621224",label:"康县"},{value:"621225",label:"西和县"},{value:"621226",label:"礼县"},{value:"621227",label:"徽县"},{value:"621228",label:"两当县"}]},{value:"622900",label:"临夏回族自治州",children:[{value:"622901",label:"临夏市"},{value:"622921",label:"临夏县"},{value:"622922",label:"康乐县"},{value:"622923",label:"永靖县"},{value:"622924",label:"广河县"},{value:"622925",label:"和政县"},{value:"622926",label:"东乡族自治县"},{value:"622927",label:"积石山保安族东乡族撒拉族自治县"}]},{value:"623000",label:"甘南藏族自治州",children:[{value:"623001",label:"合作市"},{value:"623021",label:"临潭县"},{value:"623022",label:"卓尼县"},{value:"623023",label:"舟曲县"},{value:"623024",label:"迭部县"},{value:"623025",label:"玛曲县"},{value:"623026",label:"碌曲县"},{value:"623027",label:"夏河县"}]}]},{value:"630000",label:"青海省",children:[{value:"630100",label:"西宁市",children:[{value:"630101",label:"市辖区"},{value:"630102",label:"城东区"},{value:"630103",label:"城中区"},{value:"630104",label:"城西区"},{value:"630105",label:"城北区"},{value:"630121",label:"大通回族土族自治县"},{value:"630122",label:"湟中县"},{value:"630123",label:"湟源县"}]},{value:"630200",label:"海东市",children:[{value:"630202",label:"乐都区"},{value:"630203",label:"平安区"},{value:"630222",label:"民和回族土族自治县"},{value:"630223",label:"互助土族自治县"},{value:"630224",label:"化隆回族自治县"},{value:"630225",label:"循化撒拉族自治县"}]},{value:"632200",label:"海北藏族自治州",children:[{value:"632221",label:"门源回族自治县"},{value:"632222",label:"祁连县"},{value:"632223",label:"海晏县"},{value:"632224",label:"刚察县"}]},{value:"632300",label:"黄南藏族自治州",children:[{value:"632321",label:"同仁县"},{value:"632322",label:"尖扎县"},{value:"632323",label:"泽库县"},{value:"632324",label:"河南蒙古族自治县"}]},{value:"632500",label:"海南藏族自治州",children:[{value:"632521",label:"共和县"},{value:"632522",label:"同德县"},{value:"632523",label:"贵德县"},{value:"632524",label:"兴海县"},{value:"632525",label:"贵南县"}]},{value:"632600",label:"果洛藏族自治州",children:[{value:"632621",label:"玛沁县"},{value:"632622",label:"班玛县"},{value:"632623",label:"甘德县"},{value:"632624",label:"达日县"},{value:"632625",label:"久治县"},{value:"632626",label:"玛多县"}]},{value:"632700",label:"玉树藏族自治州",children:[{value:"632701",label:"玉树市"},{value:"632722",label:"杂多县"},{value:"632723",label:"称多县"},{value:"632724",label:"治多县"},{value:"632725",label:"囊谦县"},{value:"632726",label:"曲麻莱县"}]},{value:"632800",label:"海西蒙古族藏族自治州",children:[{value:"632801",label:"格尔木市"},{value:"632802",label:"德令哈市"},{value:"632803",label:"茫崖市"},{value:"632821",label:"乌兰县"},{value:"632822",label:"都兰县"},{value:"632823",label:"天峻县"},{value:"632857",label:"大柴旦行政委员会"}]}]},{value:"640000",label:"宁夏回族自治区",children:[{value:"640100",label:"银川市",children:[{value:"640101",label:"市辖区"},{value:"640104",label:"兴庆区"},{value:"640105",label:"西夏区"},{value:"640106",label:"金凤区"},{value:"640121",label:"永宁县"},{value:"640122",label:"贺兰县"},{value:"640181",label:"灵武市"}]},{value:"640200",label:"石嘴山市",children:[{value:"640201",label:"市辖区"},{value:"640202",label:"大武口区"},{value:"640205",label:"惠农区"},{value:"640221",label:"平罗县"}]},{value:"640300",label:"吴忠市",children:[{value:"640301",label:"市辖区"},{value:"640302",label:"利通区"},{value:"640303",label:"红寺堡区"},{value:"640323",label:"盐池县"},{value:"640324",label:"同心县"},{value:"640381",label:"青铜峡市"}]},{value:"640400",label:"固原市",children:[{value:"640401",label:"市辖区"},{value:"640402",label:"原州区"},{value:"640422",label:"西吉县"},{value:"640423",label:"隆德县"},{value:"640424",label:"泾源县"},{value:"640425",label:"彭阳县"}]},{value:"640500",label:"中卫市",children:[{value:"640501",label:"市辖区"},{value:"640502",label:"沙坡头区"},{value:"640521",label:"中宁县"},{value:"640522",label:"海原县"}]}]},{value:"650000",label:"新疆维吾尔自治区",children:[{value:"650100",label:"乌鲁木齐市",children:[{value:"650101",label:"市辖区"},{value:"650102",label:"天山区"},{value:"650103",label:"沙依巴克区"},{value:"650104",label:"新市区"},{value:"650105",label:"水磨沟区"},{value:"650106",label:"头屯河区"},{value:"650107",label:"达坂城区"},{value:"650109",label:"米东区"},{value:"650121",label:"乌鲁木齐县"}]},{value:"650200",label:"克拉玛依市",children:[{value:"650201",label:"市辖区"},{value:"650202",label:"独山子区"},{value:"650203",label:"克拉玛依区"},{value:"650204",label:"白碱滩区"},{value:"650205",label:"乌尔禾区"}]},{value:"650400",label:"吐鲁番市",children:[{value:"650402",label:"高昌区"},{value:"650421",label:"鄯善县"},{value:"650422",label:"托克逊县"}]},{value:"650500",label:"哈密市",children:[{value:"650502",label:"伊州区"},{value:"650521",label:"巴里坤哈萨克自治县"},{value:"650522",label:"伊吾县"}]},{value:"652300",label:"昌吉回族自治州",children:[{value:"652301",label:"昌吉市"},{value:"652302",label:"阜康市"},{value:"652323",label:"呼图壁县"},{value:"652324",label:"玛纳斯县"},{value:"652325",label:"奇台县"},{value:"652327",label:"吉木萨尔县"},{value:"652328",label:"木垒哈萨克自治县"}]},{value:"652700",label:"博尔塔拉蒙古自治州",children:[{value:"652701",label:"博乐市"},{value:"652702",label:"阿拉山口市"},{value:"652722",label:"精河县"},{value:"652723",label:"温泉县"}]},{value:"652800",label:"巴音郭楞蒙古自治州",children:[{value:"652801",label:"库尔勒市"},{value:"652822",label:"轮台县"},{value:"652823",label:"尉犁县"},{value:"652824",label:"若羌县"},{value:"652825",label:"且末县"},{value:"652826",label:"焉耆回族自治县"},{value:"652827",label:"和静县"},{value:"652828",label:"和硕县"},{value:"652829",label:"博湖县"},{value:"652871",label:"库尔勒经济技术开发区"}]},{value:"652900",label:"阿克苏地区",children:[{value:"652901",label:"阿克苏市"},{value:"652922",label:"温宿县"},{value:"652923",label:"库车县"},{value:"652924",label:"沙雅县"},{value:"652925",label:"新和县"},{value:"652926",label:"拜城县"},{value:"652927",label:"乌什县"},{value:"652928",label:"阿瓦提县"},{value:"652929",label:"柯坪县"}]},{value:"653000",label:"克孜勒苏柯尔克孜自治州",children:[{value:"653001",label:"阿图什市"},{value:"653022",label:"阿克陶县"},{value:"653023",label:"阿合奇县"},{value:"653024",label:"乌恰县"}]},{value:"653100",label:"喀什地区",children:[{value:"653101",label:"喀什市"},{value:"653121",label:"疏附县"},{value:"653122",label:"疏勒县"},{value:"653123",label:"英吉沙县"},{value:"653124",label:"泽普县"},{value:"653125",label:"莎车县"},{value:"653126",label:"叶城县"},{value:"653127",label:"麦盖提县"},{value:"653128",label:"岳普湖县"},{value:"653129",label:"伽师县"},{value:"653130",label:"巴楚县"},{value:"653131",label:"塔什库尔干塔吉克自治县"}]},{value:"653200",label:"和田地区",children:[{value:"653201",label:"和田市"},{value:"653221",label:"和田县"},{value:"653222",label:"墨玉县"},{value:"653223",label:"皮山县"},{value:"653224",label:"洛浦县"},{value:"653225",label:"策勒县"},{value:"653226",label:"于田县"},{value:"653227",label:"民丰县"}]},{value:"654000",label:"伊犁哈萨克自治州",children:[{value:"654002",label:"伊宁市"},{value:"654003",label:"奎屯市"},{value:"654004",label:"霍尔果斯市"},{value:"654021",label:"伊宁县"},{value:"654022",label:"察布查尔锡伯自治县"},{value:"654023",label:"霍城县"},{value:"654024",label:"巩留县"},{value:"654025",label:"新源县"},{value:"654026",label:"昭苏县"},{value:"654027",label:"特克斯县"},{value:"654028",label:"尼勒克县"}]},{value:"654200",label:"塔城地区",children:[{value:"654201",label:"塔城市"},{value:"654202",label:"乌苏市"},{value:"654221",label:"额敏县"},{value:"654223",label:"沙湾县"},{value:"654224",label:"托里县"},{value:"654225",label:"裕民县"},{value:"654226",label:"和布克赛尔蒙古自治县"}]},{value:"654300",label:"阿勒泰地区",children:[{value:"654301",label:"阿勒泰市"},{value:"654321",label:"布尔津县"},{value:"654322",label:"富蕴县"},{value:"654323",label:"福海县"},{value:"654324",label:"哈巴河县"},{value:"654325",label:"青河县"},{value:"654326",label:"吉木乃县"}]},{value:"659000",label:"自治区直辖县级行政区划",children:[{value:"659001",label:"石河子市"},{value:"659002",label:"阿拉尔市"},{value:"659003",label:"图木舒克市"},{value:"659004",label:"五家渠市"},{value:"659006",label:"铁门关市"}]}]},{value:"710000",label:"台湾省",children:[{value:"710100",label:"台北市",children:[{value:"710101",label:"内湖区"},{value:"710102",label:"南港区"},{value:"710103",label:"中正区"},{value:"710104",label:"松山区"},{value:"710105",label:"信义区"},{value:"710106",label:"大安区"},{value:"710107",label:"中山区"},{value:"710108",label:"文山区"},{value:"710109",label:"大同区"},{value:"710110",label:"万华区"},{value:"710111",label:"士林区"},{value:"710112",label:"北投区"}]},{value:"710200",label:"高雄市",children:[{value:"710201",label:"新兴区"},{value:"710202",label:"前金区"},{value:"710203",label:"芩雅区"},{value:"710204",label:"盐埕区"},{value:"710205",label:"鼓山区"},{value:"710206",label:"旗津区"},{value:"710207",label:"前镇区"},{value:"710208",label:"三民区"},{value:"710209",label:"左营区"},{value:"710210",label:"楠梓区"},{value:"710211",label:"小港区"}]},{value:"710300",label:"基隆市",children:[{value:"710301",label:"仁爱区"},{value:"710302",label:"信义区"},{value:"710303",label:"中正区"},{value:"710304",label:"暖暖区"},{value:"710305",label:"安乐区"},{value:"710307",label:"七堵区"}]},{value:"710400",label:"台中市",children:[{value:"710301",label:"中区"},{value:"710302",label:"东区"},{value:"710303",label:"南区"},{value:"710304",label:"西区"},{value:"710305",label:"北区"},{value:"710306",label:"北屯区"},{value:"710307",label:"西屯区"},{value:"710308",label:"南屯区"}]},{value:"710500",label:"台南市",children:[{value:"710501",label:"中西区"},{value:"710502",label:"东区"},{value:"710503",label:"南区"},{value:"710504",label:"北区"},{value:"710505",label:"安平区"},{value:"710506",label:"安南区"}]},{value:"710600",label:"新竹市",children:[{value:"710601",label:"东区"},{value:"710602",label:"北区"},{value:"710603",label:"香山区"}]},{value:"710700",label:"嘉义市",children:[{value:"710701",label:"东区"},{value:"710702",label:"西区"}]}]},{value:"810000",label:"香港特别行政区",children:[]},{value:"820000",label:"澳门特别行政区",children:[]}];function lg(e){let{value:l,onChange:a,placeholder:s="请选择省/市/区"}=e,[n,r]=(0,t.useState)(!1),[d,c]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),[v,b]=(0,t.useState)("");(0,t.useEffect)(()=>{if(l){let t=function(e,l){if(!l)return null;let a=l.split(" / "),i=e,t=[];for(let e of a){let l=null==i?void 0:i.find(l=>l.label===e);if(!l)return null;t.push(l),i=l.children}return t.length>0?t:null}(lx,l);if(t){var e,a,i;c((null===(e=t[0])||void 0===e?void 0:e.value)||""),u((null===(a=t[1])||void 0===a?void 0:a.value)||""),b((null===(i=t[2])||void 0===i?void 0:i.value)||"")}}else c(""),u(""),b("")},[l]);let m=(0,t.useMemo)(()=>{var e;return(null===(e=lx.find(e=>e.value===d))||void 0===e?void 0:e.children)||[]},[d]),h=(0,t.useMemo)(()=>{var e;return(null===(e=m.find(e=>e.value===o))||void 0===e?void 0:e.children)||[]},[d,o]),x=l||s;function g(e,l){let i=[];if(1===e)c(l.value),u(""),b(""),i=[l];else if(2===e)u(l.value),b(""),i=[lx.find(e=>e.value===d),l];else if(3===e){b(l.value);let e=lx.find(e=>e.value===d),a=e.children.find(e=>e.value===o);i=[e,a,l],r(!1)}a(i.map(e=>e.label).join(" / "))}return(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:"w-full justify-between bg-white/70",children:[(0,i.jsx)("span",{className:l?"":"text-muted-foreground",children:x}),(0,i.jsx)(lv.A,{className:"ml-2 h-4 w-4 opacity-70"})]})}),(0,i.jsx)(lu.hl,{align:"start",className:"w-[680px] p-0 overflow-hidden bg-white/80 backdrop-blur border-white/60 rounded-2xl",children:(0,i.jsxs)("div",{className:"grid grid-cols-3 divide-x divide-white/60",children:[(0,i.jsx)(e5.F,{className:"h-72",children:(0,i.jsx)("ul",{className:"py-1",children:lx.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(d===e.value?"bg-sky-50":""),onClick:()=>g(1,e),children:[(0,i.jsx)("span",{className:d===e.value?"text-sky-600 font-medium":"",children:e.label}),d===e.value&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.value))})}),(0,i.jsx)(e5.F,{className:"h-72",children:(0,i.jsxs)("ul",{className:"py-1",children:[0===m.length&&(0,i.jsx)("li",{className:"px-3 py-2 text-xs text-muted-foreground",children:"请选择省份"}),m.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(o===e.value?"bg-sky-50":""),onClick:()=>g(2,e),children:[(0,i.jsx)("span",{className:o===e.value?"text-sky-600 font-medium":"",children:e.label}),o===e.value&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.value))]})}),(0,i.jsx)(e5.F,{className:"h-72",children:(0,i.jsxs)("ul",{className:"py-1",children:[0===h.length&&(0,i.jsx)("li",{className:"px-3 py-2 text-xs text-muted-foreground",children:"请选择城市"}),h.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(v===e.value?"bg-sky-50":""),onClick:()=>g(3,e),children:[(0,i.jsx)("span",{className:v===e.value?"text-sky-600 font-medium":"",children:e.label}),v===e.value&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.value))]})})]})})]})}var lp=a(200);function lf(e){let{value:l=0,onChange:a,max:s=5,size:n=5}=e,[r,d]=(0,t.useState)(void 0),c=Array(s).fill(0),u=e=>{d(e)},v=()=>{d(void 0)},b=e=>{a(e)};return(0,i.jsx)("div",{className:"flex items-center gap-1",children:c.map((e,a)=>{let t=a+1;return(0,i.jsx)(E.A,{className:(0,o.cn)("cursor-pointer transition-colors",(r||l)>=t?"text-yellow-400 fill-yellow-400":"text-gray-300"),style:{width:"".concat(4*n,"px"),height:"".concat(4*n,"px")},onMouseOver:()=>u(t),onMouseLeave:v,onClick:()=>b(t)},a)})})}function lj(e){let{value:l,onChange:a,placeholder:t="0.00"}=e;return(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)(eg.l6,{defaultValue:"CNY",children:[(0,i.jsx)(eg.bq,{className:"w-[80px] rounded-r-none bg-white/70",children:(0,i.jsx)(eg.yv,{})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"CNY",children:"CNY"}),(0,i.jsx)(eg.eb,{value:"USD",children:"USD"}),(0,i.jsx)(eg.eb,{value:"EUR",children:"EUR"})]})]}),(0,i.jsx)(ex.p,{type:"number",className:"rounded-l-none bg-white/70",value:null!=l?l:"",onChange:e=>a(""===e.target.value?null:Number(e.target.value)),placeholder:t,step:"0.01"})]})}var ly=a(2916),lN=a(40721),lC=a(11331),lw=a(80794);function lk(e){let{className:l,...a}=e;return(0,i.jsx)(lw.uB,{"data-slot":"command",className:(0,o.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",l),...a})}function lz(e){let{className:l,...a}=e;return(0,i.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,i.jsx)(lN.A,{className:"size-4 shrink-0 opacity-50"}),(0,i.jsx)(lw.uB.Input,{"data-slot":"command-input",className:(0,o.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",l),...a})]})}function lS(e){let{className:l,...a}=e;return(0,i.jsx)(lw.uB.List,{"data-slot":"command-list",className:(0,o.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",l),...a})}function lA(e){let{...l}=e;return(0,i.jsx)(lw.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...l})}function lI(e){let{className:l,...a}=e;return(0,i.jsx)(lw.uB.Group,{"data-slot":"command-group",className:(0,o.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",l),...a})}function l_(e){let{className:l,...a}=e;return(0,i.jsx)(lw.uB.Item,{"data-slot":"command-item",className:(0,o.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",l),...a})}let lD=e=>{for(let l of e.modules){let e=l.directories.find(e=>"用户列表"===e.name||"Users"===e.name);if(e)return e.records.map(e=>({id:e.id,name:e.username||e.name||e.id,avatar:e.avatar||"/placeholder.svg?width=32&height=32&query=".concat(e.username||e.id)}))}return[]};function lM(e){let{app:l,value:a,onChange:s,isMulti:n=!1}=e,[r,d]=t.useState(!1),c=t.useMemo(()=>lD(l),[l]),u=t.useMemo(()=>{if(!a)return[];let e=new Set(Array.isArray(a)?a:[a]);return c.filter(l=>e.has(l.id))},[a,c]),v=e=>{if(n){let l=Array.isArray(a)?a:a?[a]:[];s(l.includes(e.id)?l.filter(l=>l!==e.id):[...l,e.id])}else s(e.id),d(!1)},b=e=>{n?s((Array.isArray(a)?a:[]).filter(l=>l!==e)):s(null)};return(0,i.jsxs)(lu.AM,{open:r,onOpenChange:d,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",role:"combobox","aria-expanded":r,className:"w-full justify-between h-auto min-h-10 bg-white/70",children:[u.length>0?(0,i.jsx)("div",{className:"flex flex-wrap items-center gap-1",children:u.map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-1.5 bg-slate-100 rounded-md pl-1 pr-2 py-0.5 border border-slate-200",children:[(0,i.jsxs)(lC.eu,{className:"h-5 w-5",children:[(0,i.jsx)(lC.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,i.jsx)(lC.q5,{children:e.name.charAt(0)})]}),(0,i.jsx)("span",{className:"text-sm",children:e.name}),(0,i.jsx)("button",{onClick:l=>{l.stopPropagation(),b(e.id)},className:"text-muted-foreground hover:text-foreground",children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]},e.id))}):(0,i.jsx)("span",{className:"text-muted-foreground",children:"选择用户..."}),(0,i.jsx)(ly.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,i.jsx)(lu.hl,{className:"w-(--radix-popover-trigger-width) p-0",align:"start",children:(0,i.jsxs)(lk,{children:[(0,i.jsxs)("div",{className:"flex items-center border-b px-3",children:[(0,i.jsx)(lN.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,i.jsx)(lz,{placeholder:"搜索用户...",className:"h-10 border-0 pl-0 focus-visible:ring-0 focus-visible:ring-offset-0"})]}),(0,i.jsxs)(lS,{children:[(0,i.jsx)(lA,{children:"未找到用户。"}),(0,i.jsx)(lI,{heading:"最近",children:c.map(e=>{let l=u.some(l=>l.id===e.id);return(0,i.jsxs)(l_,{value:e.name,onSelect:()=>v(e),className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(lC.eu,{className:"h-6 w-6",children:[(0,i.jsx)(lC.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,i.jsx)(lC.q5,{children:e.name.charAt(0)})]}),(0,i.jsx)("span",{children:e.name})]}),(0,i.jsx)(lb.A,{className:(0,o.cn)("h-4 w-4",l?"opacity-100":"opacity-0")})]},e.id)})})]})]})})]})}let lF={work:{label:"工作经历",icon:"\uD83D\uDCBC"},education:{label:"教育经历",icon:"\uD83C\uDF93"},project:{label:"项目经历",icon:"\uD83D\uDE80"},certificate:{label:"证书资质",icon:"\uD83C\uDFC6"}},lE=["高中","中专","大专","本科","硕士","博士","博士后"];var lL=a(99434),lP=a(96619);function lT(e){var l,a,t,s,n;let{experience:r,onClick:d,field:c}=e;return(0,i.jsx)(e3.Zp,{className:"bg-white/70 border-gray-200 hover:bg-white/90 transition-colors cursor-pointer",onClick:d,children:(0,i.jsx)(e3.Wu,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(r.type){case"education":return(0,i.jsx)(b.A,{className:"h-4 w-4"});case"work":default:return(0,i.jsx)(eD.A,{className:"h-4 w-4"});case"project":return(0,i.jsx)(lL.A,{className:"h-4 w-4"});case"certificate":return(0,i.jsx)(eO.A,{className:"h-4 w-4"})}})(),(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:r.title||"请输入标题"})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(null==c?void 0:c.preset)==="custom_experience"&&(null==c?void 0:null===(l=c.customExperienceConfig)||void 0===l?void 0:l.eventName)?"".concat(c.customExperienceConfig.eventName,"："):(null==c?void 0:c.preset)==="certificate_experience"&&(null==c?void 0:null===(a=c.certificateConfig)||void 0===a?void 0:a.issuingAuthority)?"".concat(c.certificateConfig.issuingAuthority,"："):"education"===r.type?"学校：":"work"===r.type?"公司：":"project"===r.type?"机构：":"certificate"===r.type?"颁发机构：":"机构：",(0,i.jsx)("span",{className:"text-gray-500",children:r.organization||((null==c?void 0:c.preset)==="custom_experience"&&(null==c?void 0:null===(t=c.customExperienceConfig)||void 0===t?void 0:t.eventName)?"请输入".concat(c.customExperienceConfig.eventName,"名称"):(null==c?void 0:c.preset)==="certificate_experience"&&(null==c?void 0:null===(s=c.certificateConfig)||void 0===s?void 0:s.issuingAuthority)?"请输入".concat(c.certificateConfig.issuingAuthority,"名称"):"请输入".concat((null==c?void 0:null===(n=c.customExperienceConfig)||void 0===n?void 0:n.eventName)||("education"===r.type?"学校":"work"===r.type?"公司":"project"===r.type?"机构":"颁发机构"),"名称"))})]}),"education"===r.type&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:["专业：",(0,i.jsx)("span",{className:"text-gray-500",children:r.major||"请输入专业名称"})]}),"work"===r.type&&r.department&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:["部门：",(0,i.jsx)("span",{className:"text-gray-500",children:r.department})]}),"education"===r.type&&r.degree&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:["学历：",(0,i.jsx)("span",{className:"text-gray-500",children:r.degree})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,i.jsx)(y.A,{className:"h-3 w-3"}),(()=>{if(!r.startDate)return"";let e=new Date(r.startDate).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit"});if(r.isCurrent)return"".concat(e," - 至今");if(r.endDate){let l=new Date(r.endDate).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit"});return"".concat(e," - ").concat(l)}return e})()]}),r.location&&(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,i.jsx)(eM.A,{className:"h-3 w-3"}),r.location]}),r.skills&&r.skills.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.skills.slice(0,3).map(e=>(0,i.jsx)(e4.E,{variant:"secondary",className:"text-xs",children:e},e)),r.skills.length>3&&(0,i.jsxs)(e4.E,{variant:"outline",className:"text-xs",children:["+",r.skills.length-3]})]})]}),(0,i.jsx)(lP.A,{className:"h-4 w-4 text-gray-400 flex-shrink-0 ml-2"})]})})})}var lO=a(77384),lq=a(50504);function lR(e){let{value:l="",onChange:a,certificateNames:s=[],allowCustom:r=!1,placeholder:d,disabled:c=!1}=e,{locale:o}=(0,n.Y)(),[u,v]=(0,t.useState)(()=>r&&l&&!s.includes(l)),b=e=>{null==a||a(e)};return r&&u?(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(ex.p,{value:l,onChange:e=>b(e.target.value),placeholder:d||("zh"===o?"请输入证书名称":"Enter certificate name"),disabled:c,className:"bg-white"}),s.length>0&&(0,i.jsx)("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>v(!1),children:"zh"===o?"从预设选项中选择":"Choose from preset options"})]}):(0,i.jsxs)(eg.l6,{value:l||"",onValueChange:e=>{"__custom__"===e?(v(!0),null==a||a("")):(v(!1),null==a||a(e))},disabled:c,children:[(0,i.jsx)(eg.bq,{className:"bg-white",children:(0,i.jsx)(eg.yv,{placeholder:d||("zh"===o?"请选择证书":"Select certificate")})}),(0,i.jsxs)(eg.gC,{children:[s.map((e,l)=>(0,i.jsx)(eg.eb,{value:e,children:e},l)),r&&(0,i.jsx)(eg.eb,{value:"__custom__",children:"zh"===o?"自定义...":"Custom..."})]})]})}function lV(e){var l;let{experience:a,type:s,onSave:r,onCancel:d,onDelete:c,field:o}=e,{locale:u}=(0,n.Y)(),[v,b]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{a?(b({...a}),h(!1)):(b({id:Math.random().toString(36).slice(2),type:s,title:"",organization:"",startDate:"",isCurrent:!1,description:"",skills:[]}),h(!0))},[a]),!v)return null;let x=(()=>{if(console.log("\uD83D\uDD0D InlineExperienceEditor - Field config:",o),console.log("\uD83D\uDD0D InlineExperienceEditor - FormData type:",v.type),console.log("\uD83D\uDD0D InlineExperienceEditor - Field preset:",null==o?void 0:o.preset),console.log("\uD83D\uDD0D InlineExperienceEditor - CustomExperienceConfig:",null==o?void 0:o.customExperienceConfig),(null==o?void 0:o.preset)==="custom_experience"&&(null==o?void 0:o.customExperienceConfig)){let e=o.customExperienceConfig.experienceName||("zh"===u?"经历":"Experience"),l=o.customExperienceConfig.eventName||("zh"===u?"事件":"Event");return{title:e,organization:l,titlePlaceholder:"zh"===u?"请输入".concat(e):"Enter ".concat(e),organizationPlaceholder:"zh"===u?"请输入".concat(l):"Enter ".concat(l)}}if((null==o?void 0:o.preset)==="certificate_experience"&&(null==o?void 0:o.certificateConfig)){let e=o.certificateConfig.issuingAuthority||("zh"===u?"颁发机构":"Issuing Authority");return{title:"zh"===u?"证书":"Certificate",organization:e,titlePlaceholder:o.certificateConfig.allowCustomCertificateName?"zh"===u?"请输入证书名称":"Enter certificate name":"zh"===u?"请选择证书":"Select certificate",organizationPlaceholder:o.certificateConfig.allowCustomIssuingAuthority?"zh"===u?"请输入颁发单位":"Enter issuing authority":"zh"===u?"请输入".concat(e):"Enter ".concat(e)}}switch(v.type){case"education":return{title:"zh"===u?"学校名称":"School Name",organization:"zh"===u?"学院/系":"College/Department",titlePlaceholder:"zh"===u?"请输入学校名称":"Enter school name",organizationPlaceholder:"zh"===u?"请输入学院或系":"Enter college or department"};case"work":return{title:"zh"===u?"公司名称":"Company Name",organization:"zh"===u?"职位":"Position",titlePlaceholder:"zh"===u?"请输入公司名称":"Enter company name",organizationPlaceholder:"zh"===u?"请输入职位名称":"Enter position"};case"project":if((null==o?void 0:o.preset)==="custom_experience"&&(null==o?void 0:o.customExperienceConfig)){let e=o.customExperienceConfig.experienceName||("zh"===u?"经历":"Experience"),l=o.customExperienceConfig.eventName||("zh"===u?"事件":"Event");return{title:e,organization:l,titlePlaceholder:"zh"===u?"请输入".concat(e):"Enter ".concat(e),organizationPlaceholder:"zh"===u?"请输入".concat(l):"Enter ".concat(l)}}return{title:"zh"===u?"项目名称":"Project Name",organization:"zh"===u?"所属机构":"Organization",titlePlaceholder:"zh"===u?"请输入项目名称":"Enter project name",organizationPlaceholder:"zh"===u?"请输入机构名称":"Enter organization"};case"certificate":return{title:"zh"===u?"证书名称":"Certificate Name",organization:"zh"===u?"颁发机构":"Issuing Organization",titlePlaceholder:"zh"===u?"请输入证书名称":"Enter certificate name",organizationPlaceholder:"zh"===u?"请输入颁发机构":"Enter issuing organization"};default:return{title:"zh"===u?"名称":"Name",organization:"zh"===u?"副标题":"Subtitle",titlePlaceholder:"zh"===u?"请输入名称":"Enter name",organizationPlaceholder:"zh"===u?"请输入副标题":"Enter subtitle"}}})(),g=(e,l)=>{b(a=>a?{...a,[e]:l}:null)};return m?(0,i.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:x.title}),(null==o?void 0:o.preset)==="certificate_experience"&&(null==o?void 0:o.certificateConfig)&&!o.certificateConfig.allowCustomCertificateName&&(null===(l=o.certificateConfig.certificateNames)||void 0===l?void 0:l.length)>0?(0,i.jsx)(lR,{value:v.title,onChange:e=>g("title",e),certificateNames:o.certificateConfig.certificateNames,allowCustom:o.certificateConfig.allowCustomCertificateName,placeholder:x.titlePlaceholder}):(0,i.jsx)(ex.p,{value:v.title,onChange:e=>g("title",e.target.value),placeholder:x.titlePlaceholder,className:"bg-gray-50"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:x.organization}),(0,i.jsx)(ex.p,{value:v.organization,onChange:e=>g("organization",e.target.value),placeholder:x.organizationPlaceholder,className:"bg-gray-50"})]})]}),"certificate"!==v.type&&(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium mb-2 block",children:"zh"===u?"时间范围":"Time Period"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(ex.p,{type:"date",value:v.startDate,onChange:e=>g("startDate",e.target.value),className:"bg-gray-50"}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"zh"===u?"开始时间":"Start Date"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(ex.p,{type:"date",value:v.endDate||"",onChange:e=>g("endDate",e.target.value),disabled:v.isCurrent,className:"bg-gray-50"}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"zh"===u?"结束时间":"End Date"})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,i.jsx)(ep.d,{checked:v.isCurrent,onCheckedChange:e=>{g("isCurrent",e),e&&g("endDate",void 0)}}),(0,i.jsx)(eH.J,{className:"text-sm",children:(null==o?void 0:o.preset)==="custom_experience"?"zh"===u?"进行中":"In progress":"work"===v.type?"zh"===u?"目前在职":"Currently employed":"education"===v.type?"zh"===u?"目前在读":"Currently studying":"zh"===u?"进行中":"In progress"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:"zh"===u?"详细描述":"Description"}),(0,i.jsx)(eK.T,{value:v.description||"",onChange:e=>g("description",e.target.value),placeholder:"zh"===u?"请详细描述相关内容...":"Please describe the details...",rows:3,className:"bg-gray-50"})]}),"education"===v.type&&(null==o?void 0:o.preset)!=="custom_experience"&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:"zh"===u?"学历":"Degree"}),(0,i.jsxs)(eg.l6,{value:v.degree||"",onValueChange:e=>g("degree",e),children:[(0,i.jsx)(eg.bq,{className:"bg-gray-50",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===u?"请选择学历":"Select degree"})}),(0,i.jsx)(eg.gC,{children:lE.map(e=>(0,i.jsx)(eg.eb,{value:e,children:e},e))})]})]}),v.degree&&["本科","硕士","博士","博士后"].includes(v.degree)&&(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:"zh"===u?"专业":"Major"}),(0,i.jsx)(ex.p,{value:v.major||"",onChange:e=>g("major",e.target.value),placeholder:"zh"===u?"请输入专业":"Enter major",className:"bg-gray-50"})]})]}),"work"===v.type&&(null==o?void 0:o.preset)!=="custom_experience"&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:"zh"===u?"部门":"Department"}),(0,i.jsx)(ex.p,{value:v.department||"",onChange:e=>g("department",e.target.value),placeholder:"zh"===u?"请输入部门":"Enter department",className:"bg-gray-50"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(eH.J,{className:"text-sm font-medium",children:"zh"===u?"薪资":"Salary"}),(0,i.jsx)(ex.p,{value:v.salary||"",onChange:e=>g("salary",e.target.value),placeholder:"zh"===u?"如：15K-20K":"e.g. 15K-20K",className:"bg-gray-50"})]})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,i.jsx)(q.$,{variant:"outline",onClick:d,children:"zh"===u?"取消":"Cancel"}),(0,i.jsxs)(q.$,{onClick:()=>{v&&(r(v),h(!1))},className:"bg-gray-900 hover:bg-gray-800",children:[(0,i.jsx)(lq.A,{className:"h-4 w-4 mr-1"}),"zh"===u?"保存":"Save"]})]})]})}):(0,i.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-sm transition-shadow",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:v.title||("zh"===u?"未填写":"Not filled")}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:v.organization||("zh"===u?"未填写":"Not filled")}),(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[v.startDate?new Date(v.startDate).toLocaleDateString():"zh"===u?"未设置":"Not set"," -",v.isCurrent?"zh"===u?"至今":"Present":v.endDate?new Date(v.endDate).toLocaleDateString():"zh"===u?"未设置":"Not set"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"text-gray-600 hover:text-gray-800",children:(0,i.jsx)(lO.A,{className:"h-4 w-4"})}),c&&(0,i.jsx)(q.$,{variant:"ghost",size:"sm",onClick:c,className:"text-red-600 hover:text-red-800",children:(0,i.jsx)(eR.A,{className:"h-4 w-4"})})]})]}),v.description&&(0,i.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:v.description})]})}function l$(e){let{title:l,type:a,experiences:s,onChange:r,className:d,pageSize:c=5,field:u}=e,{locale:v}=(0,n.Y)(),[b,m]=(0,t.useState)(null),[h,x]=(0,t.useState)(1),g=s.filter(e=>e.type===a),p=Math.ceil(g.length/c),f=(h-1)*c,j=f+c,y=(0,t.useMemo)(()=>g.slice(f,j),[g,f,j]),N=e=>{m(e)},C=e=>{r(s.filter(l=>l.id!==e)),m(null);let l=Math.ceil((g.length-1)/c);h>l&&l>0&&x(l)},w=e=>{x(Math.max(1,Math.min(e,p)))};return(0,i.jsxs)("div",{className:d,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:l}),g.length>0&&(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:["(",g.length," ","zh"===v?"条记录":"records",")"]})]}),(0,i.jsxs)(q.$,{variant:"outline",size:"sm",type:"button",onClick:()=>{m(null)},className:"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300",children:[(0,i.jsx)(O.A,{className:"h-4 w-4 mr-1"}),"zh"===v?"添加经历":"Add Experience"]})]}),g.length>c&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-3",children:[(0,i.jsx)("div",{children:"zh"===v?"显示第 ".concat(f+1,"-").concat(Math.min(j,g.length)," 条，共 ").concat(g.length," 条记录"):"Showing ".concat(f+1,"-").concat(Math.min(j,g.length)," of ").concat(g.length," records")}),(0,i.jsx)("div",{children:"zh"===v?"第 ".concat(h," 页，共 ").concat(p," 页"):"Page ".concat(h," of ").concat(p)})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[y.map(e=>(0,i.jsx)(lT,{experience:e,onClick:()=>N(e),field:u},e.id)),void 0!==b&&(0,i.jsx)(lV,{experience:b,type:a,onSave:e=>{s.find(l=>l.id===e.id)?r(s.map(l=>l.id===e.id?e:l)):r([...s,e]),m(null)},onCancel:()=>{m(null)},onDelete:(null==b?void 0:b.id)?()=>C(b.id):void 0,field:u}),0===g.length&&void 0===b&&(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:lF[a].icon}),(0,i.jsx)("p",{children:"zh"===v?"暂无".concat(l):"No ".concat(l)}),(0,i.jsx)("p",{className:"text-sm",children:"zh"===v?'点击"添加经历"开始添加':'Click "Add Experience" to start'})]})]}),p>1&&(0,i.jsx)("div",{className:"flex justify-center mt-6",children:(0,i.jsx)(G.dK,{children:(0,i.jsxs)(G.Iu,{children:[(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.Eb,{onClick:()=>w(h-1),className:(0,o.cn)("cursor-pointer",1===h&&"pointer-events-none opacity-50")})}),(()=>{let e=[];if(p>7){e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>w(1),isActive:1===h,className:"cursor-pointer",children:"1"})},1)),h>4&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.M_,{})},"ellipsis-start"));let l=Math.max(2,h-1),a=Math.min(p-1,h+1);for(let t=l;t<=a;t++)e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>w(t),isActive:h===t,className:"cursor-pointer",children:t})},t));h<p-3&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.M_,{})},"ellipsis-end")),p>1&&e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>w(p),isActive:h===p,className:"cursor-pointer",children:p})},p))}else for(let l=1;l<=p;l++)e.push((0,i.jsx)(G.cU,{children:(0,i.jsx)(G.n$,{onClick:()=>w(l),isActive:h===l,className:"cursor-pointer",children:l})},l));return e})(),(0,i.jsx)(G.cU,{children:(0,i.jsx)(G.WA,{onClick:()=>w(h+1),className:(0,o.cn)("cursor-pointer",h===p&&"pointer-events-none opacity-50")})})]})})})]})}function lB(e){var l,a,s,r;let{value:d=[],onChange:c,className:o,field:u}=e,{locale:v}=(0,n.Y)(),[b,m]=(0,t.useState)(null),h=(()=>{if(console.log("\uD83D\uDD0D ExperienceEditor - Field config:",u),console.log("\uD83D\uDD0D ExperienceEditor - Field preset:",null==u?void 0:u.preset),console.log("\uD83D\uDD0D ExperienceEditor - CustomExperienceConfig:",null==u?void 0:u.customExperienceConfig),!u)return["education"];if("custom_experience"===u.preset)return console.log("\uD83D\uDD0D ExperienceEditor - Using custom_experience type"),["project"];let e=u.label||"";return e.includes("教育")||e.includes("学历")?["education"]:e.includes("工作")?["work"]:e.includes("项目")?["project"]:e.includes("证书")||e.includes("荣誉")?["certificate"]:["education"]})();return(0,i.jsx)("div",{className:o,children:(0,i.jsxs)("div",{className:"space-y-8",children:[h.includes("education")&&(0,i.jsx)(l$,{title:(null==u?void 0:null===(l=u.customExperienceConfig)||void 0===l?void 0:l.experienceName)||("zh"===v?"教育经历":"Education"),type:"education",experiences:d,onChange:c,field:u}),h.includes("work")&&(0,i.jsx)(l$,{title:(null==u?void 0:null===(a=u.customExperienceConfig)||void 0===a?void 0:a.experienceName)||("zh"===v?"工作经历":"Work Experience"),type:"work",experiences:d,onChange:c,field:u}),h.includes("project")&&(0,i.jsx)(l$,{title:(null==u?void 0:null===(s=u.customExperienceConfig)||void 0===s?void 0:s.experienceName)||("zh"===v?"项目经历":"Project Experience"),type:"project",experiences:d,onChange:c,field:u}),h.includes("certificate")&&(0,i.jsx)(l$,{title:(null==u?void 0:null===(r=u.customExperienceConfig)||void 0===r?void 0:r.experienceName)||("zh"===v?"证书资质":"Certificates"),type:"certificate",experiences:d,onChange:c,field:u})]})})}var lU=a(19109);function lK(e){let{value:l,onChange:a,placeholder:s="请选择星座"}=e,[n,r]=(0,t.useState)(!1),d=l?(0,lU.getConstellationById)(l):null;return(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between bg-white/70",children:[d?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{children:d.symbol}),(0,i.jsx)("span",{children:d.name}),(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",d.dateRange,")"]})]}):(0,i.jsx)("span",{className:"text-muted-foreground",children:s}),(0,i.jsx)(ly.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,i.jsx)(lu.hl,{className:"w-[400px] p-0",children:(0,i.jsxs)(lk,{children:[(0,i.jsx)(lz,{placeholder:"搜索星座..."}),(0,i.jsxs)(lS,{children:[(0,i.jsx)(lA,{children:"未找到星座。"}),(0,i.jsx)(lI,{children:lU.constellationData.map(e=>(0,i.jsxs)(l_,{value:e.name,onSelect:()=>{a(e.id),r(!1)},children:[(0,i.jsx)(lb.A,{className:(0,o.cn)("mr-2 h-4 w-4",l===e.id?"opacity-100":"opacity-0")}),(0,i.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,i.jsx)("span",{className:"text-lg",children:e.symbol}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"font-medium",children:e.name}),(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.englishName,")"]})]}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:e.dateRange})]})]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e.element})]},e.id))})]})]})})]})}function lH(e){let{value:l=[],onChange:a,allowedCategories:s,maxSkills:n,showLevel:r=!1,customCategories:d=[],customSkills:c=[],className:u}=e,[v,b]=(0,t.useState)(!1),[m,h]=(0,t.useState)("all"),x=(0,t.useMemo)(()=>[...ev.skillsData,...c],[c]),g=(0,t.useMemo)(()=>d||[],[d]),p=(0,t.useMemo)(()=>l.map(e=>{let l=(0,ev.getSkillById)(e);return l||c.find(l=>l.id===e)}).filter(Boolean),[l,c]),f=(0,t.useMemo)(()=>s&&s.length>0?g.filter(e=>s.includes(e.name)):g,[s,g]);(0,t.useMemo)(()=>"all"===m?s&&s.length>0?x.filter(e=>s.includes(e.category)):[]:c.filter(e=>e.category===m),[m,s,x,c]);let j=e=>{if(l.includes(e))a(l.filter(l=>l!==e));else{if(n&&l.length>=n)return;a([...l,e])}},y=e=>{a(l.filter(l=>l!==e))};return(0,i.jsx)("div",{className:(0,o.cn)("w-full",u),children:(0,i.jsxs)(lu.AM,{open:v,onOpenChange:b,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-full justify-between h-auto min-h-10 bg-white/70",children:[(0,i.jsx)("div",{className:"flex gap-1 flex-wrap",children:p.length>0?p.map(e=>(0,i.jsxs)(e4.E,{variant:"secondary",className:"cursor-pointer",onClick:l=>{l.stopPropagation(),y(e.id)},children:[e.name,r&&e.level&&(0,i.jsxs)("span",{className:"ml-1 text-xs opacity-70",children:["(",e.level,")"]}),(0,i.jsx)(eR.A,{className:"ml-1 h-3 w-3"})]},e.id)):(0,i.jsx)("span",{className:"text-muted-foreground",children:"选择技能..."})}),(0,i.jsx)(ly.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,i.jsxs)(lu.hl,{className:"w-[400px] p-0",align:"start",children:[(0,i.jsxs)(X.tU,{value:m,onValueChange:h,children:[(0,i.jsxs)(X.j7,{className:"grid w-full grid-cols-4 h-auto p-1",children:[(0,i.jsx)(X.Xi,{value:"all",className:"text-xs",children:"全部"}),f.slice(0,3).map(e=>(0,i.jsx)(X.Xi,{value:e.name,className:"text-xs",children:e.name},e.id))]}),(0,i.jsx)(X.av,{value:"all",className:"mt-0",children:(0,i.jsxs)(lk,{children:[(0,i.jsx)(lz,{placeholder:"搜索技能..."}),(0,i.jsxs)(lS,{className:"max-h-[300px]",children:[(0,i.jsx)(lA,{children:"未找到技能。"}),f.map(e=>{let a=c.filter(l=>l.category===e.name);return 0===a.length?null:(0,i.jsx)(lI,{heading:e.name,children:a.map(e=>(0,i.jsxs)(l_,{value:e.name,onSelect:()=>j(e.id),className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(lb.A,{className:(0,o.cn)("mr-2 h-4 w-4",l.includes(e.id)?"opacity-100":"opacity-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),r&&e.level&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e.level})]})]}),e.description&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground max-w-[150px] truncate",children:e.description})]},e.id))},e.id)})]})]})}),f.map(e=>(0,i.jsx)(X.av,{value:e.name,className:"mt-0",children:(0,i.jsxs)(lk,{children:[(0,i.jsx)(lz,{placeholder:"搜索".concat(e.name,"技能...")}),(0,i.jsxs)(lS,{className:"max-h-[300px]",children:[(0,i.jsx)(lA,{children:"未找到技能。"}),(0,i.jsx)(lI,{children:c.filter(l=>l.category===e.name).map(e=>(0,i.jsxs)(l_,{value:e.name,onSelect:()=>j(e.id),className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(lb.A,{className:(0,o.cn)("mr-2 h-4 w-4",l.includes(e.id)?"opacity-100":"opacity-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),r&&e.level&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e.level})]})]}),e.description&&(0,i.jsx)("div",{className:"text-xs text-muted-foreground max-w-[150px] truncate",children:e.description})]},e.id))})]})]})},e.id))]}),n&&(0,i.jsxs)("div",{className:"p-2 border-t text-xs text-muted-foreground text-center",children:["已选择 ",p.length," / ",n," 个技能"]})]})]})})}function lJ(e){let{value:l={},onChange:a,config:s={requireName:!0,requireIdNumber:!0,requireFrontPhoto:!0,requireBackPhoto:!0},disabled:r=!1}=e,{locale:d}=(0,n.Y)(),[c,o]=(0,t.useState)(l),u=(e,l)=>{let i={...c,[e]:l};o(i),null==a||a(i)},v=e=>{let l=document.createElement("input");l.type="file",l.accept="image/*",l.onchange=l=>{var a;let i=null===(a=l.target.files)||void 0===a?void 0:a[0];if(i){let l=new FileReader;l.onload=l=>{var a;u(e,null===(a=l.target)||void 0===a?void 0:a.result)},l.readAsDataURL(i)}},l.click()},b=e=>{u(e,"")};return(0,i.jsxs)("div",{className:"space-y-4",children:[s.requireName&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:["zh"===d?"姓名":"Name",s.requireName&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsx)(ex.p,{value:c.name||"",onChange:e=>u("name",e.target.value),placeholder:"zh"===d?"请输入真实姓名":"Enter your real name",disabled:r,className:"mt-1"})]}),s.requireIdNumber&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:["zh"===d?"身份证号":"ID Number",s.requireIdNumber&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsx)(ex.p,{value:c.idNumber||"",onChange:e=>u("idNumber",e.target.value),placeholder:"zh"===d?"请输入18位身份证号":"Enter 18-digit ID number",disabled:r,className:"mt-1",maxLength:18})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.requireFrontPhoto&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:["zh"===d?"身份证正面照片":"ID Card Front Photo",s.requireFrontPhoto&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsx)(e3.Zp,{className:"mt-1",children:(0,i.jsx)(e3.Wu,{className:"p-4",children:c.frontPhoto?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:c.frontPhoto,alt:"zh"===d?"身份证正面":"ID Card Front",className:"w-full h-32 object-cover rounded border"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>b("frontPhoto"),disabled:r,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(A.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>v("frontPhoto"),disabled:r,className:"gap-1",children:[(0,i.jsx)(eV.A,{className:"h-4 w-4"}),"zh"===d?"上传正面照片":"Upload Front Photo"]})]})})})]}),s.requireBackPhoto&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:["zh"===d?"身份证反面照片":"ID Card Back Photo",s.requireBackPhoto&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsx)(e3.Zp,{className:"mt-1",children:(0,i.jsx)(e3.Wu,{className:"p-4",children:c.backPhoto?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:c.backPhoto,alt:"zh"===d?"身份证反面":"ID Card Back",className:"w-full h-32 object-cover rounded border"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>b("backPhoto"),disabled:r,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(A.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>v("backPhoto"),disabled:r,className:"gap-1",children:[(0,i.jsx)(eV.A,{className:"h-4 w-4"}),"zh"===d?"上传反面照片":"Upload Back Photo"]})]})})})]})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"font-medium mb-1",children:"zh"===d?"注意事项：":"Important Notes:"}),(0,i.jsxs)("ul",{className:"space-y-1",children:[(0,i.jsxs)("li",{children:["• ","zh"===d?"请确保身份证照片清晰可见":"Ensure ID card photos are clear and visible"]}),(0,i.jsxs)("li",{children:["• ","zh"===d?"照片信息将被安全存储":"Photo information will be stored securely"]}),(0,i.jsxs)("li",{children:["• ","zh"===d?"仅用于身份验证目的":"For identity verification purposes only"]})]})]})]})}function lW(e){let{value:l={},onChange:a,config:s={textFields:[],imageFields:[]},disabled:r=!1}=e,{locale:d}=(0,n.Y)(),[c,o]=(0,t.useState)(l),u=(e,l)=>{let i={...c,[e]:l};o(i),null==a||a(i)},v=(e,l)=>{let a=document.createElement("input");a.type="file",a.accept="image/*",a.multiple=l,a.onchange=a=>{let i=a.target.files;if(i&&i.length>0){let a=[];Array.from(i).forEach(t=>{let s=new FileReader;s.onload=t=>{var s;let n=null===(s=t.target)||void 0===s?void 0:s.result;if(a.push(n),a.length===i.length){if(l){let l=c[e]||[];u(e,[...l,...a])}else u(e,a)}},s.readAsDataURL(t)})}},a.click()},b=(e,l)=>{let a=(c[e]||[]).filter((e,a)=>a!==l);u(e,a)};return(0,i.jsxs)("div",{className:"space-y-6",children:[s.textFields&&s.textFields.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"zh"===d?"文字信息":"Text Information"}),s.textFields.map(e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:[e.name,e.required&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,i.jsx)(ex.p,{value:c[e.id]||"",onChange:l=>u(e.id,l.target.value),placeholder:"zh"===d?"请输入".concat(e.name):"Enter ".concat(e.name),disabled:r,className:"mt-1"})]},e.id))]}),s.imageFields&&s.imageFields.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"zh"===d?"图片信息":"Image Information"}),s.imageFields.map(e=>{let l=c[e.id]||[],a=e.multiple,t=l.length>0,s=a||!t;return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(eH.J,{className:"text-sm font-medium",children:[e.name,e.required&&(0,i.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),(0,i.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",a?"zh"===d?"多图":"Multiple":"zh"===d?"单图":"Single",")"]})]}),t&&(0,i.jsx)("div",{className:"grid gap-3 ".concat(a?"grid-cols-2 md:grid-cols-3":"grid-cols-1 max-w-xs"),children:l.map((l,a)=>(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:l,alt:"".concat(e.name," ").concat(a+1),className:"w-full h-24 object-cover rounded border"}),(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>b(e.id,a),disabled:r,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]},a))}),s&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(A.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>v(e.id,a),disabled:r,className:"gap-1",children:[(0,i.jsx)(eV.A,{className:"h-4 w-4"}),"zh"===d?"上传".concat(e.name).concat(a&&t?"（追加）":""):"Upload ".concat(e.name).concat(a&&t?" (Add)":"")]})]})]},e.id)})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"font-medium mb-1",children:"zh"===d?"注意事项：":"Important Notes:"}),(0,i.jsxs)("ul",{className:"space-y-1",children:[(0,i.jsxs)("li",{children:["• ","zh"===d?"请确保所有必填字段都已填写":"Please ensure all required fields are filled"]}),(0,i.jsxs)("li",{children:["• ","zh"===d?"图片信息将被安全存储":"Image information will be stored securely"]}),(0,i.jsxs)("li",{children:["• ","zh"===d?"支持多张图片上传":"Multiple image uploads are supported"]})]})]})]})}function lY(e){let{value:l="",onChange:a,multiple:t=!1,defaultImage:s="",disabled:r=!1}=e,{locale:d}=(0,n.Y)(),c=t?Array.isArray(l)?l:l?[l]:[]:Array.isArray(l)?l[0]||"":l||"",o=t?c.length>0:!!c,u=t||!o,v=e=>{if(t){let l=c.filter((l,a)=>a!==e);null==a||a(l)}else null==a||a("")},b=!o&&s,m=b?[s]:t?c:[c];return(0,i.jsxs)("div",{className:"space-y-2",children:[(o||b)&&(0,i.jsx)("div",{className:"grid gap-3 ".concat(t?"grid-cols-2 md:grid-cols-3":"grid-cols-1 max-w-xs"),children:m.filter(Boolean).map((e,l)=>(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:e,alt:"".concat("zh"===d?"图片":"Image"," ").concat(l+1),className:"w-full h-24 object-cover rounded border"}),!b&&(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>v(l),disabled:r,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})}),b&&(0,i.jsx)("div",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:"zh"===d?"默认":"Default"})]},l))}),u&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(A.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=t,e.onchange=async e=>{let l=e.target.files;if(l&&l.length>0){let e=async e=>{let l=new FormData;l.append("file",e);let a=await fetch("".concat("http://47.94.52.142:3007","/api/upload"),{method:"POST",body:l}),i=await a.json();if(!a.ok||!(null==i?void 0:i.success)||!(null==i?void 0:i.url))throw Error((null==i?void 0:i.message)||"上传失败");return i.url};try{let i=[];for(let a of Array.from(l)){let l=await e(a);i.push(l)}if(t){let e=c||[];null==a||a([...e,...i])}else null==a||a(i[0])}catch(e){console.error("图片上传失败",e)}}},e.click()},disabled:r,className:"gap-1",children:[(0,i.jsx)(eV.A,{className:"h-4 w-4"}),"zh"===d?"上传图片".concat(t&&o?"（追加）":""):"Upload Image".concat(t&&o?" (Add)":"")]})]}),t&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"zh"===d?"支持选择多个图片文件进行批量上传":"Select multiple image files for batch upload"})]})}var lG=a(5944);function lZ(e){let{value:l="",onChange:a,multiple:t=!1,defaultVideo:s="",disabled:r=!1}=e,{locale:d}=(0,n.Y)(),c=t?Array.isArray(l)?l:l?[l]:[]:Array.isArray(l)?l[0]||"":l||"",o=t?c.length>0:!!c,u=t||!o,v=e=>{if(t){let l=c.filter((l,a)=>a!==e);null==a||a(l)}else null==a||a("")},b=!o&&s,m=b?[s]:t?c:[c];return(0,i.jsxs)("div",{className:"space-y-2",children:[(o||b)&&(0,i.jsx)("div",{className:"grid gap-3 ".concat(t?"grid-cols-1 md:grid-cols-2":"grid-cols-1 max-w-md"),children:m.filter(Boolean).map((e,l)=>(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("video",{src:e,className:"w-full h-32 object-cover rounded border",controls:!0,preload:"metadata"}),!b&&(0,i.jsx)(q.$,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>v(l),disabled:r,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})}),b&&(0,i.jsx)("div",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:"zh"===d?"默认":"Default"})]},l))}),u&&(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded",children:[(0,i.jsx)(z.A,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,i.jsxs)(q.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="video/*",e.multiple=t,e.onchange=async e=>{let l=e.target.files;if(l&&l.length>0){let e=async e=>{let l=new FormData;l.append("file",e);let a=await fetch("".concat("http://47.94.52.142:3007","/api/upload"),{method:"POST",body:l}),i=await a.json();if(!a.ok||!(null==i?void 0:i.success)||!(null==i?void 0:i.url))throw Error((null==i?void 0:i.message)||"上传失败");return i.url};try{let i=[];for(let a of Array.from(l)){let l=await e(a);i.push(l)}if(t){let e=c||[];null==a||a([...e,...i])}else null==a||a(i[0])}catch(e){console.error("视频上传失败",e)}}},e.click()},disabled:r,className:"gap-1",children:[(0,i.jsx)(eV.A,{className:"h-4 w-4"}),"zh"===d?"上传视频".concat(t&&o?"（追加）":""):"Upload Video".concat(t&&o?" (Add)":"")]})]}),t&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"zh"===d?"支持选择多个视频文件进行批量上传":"Select multiple video files for batch upload"})]})}var lX=a(61727),lQ=a(25589);function l0(e){let{value:l="",onChange:a,accept:s="*/*",disabled:n=!1}=e,[r,d]=(0,t.useState)(!1),c=()=>{let e=document.createElement("input");e.type="file",e.accept=s,e.onchange=async e=>{let l=e.target.files;if(l&&l.length>0){let e=l[0];d(!0);try{let l=new FormData;l.append("file",e);let i=await fetch("".concat("http://47.94.52.142:3007","/api/upload"),{method:"POST",body:l}),t=await i.json();if(!i.ok||!(null==t?void 0:t.success)||!(null==t?void 0:t.url))throw Error((null==t?void 0:t.message)||"上传失败");null==a||a(t.url)}catch(e){console.error("文件上传失败",e)}finally{d(!1)}}},e.click()},o=e=>{try{return new URL(e).pathname.split("/").pop()||"文件"}catch(e){return"文件"}};return(0,i.jsxs)("div",{className:"space-y-2",children:[l&&(0,i.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded bg-gray-50",children:[(0,i.jsx)(lX.A,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm flex-1 truncate",title:o(l),children:o(l)}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{l&&window.open(l,"_blank")},disabled:n,children:(0,i.jsx)(lQ.A,{className:"h-3 w-3"})}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{null==a||a("")},disabled:n,children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]}),!l&&(0,i.jsx)(q.$,{type:"button",variant:"outline",onClick:c,disabled:n||r,className:"w-full",children:r?"上传中...":"选择文件"}),l&&(0,i.jsx)(q.$,{type:"button",variant:"outline",size:"sm",onClick:c,disabled:n||r,children:r?"上传中...":"重新上传"})]})}var l1=a(36748),l2=a(19250);function l3(e){let{field:l,value:a,onChange:s}=e,[n,r]=(0,t.useState)(!1),d=l.dateMode||"single";if("range"===d){let e=Array.isArray(a)&&(a[0]||a[1])?{from:a[0]?new Date(a[0]):void 0,to:a[1]?new Date(a[1]):void 0}:void 0;return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:(0,o.cn)("w-full justify-start text-left font-normal bg-white",!(null==e?void 0:e.from)&&"text-muted-foreground"),children:[(0,i.jsx)(y.A,{className:"mr-2 h-4 w-4"}),(null==e?void 0:e.from)?e.to?(0,i.jsxs)(i.Fragment,{children:[(0,l1.GP)(e.from,"yyyy-MM-dd")," - ",(0,l1.GP)(e.to,"yyyy-MM-dd")]}):(0,l1.GP)(e.from,"yyyy-MM-dd"):(0,i.jsx)("span",{children:"选择日期范围"})]})}),(0,i.jsxs)(lu.hl,{className:"w-auto p-0",align:"start",children:[(0,i.jsxs)("div",{className:"p-3 border-b",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"选择日期范围"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"先选择开始日期，再选择结束日期"})]}),(0,i.jsx)(l2.V,{initialFocus:!0,mode:"range",defaultMonth:null==e?void 0:e.from,selected:e,onSelect:e=>{e?s([e.from?e.from.toISOString().split("T")[0]:null,e.to?e.to.toISOString().split("T")[0]:null]):s([null,null]),(null==e?void 0:e.from)&&(null==e?void 0:e.to)&&r(!1)},numberOfMonths:2}),(0,i.jsxs)("div",{className:"p-3 border-t flex justify-between",children:[(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>{s([null,null]),r(!1)},children:"清除"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>r(!1),disabled:!(null==e?void 0:e.from),children:"确定"})]})]})]}),(null==e?void 0:e.from)&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("span",{className:"font-medium",children:"开始:"}),(0,i.jsx)("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:(0,l1.GP)(e.from,"yyyy-MM-dd")})]}),e.to&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"→"}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("span",{className:"font-medium",children:"结束:"}),(0,i.jsx)("span",{className:"bg-red-50 text-red-700 px-2 py-1 rounded text-xs",children:(0,l1.GP)(e.to,"yyyy-MM-dd")})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["(",Math.ceil((e.to.getTime()-e.from.getTime())/864e5)," 天)"]})]})]})]})}if("multiple"===d){let e=Array.isArray(a)?a.filter(Boolean).map(e=>new Date(e)):[];return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:(0,o.cn)("w-full justify-start text-left font-normal bg-white",!e.length&&"text-muted-foreground"),children:[(0,i.jsx)(y.A,{className:"mr-2 h-4 w-4"}),e.length>0?(0,i.jsxs)("span",{children:[e.length," 个日期已选择"]}):(0,i.jsx)("span",{children:"选择多个日期"})]})}),(0,i.jsxs)(lu.hl,{className:"w-auto p-0",align:"start",children:[(0,i.jsxs)("div",{className:"p-3 border-b",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"选择多个日期"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"点击日期进行选择/取消选择，支持连续选择"})]}),(0,i.jsx)(l2.V,{mode:"multiple",selected:e,onSelect:e=>{e?s(e.map(e=>e.toISOString().split("T")[0])):s([])}}),(0,i.jsxs)("div",{className:"p-3 border-t flex justify-between",children:[(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>{s([]),r(!1)},children:"清除所有"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>r(!1),children:"确定"})]})]})]}),e.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map((l,a)=>(0,i.jsxs)("div",{className:"flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:[(0,i.jsx)("span",{children:(0,l1.GP)(l,"MM-dd")}),(0,i.jsx)("button",{type:"button",onClick:()=>{s(e.filter((e,l)=>l!==a).map(e=>e.toISOString().split("T")[0]))},className:"hover:bg-blue-100 rounded p-0.5",children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]},a))})]})}let c="string"==typeof a&&a?new Date(a):void 0;return(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:(0,o.cn)("w-full justify-start text-left font-normal bg-white",!c&&"text-muted-foreground"),children:[(0,i.jsx)(y.A,{className:"mr-2 h-4 w-4"}),c?(0,l1.GP)(c,"yyyy-MM-dd"):(0,i.jsx)("span",{children:"选择日期"})]})}),(0,i.jsx)(lu.hl,{className:"w-auto p-0",align:"start",children:(0,i.jsx)(l2.V,{mode:"single",selected:c,onSelect:e=>{e?s(e.toISOString().split("T")[0]):s(null),r(!1)},initialFocus:!0})})]})}function l4(e){let{value:l,onChange:a}=e,[s,n]=(0,t.useState)(""),[r,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(l){if("string"==typeof l)n(l);else if("number"==typeof l){let e=new Date(l),a=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0");n("".concat(a,":").concat(i))}}else n("")},[l]);let c=e=>{n(e),a(e)},o=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c("".concat(e.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"))),d(!1)};return(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)(lu.AM,{open:r,onOpenChange:d,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:"w-full justify-start text-left font-normal bg-white",children:[(0,i.jsx)(eC.A,{className:"mr-2 h-4 w-4"}),(e=>{if(!e)return"选择时间...";let[l,a]=e.split(":");if(l&&a){let e=parseInt(l);return parseInt(a),"".concat(0===e?12:e>12?e-12:e,":").concat(a," ").concat(e>=12?"PM":"AM")}return e})(s)]})}),(0,i.jsx)(lu.hl,{className:"w-auto p-0",align:"start",children:(0,i.jsxs)("div",{className:"p-4 space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"选择时间"}),(0,i.jsx)(ex.p,{type:"time",value:s,onChange:e=>{let l=e.target.value;n(l),(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(l)||""===l)&&a(l)},className:"w-full"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"快速选择"}),(0,i.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{label:"9:00",hours:9},{label:"12:00",hours:12},{label:"14:00",hours:14},{label:"18:00",hours:18},{label:"20:00",hours:20},{label:"22:00",hours:22}].map(e=>(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>o(e.hours),className:"text-xs",children:e.label},e.label))})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(q.$,{variant:"outline",size:"sm",onClick:()=>{c(""),d(!1)},children:"清除"}),(0,i.jsx)(q.$,{size:"sm",onClick:()=>d(!1),children:"确定"})]})]})})]})})}function l5(e){let{field:l,value:a,onChange:s}=e,[n,r]=(0,t.useState)(!1),[d,c]=(0,t.useState)(""),o=(0,t.useRef)(null),u=new Set(Array.isArray(a)?a:[]);(0,t.useEffect)(()=>{function e(e){o.current&&!o.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let v=e=>{let l=new Set(u);l.has(e)?l.delete(e):l.add(e),s(Array.from(l))},b=e=>{let l=new Set(u);l.delete(e),s(Array.from(l))},m=(l.options||[]).filter(e=>e.toLowerCase().includes(d.toLowerCase()));return(0,i.jsxs)("div",{ref:o,className:"relative",children:[(0,i.jsxs)(q.$,{type:"button",variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between h-auto min-h-10 bg-white",onClick:()=>{r(!n),n||c("")},children:[(0,i.jsx)("div",{className:"flex gap-1 flex-wrap",children:u.size>0?Array.from(u).map(e=>(0,i.jsxs)(e4.E,{variant:"secondary",onClick:l=>{l.stopPropagation(),b(e)},className:"cursor-pointer",children:[e,(0,i.jsx)(eR.A,{className:"ml-1 h-3 w-3"})]},e)):(0,i.jsx)("span",{className:"text-muted-foreground",children:"选择选项..."})}),(0,i.jsx)(lv.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),n&&(0,i.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg",children:[(0,i.jsx)("div",{className:"p-2 border-b",children:(0,i.jsx)(ex.p,{placeholder:"搜索选项...",value:d,onChange:e=>c(e.target.value),className:"h-8"})}),(0,i.jsx)("div",{className:"max-h-60 overflow-y-auto",children:m.length>0?m.map(e=>(0,i.jsxs)("div",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>v(e),children:[(0,i.jsx)(lb.A,{className:"mr-2 h-4 w-4 ".concat(u.has(e)?"opacity-100":"opacity-0")}),(0,i.jsx)("span",{className:"flex-1",children:e})]},e)):(0,i.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"没有找到匹配的选项"})})]})]})}function l6(e){let{value:l,onChange:a}=e,[s,n]=(0,t.useState)(""),r=Array.isArray(l)?l:[],d=()=>{let e=s.trim();e&&!r.includes(e)&&e.length<=50?(a([...r,e]),n("")):e&&r.includes(e)&&n("")},c=e=>{a(r.filter(l=>l!==e))};return(0,i.jsxs)("div",{className:"w-full min-h-10 p-2 border rounded-md bg-white flex flex-wrap items-center gap-2 focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[r.map(e=>(0,i.jsxs)(e4.E,{variant:"secondary",className:"flex items-center gap-1",children:[(0,i.jsx)("span",{className:"max-w-32 truncate",title:e,children:e}),(0,i.jsx)("button",{type:"button",onClick:()=>c(e),className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-gray-200 p-0.5",children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]},e)),(0,i.jsx)(ex.p,{type:"text",value:s,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key||","===e.key?(e.preventDefault(),d()):"Backspace"===e.key&&""===s&&r.length>0&&(e.preventDefault(),a(r.slice(0,-1)))},onBlur:d,placeholder:0===r.length?"添加标签，按回车或逗号确认...":"添加更多标签...",className:"flex-grow bg-transparent border-none shadow-none focus-visible:ring-0 p-0 h-6 min-w-32",maxLength:50})]})}var l7=a(35107),l8=a(24767);function l9(e){let{dir:l,record:a}=e,s=(0,t.useMemo)(()=>{let e=(0,c.L6)(l);return l.fields.filter(l=>l.enabled&&!1!==l.showInList&&l.id!==(null==e?void 0:e.id)).slice(0,3)},[l]);return(0,i.jsxs)("div",{className:"flex-1 text-left",children:[(0,i.jsx)("div",{className:"font-medium",children:(0,c.rj)(l,a)}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground flex items-center gap-x-3 gap-y-1 flex-wrap mt-1",children:s.map(e=>{var l;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"text-slate-500",children:[e.label,":"]})," ",(0,i.jsx)("span",{className:"font-mono text-slate-700",children:String(null!==(l=a[e.key])&&void 0!==l?l:"–")})]},e.id)})})]})}function ae(e){let{open:l,onOpenChange:a,targetDir:s,isMulti:r,selectedIds:d,onSave:o}=e,{locale:u}=(0,n.Y)(),[v,b]=(0,t.useState)(new Set(d)),[m,h]=(0,t.useState)("");(0,t.useEffect)(()=>{l&&b(new Set(d))},[l,d]);let x=s.records.filter(e=>(0,c.rj)(s,e).toLowerCase().includes(m.toLowerCase())),g=e=>{if(r){let l=new Set(v);l.has(e)?l.delete(e):l.add(e),b(l)}else b(new Set([e])),o(new Set([e])),a(!1)};return(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"max-w-4xl w-[90vw] max-h-[80vh] bg-white/80 backdrop-blur","aria-describedby":"relation-chooser-description",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:"zh"===u?"选择 ".concat(s.name):"Select ".concat(s.name)})}),(0,i.jsx)("div",{id:"relation-chooser-description",className:"sr-only",children:"zh"===u?"从 ".concat(s.name," 中选择一个或多个记录来创建关联"):"Select one or more records from ".concat(s.name," to create relationships")}),(0,i.jsx)(ex.p,{placeholder:"zh"===u?"搜索...":"Search...",value:m,onChange:e=>h(e.target.value),className:"my-2 bg-white/70"}),(0,i.jsx)(e5.F,{className:"h-[60vh] max-h-[480px] border rounded-md bg-white/60",children:(0,i.jsxs)("div",{className:"p-2",children:[r?(0,i.jsx)("div",{className:"space-y-1",children:x.map(e=>(0,i.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-white/90 cursor-pointer overflow-hidden",onClick:()=>g(e.id),children:[(0,i.jsx)(eu.S,{id:"rel-".concat(e.id),checked:v.has(e.id),onClick:l=>{l.stopPropagation(),g(e.id)},onCheckedChange:()=>g(e.id)}),(0,i.jsx)("div",{className:"min-w-0 flex-1",children:(0,i.jsx)(l9,{dir:s,record:e})})]},e.id))}):(0,i.jsx)(l8.z,{value:Array.from(v)[0]||"",onValueChange:g,children:x.map(e=>(0,i.jsxs)("label",{htmlFor:"rel-".concat(e.id),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-white/90 cursor-pointer overflow-hidden",children:[(0,i.jsx)(l8.C,{value:e.id,id:"rel-".concat(e.id)}),(0,i.jsx)("div",{className:"min-w-0 flex-1",children:(0,i.jsx)(l9,{dir:s,record:e})})]},e.id))}),0===x.length&&(0,i.jsx)("div",{className:"text-center text-sm text-muted-foreground py-10",children:"zh"===u?"无匹配记录":"No matching records"})]})}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>a(!1),children:"zh"===u?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:()=>o(v),children:"zh"===u?"保存":"Save"})]})]})})}function al(e){var l,a,s,n;let{app:r,field:d,value:o,onChange:u,currentRecordId:v}=e,b=null===(l=d.relation)||void 0===l?void 0:l.targetDirId,m=(0,c.zj)(r,b),h="relation_many"===d.type,x=new Set(h?Array.isArray(o)?o:[]:o?[o]:[]),g=null===(a=d.relation)||void 0===a?void 0:a.bidirectional,p=(()=>{for(let e of r.modules)for(let l of e.directories)if(l.fields.some(e=>e.id===d.id))return l.id})(),[f,j]=(0,t.useState)(!1),[y,N]=(0,t.useState)([]),[C,w]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var e;g&&v&&(null===(e=d.relation)||void 0===e?void 0:e.reverseFieldKey)&&p&&(w(!0),(async()=>{try{let l=r.id;if(!l){console.error("应用ID不存在"),N([]);return}let a=await fetch("/api/relation-records/records/".concat(l,"/").concat(p,"/").concat(v,"/").concat(d.relation.reverseFieldKey));if(a.ok){var e;let l=await a.json();N((null===(e=l.data)||void 0===e?void 0:e.records)||[])}else console.error("获取反向关联记录失败:",a.status,a.statusText),N([])}catch(e){console.error("获取反向关联记录失败:",e),N([])}finally{w(!1)}})())},[g,v,null===(s=d.relation)||void 0===s?void 0:s.reverseFieldKey,p]);let k=e=>{let l=new Set(x);l.delete(e),u(h?Array.from(l):Array.from(l)[0]||"")};return(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"关联记录"}),(0,i.jsxs)("div",{className:"w-full p-2 border rounded-md bg-white flex flex-wrap items-center gap-2 min-h-10",children:[Array.from(x).map(e=>{var l,a;let t=null==m?void 0:m.records.find(l=>l.id===e),s=t?(null===(l=d.relation)||void 0===l?void 0:l.displayFieldKey)?String(null!==(a=t[d.relation.displayFieldKey])&&void 0!==a?a:(0,c.rj)(m,t)):(0,c.rj)(m,t):e;return(0,i.jsxs)(e4.E,{variant:"secondary",children:[s,(0,i.jsx)("button",{onClick:()=>k(e),className:"ml-1 rounded-full outline-none",children:(0,i.jsx)(eR.A,{className:"h-3 w-3"})})]},e)}),(0,i.jsx)(q.$,{variant:"outline",size:"sm",className:"h-7 bg-white",onClick:()=>j(!0),children:"选择..."})]})]}),g&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[(0,i.jsx)(l7.A,{className:"h-4 w-4"}),"反向关联记录",(null===(n=d.relation)||void 0===n?void 0:n.reverseFieldKey)&&(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(通过 ",d.relation.reverseFieldKey," 字段)"]})]}),(0,i.jsx)("div",{className:"w-full p-2 border rounded-md bg-gray-50 flex flex-wrap items-center gap-2 min-h-10",children:C?(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"加载中..."}):y.length>0?y.map(e=>(0,i.jsx)(e4.E,{variant:"outline",children:e.name||e.id},e.id)):(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"暂无反向关联记录"})})]}),m&&(0,i.jsx)(ae,{open:f,onOpenChange:j,targetDir:m,isMulti:h,selectedIds:x,onSave:e=>{u(h?Array.from(e):Array.from(e)[0]||""),j(!1)}})]})}let aa=[{code:"CN",name:"中国",dialCode:"+86",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"US",name:"美国",dialCode:"+1",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"JP",name:"日本",dialCode:"+81",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{code:"KR",name:"韩国",dialCode:"+82",flag:"\uD83C\uDDF0\uD83C\uDDF7"},{code:"SG",name:"新加坡",dialCode:"+65",flag:"\uD83C\uDDF8\uD83C\uDDEC"},{code:"HK",name:"香港",dialCode:"+852",flag:"\uD83C\uDDED\uD83C\uDDF0"},{code:"TW",name:"台湾",dialCode:"+886",flag:"\uD83C\uDDF9\uD83C\uDDFC"},{code:"GB",name:"英国",dialCode:"+44",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"DE",name:"德国",dialCode:"+49",flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"FR",name:"法国",dialCode:"+33",flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"CA",name:"加拿大",dialCode:"+1",flag:"\uD83C\uDDE8\uD83C\uDDE6"},{code:"AU",name:"澳大利亚",dialCode:"+61",flag:"\uD83C\uDDE6\uD83C\uDDFA"},{code:"NZ",name:"新西兰",dialCode:"+64",flag:"\uD83C\uDDF3\uD83C\uDDFF"},{code:"IN",name:"印度",dialCode:"+91",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"BR",name:"巴西",dialCode:"+55",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"RU",name:"俄罗斯",dialCode:"+7",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"IT",name:"意大利",dialCode:"+39",flag:"\uD83C\uDDEE\uD83C\uDDF9"},{code:"ES",name:"西班牙",dialCode:"+34",flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"NL",name:"荷兰",dialCode:"+31",flag:"\uD83C\uDDF3\uD83C\uDDF1"},{code:"SE",name:"瑞典",dialCode:"+46",flag:"\uD83C\uDDF8\uD83C\uDDEA"},{code:"NO",name:"挪威",dialCode:"+47",flag:"\uD83C\uDDF3\uD83C\uDDF4"},{code:"DK",name:"丹麦",dialCode:"+45",flag:"\uD83C\uDDE9\uD83C\uDDF0"},{code:"FI",name:"芬兰",dialCode:"+358",flag:"\uD83C\uDDEB\uD83C\uDDEE"},{code:"CH",name:"瑞士",dialCode:"+41",flag:"\uD83C\uDDE8\uD83C\uDDED"},{code:"AT",name:"奥地利",dialCode:"+43",flag:"\uD83C\uDDE6\uD83C\uDDF9"},{code:"BE",name:"比利时",dialCode:"+32",flag:"\uD83C\uDDE7\uD83C\uDDEA"},{code:"IE",name:"爱尔兰",dialCode:"+353",flag:"\uD83C\uDDEE\uD83C\uDDEA"},{code:"PT",name:"葡萄牙",dialCode:"+351",flag:"\uD83C\uDDF5\uD83C\uDDF9"},{code:"GR",name:"希腊",dialCode:"+30",flag:"\uD83C\uDDEC\uD83C\uDDF7"},{code:"PL",name:"波兰",dialCode:"+48",flag:"\uD83C\uDDF5\uD83C\uDDF1"},{code:"CZ",name:"捷克",dialCode:"+420",flag:"\uD83C\uDDE8\uD83C\uDDFF"},{code:"HU",name:"匈牙利",dialCode:"+36",flag:"\uD83C\uDDED\uD83C\uDDFA"},{code:"RO",name:"罗马尼亚",dialCode:"+40",flag:"\uD83C\uDDF7\uD83C\uDDF4"},{code:"BG",name:"保加利亚",dialCode:"+359",flag:"\uD83C\uDDE7\uD83C\uDDEC"},{code:"HR",name:"克罗地亚",dialCode:"+385",flag:"\uD83C\uDDED\uD83C\uDDF7"},{code:"SI",name:"斯洛文尼亚",dialCode:"+386",flag:"\uD83C\uDDF8\uD83C\uDDEE"},{code:"SK",name:"斯洛伐克",dialCode:"+421",flag:"\uD83C\uDDF8\uD83C\uDDF0"},{code:"LT",name:"立陶宛",dialCode:"+370",flag:"\uD83C\uDDF1\uD83C\uDDF9"},{code:"LV",name:"拉脱维亚",dialCode:"+371",flag:"\uD83C\uDDF1\uD83C\uDDFB"},{code:"EE",name:"爱沙尼亚",dialCode:"+372",flag:"\uD83C\uDDEA\uD83C\uDDEA"},{code:"MT",name:"马耳他",dialCode:"+356",flag:"\uD83C\uDDF2\uD83C\uDDF9"},{code:"CY",name:"塞浦路斯",dialCode:"+357",flag:"\uD83C\uDDE8\uD83C\uDDFE"},{code:"LU",name:"卢森堡",dialCode:"+352",flag:"\uD83C\uDDF1\uD83C\uDDFA"},{code:"IS",name:"冰岛",dialCode:"+354",flag:"\uD83C\uDDEE\uD83C\uDDF8"},{code:"MX",name:"墨西哥",dialCode:"+52",flag:"\uD83C\uDDF2\uD83C\uDDFD"},{code:"AR",name:"阿根廷",dialCode:"+54",flag:"\uD83C\uDDE6\uD83C\uDDF7"},{code:"CL",name:"智利",dialCode:"+56",flag:"\uD83C\uDDE8\uD83C\uDDF1"},{code:"CO",name:"哥伦比亚",dialCode:"+57",flag:"\uD83C\uDDE8\uD83C\uDDF4"},{code:"PE",name:"秘鲁",dialCode:"+51",flag:"\uD83C\uDDF5\uD83C\uDDEA"},{code:"VE",name:"委内瑞拉",dialCode:"+58",flag:"\uD83C\uDDFB\uD83C\uDDEA"},{code:"UY",name:"乌拉圭",dialCode:"+598",flag:"\uD83C\uDDFA\uD83C\uDDFE"},{code:"PY",name:"巴拉圭",dialCode:"+595",flag:"\uD83C\uDDF5\uD83C\uDDFE"},{code:"BO",name:"玻利维亚",dialCode:"+591",flag:"\uD83C\uDDE7\uD83C\uDDF4"},{code:"EC",name:"厄瓜多尔",dialCode:"+593",flag:"\uD83C\uDDEA\uD83C\uDDE8"},{code:"GY",name:"圭亚那",dialCode:"+592",flag:"\uD83C\uDDEC\uD83C\uDDFE"},{code:"SR",name:"苏里南",dialCode:"+597",flag:"\uD83C\uDDF8\uD83C\uDDF7"},{code:"ZA",name:"南非",dialCode:"+27",flag:"\uD83C\uDDFF\uD83C\uDDE6"},{code:"EG",name:"埃及",dialCode:"+20",flag:"\uD83C\uDDEA\uD83C\uDDEC"},{code:"NG",name:"尼日利亚",dialCode:"+234",flag:"\uD83C\uDDF3\uD83C\uDDEC"},{code:"KE",name:"肯尼亚",dialCode:"+254",flag:"\uD83C\uDDF0\uD83C\uDDEA"},{code:"GH",name:"加纳",dialCode:"+233",flag:"\uD83C\uDDEC\uD83C\uDDED"},{code:"ET",name:"埃塞俄比亚",dialCode:"+251",flag:"\uD83C\uDDEA\uD83C\uDDF9"},{code:"TZ",name:"坦桑尼亚",dialCode:"+255",flag:"\uD83C\uDDF9\uD83C\uDDFF"},{code:"UG",name:"乌干达",dialCode:"+256",flag:"\uD83C\uDDFA\uD83C\uDDEC"},{code:"DZ",name:"阿尔及利亚",dialCode:"+213",flag:"\uD83C\uDDE9\uD83C\uDDFF"},{code:"MA",name:"摩洛哥",dialCode:"+212",flag:"\uD83C\uDDF2\uD83C\uDDE6"},{code:"TN",name:"突尼斯",dialCode:"+216",flag:"\uD83C\uDDF9\uD83C\uDDF3"},{code:"LY",name:"利比亚",dialCode:"+218",flag:"\uD83C\uDDF1\uD83C\uDDFE"},{code:"SD",name:"苏丹",dialCode:"+249",flag:"\uD83C\uDDF8\uD83C\uDDE9"},{code:"SS",name:"南苏丹",dialCode:"+211",flag:"\uD83C\uDDF8\uD83C\uDDF8"},{code:"CM",name:"喀麦隆",dialCode:"+237",flag:"\uD83C\uDDE8\uD83C\uDDF2"},{code:"CI",name:"科特迪瓦",dialCode:"+225",flag:"\uD83C\uDDE8\uD83C\uDDEE"},{code:"SN",name:"塞内加尔",dialCode:"+221",flag:"\uD83C\uDDF8\uD83C\uDDF3"},{code:"ML",name:"马里",dialCode:"+223",flag:"\uD83C\uDDF2\uD83C\uDDF1"},{code:"BF",name:"布基纳法索",dialCode:"+226",flag:"\uD83C\uDDE7\uD83C\uDDEB"},{code:"NE",name:"尼日尔",dialCode:"+227",flag:"\uD83C\uDDF3\uD83C\uDDEA"},{code:"TD",name:"乍得",dialCode:"+235",flag:"\uD83C\uDDF9\uD83C\uDDE9"},{code:"CF",name:"中非共和国",dialCode:"+236",flag:"\uD83C\uDDE8\uD83C\uDDEB"},{code:"CG",name:"刚果共和国",dialCode:"+242",flag:"\uD83C\uDDE8\uD83C\uDDEC"},{code:"CD",name:"刚果民主共和国",dialCode:"+243",flag:"\uD83C\uDDE8\uD83C\uDDE9"},{code:"GA",name:"加蓬",dialCode:"+241",flag:"\uD83C\uDDEC\uD83C\uDDE6"},{code:"GQ",name:"赤道几内亚",dialCode:"+240",flag:"\uD83C\uDDEC\uD83C\uDDF6"},{code:"ST",name:"圣多美和普林西比",dialCode:"+239",flag:"\uD83C\uDDF8\uD83C\uDDF9"},{code:"AO",name:"安哥拉",dialCode:"+244",flag:"\uD83C\uDDE6\uD83C\uDDF4"},{code:"ZM",name:"赞比亚",dialCode:"+260",flag:"\uD83C\uDDFF\uD83C\uDDF2"},{code:"ZW",name:"津巴布韦",dialCode:"+263",flag:"\uD83C\uDDFF\uD83C\uDDFC"},{code:"BW",name:"博茨瓦纳",dialCode:"+267",flag:"\uD83C\uDDE7\uD83C\uDDFC"},{code:"NA",name:"纳米比亚",dialCode:"+264",flag:"\uD83C\uDDF3\uD83C\uDDE6"},{code:"SZ",name:"斯威士兰",dialCode:"+268",flag:"\uD83C\uDDF8\uD83C\uDDFF"},{code:"LS",name:"莱索托",dialCode:"+266",flag:"\uD83C\uDDF1\uD83C\uDDF8"},{code:"MG",name:"马达加斯加",dialCode:"+261",flag:"\uD83C\uDDF2\uD83C\uDDEC"},{code:"MU",name:"毛里求斯",dialCode:"+230",flag:"\uD83C\uDDF2\uD83C\uDDFA"},{code:"SC",name:"塞舌尔",dialCode:"+248",flag:"\uD83C\uDDF8\uD83C\uDDE8"},{code:"KM",name:"科摩罗",dialCode:"+269",flag:"\uD83C\uDDF0\uD83C\uDDF2"},{code:"DJ",name:"吉布提",dialCode:"+253",flag:"\uD83C\uDDE9\uD83C\uDDEF"},{code:"SO",name:"索马里",dialCode:"+252",flag:"\uD83C\uDDF8\uD83C\uDDF4"},{code:"ER",name:"厄立特里亚",dialCode:"+291",flag:"\uD83C\uDDEA\uD83C\uDDF7"},{code:"RW",name:"卢旺达",dialCode:"+250",flag:"\uD83C\uDDF7\uD83C\uDDFC"},{code:"BI",name:"布隆迪",dialCode:"+257",flag:"\uD83C\uDDE7\uD83C\uDDEE"},{code:"MW",name:"马拉维",dialCode:"+265",flag:"\uD83C\uDDF2\uD83C\uDDFC"},{code:"MZ",name:"莫桑比克",dialCode:"+258",flag:"\uD83C\uDDF2\uD83C\uDDFF"},{code:"RE",name:"留尼汪",dialCode:"+262",flag:"\uD83C\uDDF7\uD83C\uDDEA"},{code:"YT",name:"马约特",dialCode:"+262",flag:"\uD83C\uDDFE\uD83C\uDDF9"},{code:"SH",name:"圣赫勒拿",dialCode:"+290",flag:"\uD83C\uDDF8\uD83C\uDDED"},{code:"FK",name:"福克兰群岛",dialCode:"+500",flag:"\uD83C\uDDEB\uD83C\uDDF0"},{code:"GS",name:"南乔治亚和南桑威奇群岛",dialCode:"+500",flag:"\uD83C\uDDEC\uD83C\uDDF8"},{code:"IO",name:"英属印度洋领地",dialCode:"+246",flag:"\uD83C\uDDEE\uD83C\uDDF4"},{code:"TF",name:"法属南部领地",dialCode:"+262",flag:"\uD83C\uDDF9\uD83C\uDDEB"},{code:"AQ",name:"南极洲",dialCode:"+672",flag:"\uD83C\uDDE6\uD83C\uDDF6"},{code:"BV",name:"布韦岛",dialCode:"+47",flag:"\uD83C\uDDE7\uD83C\uDDFB"},{code:"HM",name:"赫德岛和麦克唐纳群岛",dialCode:"+672",flag:"\uD83C\uDDED\uD83C\uDDF2"},{code:"NF",name:"诺福克岛",dialCode:"+672",flag:"\uD83C\uDDF3\uD83C\uDDEB"},{code:"CX",name:"圣诞岛",dialCode:"+61",flag:"\uD83C\uDDE8\uD83C\uDDFD"},{code:"CC",name:"科科斯群岛",dialCode:"+61",flag:"\uD83C\uDDE8\uD83C\uDDE8"},{code:"CK",name:"库克群岛",dialCode:"+682",flag:"\uD83C\uDDE8\uD83C\uDDF0"},{code:"NU",name:"纽埃",dialCode:"+683",flag:"\uD83C\uDDF3\uD83C\uDDFA"},{code:"TK",name:"托克劳",dialCode:"+690",flag:"\uD83C\uDDF9\uD83C\uDDF0"},{code:"TO",name:"汤加",dialCode:"+676",flag:"\uD83C\uDDF9\uD83C\uDDF4"},{code:"WS",name:"萨摩亚",dialCode:"+685",flag:"\uD83C\uDDFC\uD83C\uDDF8"},{code:"TV",name:"图瓦卢",dialCode:"+688",flag:"\uD83C\uDDF9\uD83C\uDDFB"},{code:"NR",name:"瑙鲁",dialCode:"+674",flag:"\uD83C\uDDF3\uD83C\uDDF7"},{code:"KI",name:"基里巴斯",dialCode:"+686",flag:"\uD83C\uDDF0\uD83C\uDDEE"},{code:"VU",name:"瓦努阿图",dialCode:"+678",flag:"\uD83C\uDDFB\uD83C\uDDFA"},{code:"NC",name:"新喀里多尼亚",dialCode:"+687",flag:"\uD83C\uDDF3\uD83C\uDDE8"},{code:"PF",name:"法属波利尼西亚",dialCode:"+689",flag:"\uD83C\uDDF5\uD83C\uDDEB"},{code:"WF",name:"瓦利斯和富图纳",dialCode:"+681",flag:"\uD83C\uDDFC\uD83C\uDDEB"},{code:"AS",name:"美属萨摩亚",dialCode:"+1",flag:"\uD83C\uDDE6\uD83C\uDDF8"},{code:"GU",name:"关岛",dialCode:"+1",flag:"\uD83C\uDDEC\uD83C\uDDFA"},{code:"MP",name:"北马里亚纳群岛",dialCode:"+1",flag:"\uD83C\uDDF2\uD83C\uDDF5"},{code:"PW",name:"帕劳",dialCode:"+680",flag:"\uD83C\uDDF5\uD83C\uDDFC"},{code:"FM",name:"密克罗尼西亚联邦",dialCode:"+691",flag:"\uD83C\uDDEB\uD83C\uDDF2"},{code:"MH",name:"马绍尔群岛",dialCode:"+692",flag:"\uD83C\uDDF2\uD83C\uDDED"},{code:"SB",name:"所罗门群岛",dialCode:"+677",flag:"\uD83C\uDDF8\uD83C\uDDE7"},{code:"PG",name:"巴布亚新几内亚",dialCode:"+675",flag:"\uD83C\uDDF5\uD83C\uDDEC"},{code:"FJ",name:"斐济",dialCode:"+679",flag:"\uD83C\uDDEB\uD83C\uDDEF"},{code:"ID",name:"印度尼西亚",dialCode:"+62",flag:"\uD83C\uDDEE\uD83C\uDDE9"},{code:"MY",name:"马来西亚",dialCode:"+60",flag:"\uD83C\uDDF2\uD83C\uDDFE"},{code:"TH",name:"泰国",dialCode:"+66",flag:"\uD83C\uDDF9\uD83C\uDDED"},{code:"VN",name:"越南",dialCode:"+84",flag:"\uD83C\uDDFB\uD83C\uDDF3"},{code:"LA",name:"老挝",dialCode:"+856",flag:"\uD83C\uDDF1\uD83C\uDDE6"},{code:"KH",name:"柬埔寨",dialCode:"+855",flag:"\uD83C\uDDF0\uD83C\uDDED"},{code:"MM",name:"缅甸",dialCode:"+95",flag:"\uD83C\uDDF2\uD83C\uDDF2"},{code:"BD",name:"孟加拉国",dialCode:"+880",flag:"\uD83C\uDDE7\uD83C\uDDE9"},{code:"LK",name:"斯里兰卡",dialCode:"+94",flag:"\uD83C\uDDF1\uD83C\uDDF0"},{code:"MV",name:"马尔代夫",dialCode:"+960",flag:"\uD83C\uDDF2\uD83C\uDDFB"},{code:"NP",name:"尼泊尔",dialCode:"+977",flag:"\uD83C\uDDF3\uD83C\uDDF5"},{code:"BT",name:"不丹",dialCode:"+975",flag:"\uD83C\uDDE7\uD83C\uDDF9"},{code:"PK",name:"巴基斯坦",dialCode:"+92",flag:"\uD83C\uDDF5\uD83C\uDDF0"},{code:"AF",name:"阿富汗",dialCode:"+93",flag:"\uD83C\uDDE6\uD83C\uDDEB"},{code:"IR",name:"伊朗",dialCode:"+98",flag:"\uD83C\uDDEE\uD83C\uDDF7"},{code:"IQ",name:"伊拉克",dialCode:"+964",flag:"\uD83C\uDDEE\uD83C\uDDF6"},{code:"SY",name:"叙利亚",dialCode:"+963",flag:"\uD83C\uDDF8\uD83C\uDDFE"},{code:"LB",name:"黎巴嫩",dialCode:"+961",flag:"\uD83C\uDDF1\uD83C\uDDE7"},{code:"JO",name:"约旦",dialCode:"+962",flag:"\uD83C\uDDEF\uD83C\uDDF4"},{code:"IL",name:"以色列",dialCode:"+972",flag:"\uD83C\uDDEE\uD83C\uDDF1"},{code:"PS",name:"巴勒斯坦",dialCode:"+970",flag:"\uD83C\uDDF5\uD83C\uDDF8"},{code:"SA",name:"沙特阿拉伯",dialCode:"+966",flag:"\uD83C\uDDF8\uD83C\uDDE6"},{code:"YE",name:"也门",dialCode:"+967",flag:"\uD83C\uDDFE\uD83C\uDDEA"},{code:"OM",name:"阿曼",dialCode:"+968",flag:"\uD83C\uDDF4\uD83C\uDDF2"},{code:"AE",name:"阿联酋",dialCode:"+971",flag:"\uD83C\uDDE6\uD83C\uDDEA"},{code:"QA",name:"卡塔尔",dialCode:"+974",flag:"\uD83C\uDDF6\uD83C\uDDE6"},{code:"KW",name:"科威特",dialCode:"+965",flag:"\uD83C\uDDF0\uD83C\uDDFC"},{code:"BH",name:"巴林",dialCode:"+973",flag:"\uD83C\uDDE7\uD83C\uDDED"},{code:"TR",name:"土耳其",dialCode:"+90",flag:"\uD83C\uDDF9\uD83C\uDDF7"},{code:"GE",name:"格鲁吉亚",dialCode:"+995",flag:"\uD83C\uDDEC\uD83C\uDDEA"},{code:"AM",name:"亚美尼亚",dialCode:"+374",flag:"\uD83C\uDDE6\uD83C\uDDF2"},{code:"AZ",name:"阿塞拜疆",dialCode:"+994",flag:"\uD83C\uDDE6\uD83C\uDDFF"},{code:"KZ",name:"哈萨克斯坦",dialCode:"+7",flag:"\uD83C\uDDF0\uD83C\uDDFF"},{code:"UZ",name:"乌兹别克斯坦",dialCode:"+998",flag:"\uD83C\uDDFA\uD83C\uDDFF"},{code:"KG",name:"吉尔吉斯斯坦",dialCode:"+996",flag:"\uD83C\uDDF0\uD83C\uDDEC"},{code:"TJ",name:"塔吉克斯坦",dialCode:"+992",flag:"\uD83C\uDDF9\uD83C\uDDEF"},{code:"TM",name:"土库曼斯坦",dialCode:"+993",flag:"\uD83C\uDDF9\uD83C\uDDF2"},{code:"MN",name:"蒙古",dialCode:"+976",flag:"\uD83C\uDDF2\uD83C\uDDF3"},{code:"KP",name:"朝鲜",dialCode:"+850",flag:"\uD83C\uDDF0\uD83C\uDDF5"},{code:"PH",name:"菲律宾",dialCode:"+63",flag:"\uD83C\uDDF5\uD83C\uDDED"},{code:"BN",name:"文莱",dialCode:"+673",flag:"\uD83C\uDDE7\uD83C\uDDF3"},{code:"TL",name:"东帝汶",dialCode:"+670",flag:"\uD83C\uDDF9\uD83C\uDDF1"},{code:"MO",name:"澳门",dialCode:"+853",flag:"\uD83C\uDDF2\uD83C\uDDF4"}];function ai(e){let{value:l="",onChange:a,placeholder:s="请输入手机号"}=e,[n,r]=(0,t.useState)(!1),[d,c]=(0,t.useState)(""),[o,u]=(0,t.useState)(aa[0]),[v,b]=(0,t.useState)("");(0,t.useEffect)(()=>{if(l){let e=aa.find(e=>l.startsWith(e.dialCode));e?(u(e),b(l.substring(e.dialCode.length))):b(l)}},[l]);let m=aa.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.dialCode.includes(d)||e.code.toLowerCase().includes(d.toLowerCase()));return(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(lu.AM,{open:n,onOpenChange:r,children:[(0,i.jsx)(lu.Wv,{asChild:!0,children:(0,i.jsxs)(q.$,{variant:"outline",className:"w-auto min-w-[120px] justify-between bg-white/70 px-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-lg",children:o.flag}),(0,i.jsx)("span",{className:"text-sm font-medium",children:o.dialCode})]}),(0,i.jsx)(lv.A,{className:"ml-2 h-4 w-4 opacity-70"})]})}),(0,i.jsxs)(lu.hl,{align:"start",className:"w-[400px] p-0 overflow-hidden bg-white/80 backdrop-blur border-white/60 rounded-2xl",children:[(0,i.jsx)("div",{className:"p-3 border-b border-white/60",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(lN.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,i.jsx)(ex.p,{placeholder:"搜索国家...",value:d,onChange:e=>c(e.target.value),className:"pl-10 bg-white/50 border-white/60"})]})}),(0,i.jsx)(e5.F,{className:"h-72",children:(0,i.jsxs)("ul",{className:"py-1",children:[0===m.length&&(0,i.jsx)("li",{className:"px-3 py-2 text-sm text-muted-foreground text-center",children:"未找到匹配的国家"}),m.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-white/80 "+(o.code===e.code?"bg-sky-50":""),onClick:()=>{u(e),r(!1),c(""),a(v?"".concat(e.dialCode).concat(v):"")},children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-lg",children:e.flag}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:o.code===e.code?"text-sky-600 font-medium":"",children:e.name}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:e.dialCode})]})]}),o.code===e.code&&(0,i.jsx)(lb.A,{className:"h-4 w-4 text-sky-600"})]})},e.code))]})})]})]}),(0,i.jsx)(ex.p,{type:"tel",className:"flex-1 bg-white/70",value:v,onChange:e=>{var l;b(l=e.target.value),a(l?"".concat(o.dialCode).concat(l):"")},placeholder:s})]})}var at=a(97136);function as(e){let{className:l,defaultValue:a,value:s,min:n=0,max:r=100,...d}=e,c=t.useMemo(()=>Array.isArray(s)?s:Array.isArray(a)?a:[n,r],[s,a,n,r]);return(0,i.jsxs)(at.bL,{"data-slot":"slider",defaultValue:a,value:s,min:n,max:r,className:(0,o.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",l),...d,children:[(0,i.jsx)(at.CC,{"data-slot":"slider-track",className:(0,o.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,i.jsx)(at.Q6,{"data-slot":"slider-range",className:(0,o.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,l)=>(0,i.jsx)(at.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}function an(e){return!Number.isFinite(e)||e<0?0:e>100?100:Math.round(e)}function ar(e){let{items:l,onChange:a,aggregation:s="weightedAverage",showProgressBar:n=!0,showPercentage:r=!0,helpEnabled:d,helpText:c}=e,o=(0,t.useMemo)(()=>(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weightedAverage";if(!Array.isArray(e)||0===e.length)return 0;if("max"===l)return an(Math.max(...e.map(e=>e.value||0)));if("min"===l)return an(Math.min(...e.map(e=>e.value||0)));let a=e.map(e=>{var l;return{v:Number(e.value||0),w:Number(null!==(l=e.weight)&&void 0!==l?l:1)}}),i=a.reduce((e,l)=>e+(Number.isFinite(l.w)?l.w:0),0)||1;return an(a.reduce((e,l)=>e+(Number.isFinite(l.v)?l.v:0)*(Number.isFinite(l.w)?l.w:0),0)/i)})(l,s),[l,s]);return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Aggregated: ",o,"%"]}),(0,i.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)(ex.p,{className:"col-span-5 bg-white",value:e.label,onChange:i=>{let s=[...l];s[t]={...e,label:i.target.value,key:i.target.value||e.key},a(s)},placeholder:"名称"}),(0,i.jsxs)("div",{className:"col-span-5 flex items-center gap-2",children:[(0,i.jsx)(as,{value:[an(e.value)],onValueChange:i=>{let s=[...l];s[t]={...e,value:an(i[0]||0)},a(s)},max:100,step:1,className:"flex-1"}),(0,i.jsx)(ex.p,{type:"number",className:"w-16 bg-white",value:e.value,onChange:i=>{let s=[...l];s[t]={...e,value:an(Number(i.target.value||0))},a(s)}})]}),(0,i.jsx)(q.$,{type:"button",variant:"ghost",className:"col-span-2 text-red-600",onClick:()=>{let e=[...l];e.splice(t,1),a(e)},children:"删除"})]},e.id||t))}),(0,i.jsx)("div",{children:(0,i.jsx)(q.$,{type:"button",variant:"outline",onClick:()=>{a([...l,{id:Math.random().toString(36).slice(2),key:"p".concat(l.length+1),label:"子进度 ".concat(l.length+1),value:0}])},children:"新增子进度"})}),d&&(0,i.jsx)("div",{className:"text-xs text-gray-500 pt-1",children:c||""})]})}function ad(e){let{items:l,onChange:a,schema:t=[],helpEnabled:s,helpText:n,allowAddInForm:r=!0}=e,d=t&&t.length>0?t:(()=>{var e,a,i,t,s;let n=[],r=null==l?void 0:l[0];return(null==r?void 0:null===(e=r.texts)||void 0===e?void 0:e.length)&&r.texts.forEach(e=>n.push({id:e.fieldId||e.id,type:"text",label:e.label})),(null==r?void 0:null===(a=r.numbers)||void 0===a?void 0:a.length)&&r.numbers.forEach(e=>n.push({id:e.fieldId||e.id,type:"number",label:e.label,unit:e.unit})),(null==r?void 0:null===(i=r.images)||void 0===i?void 0:i.length)&&r.images.forEach(e=>n.push({id:e.fieldId||e.id,type:"image",label:e.label})),(null==r?void 0:null===(t=r.selects)||void 0===t?void 0:t.length)&&r.selects.forEach(e=>n.push({id:e.fieldId||e.id,type:"select",label:e.label,options:[]})),(null==r?void 0:null===(s=r.multiselects)||void 0===s?void 0:s.length)&&r.multiselects.forEach(e=>n.push({id:e.fieldId||e.id,type:"multiselect",label:e.label,options:[]})),n})(),c=(e,i)=>{let t=[...l];t[e]={...t[e],...i},a(t)},o=e=>{let i=[...l];i.splice(e,1),a(i)};return(0,i.jsxs)("div",{className:"space-y-2",children:[l.map((e,t)=>(0,i.jsxs)("div",{className:"space-y-2 border border-white/60 rounded-md p-2 bg-white/60",children:[(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)(ex.p,{className:"col-span-12 bg-white",value:e.label,onChange:e=>c(t,{label:e.target.value}),placeholder:"子项名称"}),(0,i.jsx)("div",{className:"col-span-12 flex items-center gap-2 justify-end",children:r&&(0,i.jsx)(q.$,{type:"button",variant:"ghost",className:"text-red-600",onClick:()=>o(t),children:"删除子项"})})]}),d.filter(e=>"text"===e.type).map(s=>{let n=(e.texts||[]).find(e=>e.fieldId===s.id)||{id:s.id,fieldId:s.id,label:s.label,value:""};return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)("div",{className:"col-span-12 text-xs text-gray-600",children:s.label}),(0,i.jsx)(ex.p,{className:"col-span-12 bg-white",value:n.value,onChange:e=>{let i=[...l],n=i[t].texts||[],r=n.findIndex(e=>e.fieldId===s.id);r>=0?n[r]={...n[r],value:e.target.value}:(i[t].texts||(i[t].texts=[]),i[t].texts.push({id:s.id,fieldId:s.id,label:s.label,value:e.target.value})),a(i)},placeholder:"文本内容"})]},s.id)}),d.filter(e=>"number"===e.type).map(s=>{let n=(e.numbers||[]).find(e=>e.fieldId===s.id)||{id:s.id,fieldId:s.id,label:s.label,value:0,unit:s.unit};return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsxs)("div",{className:"col-span-12 text-xs text-gray-600",children:[s.label,s.unit?"（".concat(s.unit,"）"):""]}),(0,i.jsx)(ex.p,{type:"number",className:"col-span-12 bg-white",value:n.value,onChange:e=>{let i=[...l],n=i[t].numbers||[],r=n.findIndex(e=>e.fieldId===s.id),d=""===e.target.value?0:Number(e.target.value);r>=0?n[r]={...n[r],value:d}:(i[t].numbers||(i[t].numbers=[]),i[t].numbers.push({id:s.id,fieldId:s.id,label:s.label,value:d,unit:s.unit})),a(i)},placeholder:"0"})]},s.id)}),d.filter(e=>"image"===e.type).map(s=>{let n=(e.images||[]).find(e=>e.fieldId===s.id)||{id:s.id,fieldId:s.id,label:s.label,url:""};return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)("div",{className:"col-span-12 text-xs text-gray-600",children:s.label}),(0,i.jsx)(ex.p,{className:"col-span-12 bg-white",value:n.url,onChange:e=>{let i=[...l],n=i[t].images||[],r=n.findIndex(e=>e.fieldId===s.id);r>=0?n[r]={...n[r],url:e.target.value}:(i[t].images||(i[t].images=[]),i[t].images.push({id:s.id,fieldId:s.id,label:s.label,url:e.target.value})),a(i)},placeholder:"图片URL"})]},s.id)}),d.filter(e=>"select"===e.type).map(s=>{let n=(e.selects||[]).find(e=>e.fieldId===s.id)||{id:s.id,fieldId:s.id,label:s.label,value:""};return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,i.jsx)("div",{className:"col-span-12 text-xs text-gray-600",children:s.label}),(0,i.jsxs)("select",{className:"col-span-12 h-9 rounded border bg-white px-2",value:n.value,onChange:e=>{let i=[...l],n=i[t].selects||[],r=n.findIndex(e=>e.fieldId===s.id);r>=0?n[r]={...n[r],value:e.target.value}:(i[t].selects||(i[t].selects=[]),i[t].selects.push({id:s.id,fieldId:s.id,label:s.label,value:e.target.value})),a(i)},children:[(0,i.jsx)("option",{value:"",children:"请选择"}),(s.options||[]).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]},s.id)}),d.filter(e=>"multiselect"===e.type).map(s=>{let n=new Set(((e.multiselects||[]).find(e=>e.fieldId===s.id)||{id:s.id,fieldId:s.id,label:s.label,value:[]}).value),r=e=>{let i=[...l],r=i[t].multiselects||[],d=r.findIndex(e=>e.fieldId===s.id),c=new Set(n);c.has(e)?c.delete(e):c.add(e);let o=Array.from(c);d>=0?r[d]={...r[d],value:o}:(i[t].multiselects||(i[t].multiselects=[]),i[t].multiselects.push({id:s.id,fieldId:s.id,label:s.label,value:o})),a(i)};return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-start",children:[(0,i.jsx)("div",{className:"col-span-12 text-xs text-gray-600 pt-2",children:s.label}),(0,i.jsx)("div",{className:"col-span-12 flex flex-wrap gap-1",children:(s.options||[]).map(e=>(0,i.jsx)("button",{type:"button",className:"text-xs px-2 py-1 rounded border ".concat(n.has(e)?"bg-blue-600 text-white border-blue-600":"bg-white"),onClick:()=>r(e),children:e},e))})]},s.id)})]},e.id||t)),r&&(0,i.jsx)("div",{children:(0,i.jsx)(q.$,{type:"button",variant:"outline",onClick:()=>{a([...l||[],{id:Math.random().toString(36).slice(2),label:"项 ".concat(l.length+1),texts:[],numbers:[],images:[]}])},children:"新增项"})}),s&&(0,i.jsx)("div",{className:"text-xs text-gray-500 pt-1",children:n||""})]})}function ac(e,l,a,t){var s,n,r,d,c,o,u,v,b,m,h,x,g,p,f,j,y,N,C,w,k,z,S,A,I,_,D,M,F;let E=l[e.key];if(e.preset)switch(e.preset){case"user_select":return(0,i.jsx)(lM,{app:t,value:E,onChange:a,isMulti:"relation_many"===e.type});case"city":return(0,i.jsx)(lg,{value:E||"",onChange:a});case"country":return(0,i.jsx)(lp.b,{value:E||"",onChange:a});case"rating":return(0,i.jsx)(lf,{value:E||0,onChange:a});case"currency":return(0,i.jsx)(lj,{value:E,onChange:a});case"constellation":return(0,i.jsx)(lK,{value:E||"",onChange:a});case"progress":if(!Array.isArray(E)){let l=(null===(o=e.progressConfig)||void 0===o?void 0:o.defaultItems)||[],t=l.length>0?l.map((l,a)=>{var i;return{id:"".concat(e.id,"-").concat(a),key:l.key||"p".concat(a+1),label:l.label||"Item ".concat(a+1),status:l.status,weight:null!==(i=l.weight)&&void 0!==i?i:1,value:Number(E||0)}}):[{id:"".concat(e.id,"-0"),key:"progress",label:"Progress",status:"planned",weight:1,value:Number(E||0)}];return(0,i.jsx)(ar,{items:t,onChange:e=>a(e),aggregation:(null===(u=e.progressConfig)||void 0===u?void 0:u.aggregation)||"weightedAverage",showProgressBar:(null===(v=e.progressConfig)||void 0===v?void 0:v.showProgressBar)!==!1,showPercentage:(null===(b=e.progressConfig)||void 0===b?void 0:b.showPercentage)!==!1,helpEnabled:null===(m=e.progressConfig)||void 0===m?void 0:m.showHelp,helpText:null===(h=e.progressConfig)||void 0===h?void 0:h.helpText})}return(0,i.jsx)(ar,{items:E,onChange:e=>a(e),aggregation:(null===(s=e.progressConfig)||void 0===s?void 0:s.aggregation)||"weightedAverage",showProgressBar:(null===(n=e.progressConfig)||void 0===n?void 0:n.showProgressBar)!==!1,showPercentage:(null===(r=e.progressConfig)||void 0===r?void 0:r.showPercentage)!==!1,helpEnabled:null===(d=e.progressConfig)||void 0===d?void 0:d.showHelp,helpText:null===(c=e.progressConfig)||void 0===c?void 0:c.helpText});case"phone":return(0,i.jsx)(ai,{value:E||"",onChange:a,placeholder:"请输入手机号"});case"email":return(0,i.jsx)(ex.p,{type:"email",className:"bg-white",value:E||"",onChange:e=>a(e.target.value),placeholder:"请输入邮箱"});case"url":return(0,i.jsx)(ex.p,{type:"url",className:"bg-white",value:E||"",onChange:e=>a(e.target.value),placeholder:"https://example.com"});case"map":return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(ex.p,{className:"bg-white",value:E||"",onChange:e=>a(e.target.value),placeholder:"请输入地址或坐标"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"支持地址搜索或经纬度坐标（如：39.9042, 116.4074）"})]});case"skills":return(0,i.jsx)(lH,{value:E||[],onChange:a,allowedCategories:null===(x=e.skillsConfig)||void 0===x?void 0:x.allowedCategories,maxSkills:null===(g=e.skillsConfig)||void 0===g?void 0:g.maxSkills,showLevel:null===(p=e.skillsConfig)||void 0===p?void 0:p.showLevel,customCategories:null===(f=e.skillsConfig)||void 0===f?void 0:f.customCategories,customSkills:null===(j=e.skillsConfig)||void 0===j?void 0:j.customSkills});case"identity_verification":return(0,i.jsx)(lJ,{value:E||{},onChange:a,config:e.identityVerificationConfig});case"other_verification":return(0,i.jsx)(lW,{value:E||{},onChange:a,config:e.otherVerificationConfig});case"work_experience":case"education_experience":case"certificate_experience":case"custom_experience":return(0,i.jsx)(lB,{value:E||[],onChange:a,className:"bg-white rounded-md p-2",field:e})}switch(e.type){case"richtext":case"textarea":return(0,i.jsx)(eK.T,{className:"bg-white",rows:3,value:E||"",onChange:e=>a(e.target.value)});case"number":return(0,i.jsx)(ex.p,{type:"number",className:"bg-white",value:null!=E?E:"",onChange:e=>a(""===e.target.value?null:Number(e.target.value))});case"percent":return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(ex.p,{type:"number",min:0,max:100,step:1,className:"bg-white",value:null!=E?E:"",onChange:e=>{a(""===e.target.value?null:Math.max(0,Math.min(100,Number(e.target.value))))}}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"%"})]});case"checkbox":case"boolean":return(0,i.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,i.jsx)(ep.d,{id:"switch-".concat(e.id),checked:!!E,onCheckedChange:a}),(0,i.jsx)(eH.J,{htmlFor:"switch-".concat(e.id),children:E?e.trueLabel||"是":e.falseLabel||"否"})]});case"select":return(0,i.jsxs)(eg.l6,{value:E||"",onValueChange:e=>a(e),children:[(0,i.jsx)(eg.bq,{className:"bg-white",children:(0,i.jsx)(eg.yv,{placeholder:"请选择..."})}),(0,i.jsx)(eg.gC,{children:(e.options||[]).map(e=>(0,i.jsx)(eg.eb,{value:e,children:e},e))})]});case"multiselect":return(0,i.jsx)(l5,{field:e,value:E,onChange:a});case"tags":return(0,i.jsx)(l6,{value:E,onChange:a});case"date":return(0,i.jsx)(l3,{field:e,value:E,onChange:a});case"datetime":return(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(ex.p,{type:"date",className:"bg-white flex-1",value:E?new Date(E).toISOString().split("T")[0]:"",onChange:e=>{let l=e.target.value,i=E?new Date(E).toTimeString().slice(0,5):"00:00";a(new Date("".concat(l,"T").concat(i)).toISOString())}}),(0,i.jsx)(ex.p,{type:"time",className:"bg-white flex-1",value:E?new Date(E).toTimeString().slice(0,5):"",onChange:e=>{let l=e.target.value,i=E?new Date(E).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];a(new Date("".concat(i,"T").concat(l)).toISOString())}})]});case"daterange":return(0,i.jsx)(l3,{field:{...e,dateMode:"range"},value:E,onChange:a});case"multidate":return(0,i.jsx)(l3,{field:{...e,dateMode:"multiple"},value:E,onChange:a});case"time":return(0,i.jsx)(l4,{value:E,onChange:a});case"file":return(0,i.jsx)(l0,{value:E,onChange:a,accept:e.accept||"*/*"});case"image":return(0,i.jsx)(lY,{value:E,onChange:a,multiple:(null===(y=e.imageConfig)||void 0===y?void 0:y.multiple)||!1,defaultImage:(null===(N=e.imageConfig)||void 0===N?void 0:N.defaultImage)||""});case"profile":return(0,i.jsx)(lG.G,{value:E,onChange:a,multiple:(null===(C=e.imageConfig)||void 0===C?void 0:C.multiple)||!1,defaultImage:(null===(w=e.imageConfig)||void 0===w?void 0:w.defaultImage)||"",size:"md"});case"multiimage":return(0,i.jsx)(lY,{value:E,onChange:a,multiple:!0,defaultImage:(null===(k=e.imageConfig)||void 0===k?void 0:k.defaultImage)||""});case"video":return(0,i.jsx)(lZ,{value:E,onChange:a,multiple:(null===(z=e.videoConfig)||void 0===z?void 0:z.multiple)||!1,defaultVideo:(null===(S=e.videoConfig)||void 0===S?void 0:S.defaultVideo)||""});case"meta_items":return(0,i.jsx)(ad,{items:E||[],onChange:a,schema:(null===(A=e.metaItemsConfig)||void 0===A?void 0:A.fields)||[],helpEnabled:null===(I=e.metaItemsConfig)||void 0===I?void 0:I.showHelp,helpText:null===(_=e.metaItemsConfig)||void 0===_?void 0:_.helpText,allowAddInForm:(null===(D=e.metaItemsConfig)||void 0===D?void 0:D.allowAddInForm)!==!1});case"multivideo":return(0,i.jsx)(lZ,{value:E,onChange:a,multiple:!0,defaultVideo:(null===(M=e.videoConfig)||void 0===M?void 0:M.defaultVideo)||""});case"identity_verification":return(0,i.jsx)(lJ,{value:E||{},onChange:a,config:e.identityVerificationConfig});case"other_verification":return(0,i.jsx)(lW,{value:E||{},onChange:a,config:e.otherVerificationConfig});case"barcode":default:return(0,i.jsx)(ex.p,{className:"bg-white",value:E||"",onChange:e=>a(e.target.value)});case"cascader":return console.log("\uD83D\uDD0D FormField - Cascader field:",e),console.log("\uD83D\uDD0D FormField - CascaderOptions:",e.cascaderOptions),console.log("\uD83D\uDD0D FormField - CascaderOptions length:",(null===(F=e.cascaderOptions)||void 0===F?void 0:F.length)||0),(0,i.jsx)(lh,{tree:e.cascaderOptions||[],value:E||"all",onChange:a,placeholder:"请选择...",clearText:"清除选择"});case"relation_one":case"relation_many":return(0,i.jsx)(al,{app:t,field:e,value:E,onChange:a,currentRecordId:l.id});case"experience":return(0,i.jsx)(lB,{value:E||[],onChange:a,className:"bg-white rounded-md p-2",field:e})}}function ao(e){let{field:l,record:a,app:t,onChange:s,showValidation:n=!1}=e,r=a[l.key],d=(()=>{if(!n||!l.required)return null;let e=null==r||"string"==typeof r&&""===r.trim()||Array.isArray(r)&&0===r.length||"object"==typeof r&&0===Object.keys(r).length;if("number"===l.type||"percent"===l.type){if(null==r||Number.isNaN(Number(r)))return"请输入有效的数字"}else if("boolean"===l.type||"checkbox"===l.type);else if(e)return"此字段为必填项";return null})();return"experience"===l.type?(0,i.jsxs)("div",{className:"space-y-2",children:[ac(l,a,s,t),d&&(0,i.jsx)("div",{className:"text-sm text-red-500",children:d})]}):(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:[l.label,l.required&&(0,i.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,i.jsx)("div",{className:d?"border-red-300 rounded-md":"",children:ac(l,a,s,t)}),d&&(0,i.jsx)("div",{className:"text-sm text-red-500",children:d}),l.desc&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:l.desc})]})}function au(e){var l,a,s;let{app:r,field:d,rec:o,onChange:u}=e,{locale:v}=(0,n.Y)(),b=null===(l=d.relation)||void 0===l?void 0:l.targetDirId,m=(0,c.zj)(r,b),h=o[d.key],x=Array.isArray(h)?h:[];console.log("RelationManyTab Debug:",{fieldKey:d.key,fieldType:d.type,targetDirId:b,targetDir:m?{id:m.id,name:m.name,recordsCount:null===(a=m.records)||void 0===a?void 0:a.length}:null,app:r?{id:r.id,modulesCount:null===(s=r.modules)||void 0===s?void 0:s.length}:null});let[g,p]=(0,t.useState)(!1),[f,j]=(0,t.useState)([]),[y,N]=(0,t.useState)(!1),C=e=>{let l=f.find(l=>l.id===e);return l||(null==m?void 0:m.records.find(l=>l.id===e))},w=x.map(e=>C(e)).filter(Boolean),k=async()=>{if(!b||y){console.log("RelationManyTab: Skipping record load",{targetDirId:b,recordsLoading:y});return}console.log("RelationManyTab: Loading records for targetDirId:",b),N(!0);try{let e=await eb.api.records.listRecords(actualDirId,{page:1,pageSize:100});if(console.log("RelationManyTab: API response:",e),e.success&&e.data){let l=Array.isArray(e.data)?e.data:[];j(l),console.log("RelationManyTab: Loaded records:",l.length)}else console.error("Failed to load target directory records:",e.error),j([])}catch(e){console.error("Error loading target directory records:",e),j([])}finally{N(!1)}};(0,t.useEffect)(()=>{b&&k()},[b]);let z=e=>{u(x.filter(l=>l!==e))},S=m?m.fields.filter(e=>e.enabled).slice(0,4):[],A=m?{...m,records:f}:null,I=(e,l,a)=>{let t=String(null!=l?l:"");if("tags"===e&&Array.isArray(l)&&l.length>0){let e=l.slice(0,2),a=l.length-e.length;return(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",title:l.join(", "),children:[e.map((e,l)=>(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full border border-white/60 bg-white/70 backdrop-blur shadow-sm",children:e},l)),a>0&&(0,i.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["+",a]})]})}if("select"===e&&"上架"===String(null!=l?l:""))return(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-emerald-100 text-emerald-700",children:l});if("boolean"===e||"checkbox"===e){let e=l?(null==a?void 0:a.trueLabel)||"是":(null==a?void 0:a.falseLabel)||"否";return(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full ".concat(l?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"),children:e})}if("date"===e||"time"===e)return(0,i.jsx)("div",{className:"truncate",title:t,children:t});if("image"===e&&l)return(0,i.jsx)("img",{src:"string"==typeof l?l:"/placeholder.svg?height=32&width=48&query=image-preview",alt:"封面",className:"h-8 w-12 object-cover rounded border border-white/60",crossOrigin:"anonymous"});if("file"===e)return l?(0,i.jsx)("div",{className:"text-xs truncate",title:t,children:t}):"";if("percent"===e){let e=Number(null!=l?l:0);return(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-blue-100 text-blue-700",children:Number.isFinite(e)?"".concat(e,"%"):""})}return(0,i.jsx)("div",{className:"truncate",title:t,children:t})};return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"zh"===v?"显示连标一些核心资料 最多不超过4":"Display linked core data, up to 4 items"}),w.length>0?(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full border-separate border-spacing-y-2 min-w-max",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[S.map(e=>(0,i.jsx)("th",{className:"text-left text-xs font-medium bg-white/60 backdrop-blur py-2 px-4 border border-white/60 first:rounded-l-xl last:rounded-r-xl min-w-[120px]",children:e.label},e.id)),(0,i.jsx)("th",{className:"text-left text-xs font-medium bg-white/60 backdrop-blur py-2 px-4 border border-white/60 rounded-xl sticky right-0 z-10 min-w-[120px]",children:"zh"===v?"操作":"Actions"})]})}),(0,i.jsx)("tbody",{children:w.map(e=>(0,i.jsxs)("tr",{className:"group",children:[S.map(l=>{let a=e[l.key];return(0,i.jsx)("td",{className:"bg-white/60 backdrop-blur border border-white/60 py-2 px-4 first:rounded-l-xl last:rounded-r-xl align-top text-sm min-w-[120px]",children:I(l.type,a,l)},l.id)}),(0,i.jsx)("td",{className:"bg-white/60 backdrop-blur border border-white/60 py-2 px-4 rounded-xl sticky right-0 z-10 align-top min-w-[120px]",children:(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(q.$,{variant:"destructive",size:"sm",onClick:()=>z(e.id),children:"zh"===v?"删除":"Delete"})})})]},e.id))})]})}):(0,i.jsx)("div",{className:"text-center text-sm text-muted-foreground py-10 border border-dashed rounded-xl",children:"zh"===v?"暂无关联记录":"No related records"}),(0,i.jsxs)(q.$,{variant:"outline",className:"w-full bg-white",onClick:()=>{var e;console.log("\uD83D\uDD0D RelationManyTab: Add button clicked",{fieldKey:d.key,targetDirId:b,targetDir:m?{id:m.id,name:m.name}:null,targetDirRecords:f.length,targetDirWithRecords:A?{id:A.id,name:A.name,recordsCount:null===(e=A.records)||void 0===e?void 0:e.length}:null,dialogOpen:g,recordsLoading:y}),p(!0)},children:[(0,i.jsx)(O.A,{className:"mr-2 size-4"}),"zh"===v?"添加表":"Add Record"]}),A?(0,i.jsx)(ae,{open:g,onOpenChange:p,targetDir:A,isMulti:!0,selectedIds:new Set(x),onSave:e=>{u(Array.from(e)),p(!1)}}):(0,i.jsxs)("div",{className:"text-center text-sm text-red-500 py-2",children:["zh"===v?"无法加载目标目录数据":"Cannot load target directory data",(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:"text-xs",children:["targetDirId: ",b||"null",", targetDir: ",m?"exists":"null",", records: ",f.length]})]})]})}function av(e){var l,a,s,r,d;let{app:o,field:u,rec:v,onChange:b}=e,{locale:m}=(0,n.Y)(),h=null===(l=u.relation)||void 0===l?void 0:l.targetDirId,x=(0,c.zj)(o,h),g=v[u.key]||null,[p,f]=(0,t.useState)(null),[j,y]=(0,t.useState)([]),N=g||p,C=N?j.find(e=>e.id===N)||(x?x.records.find(e=>e.id===N):null):null;console.log("RelationOneTab Debug:",{fieldKey:u.key,fieldType:u.type,targetDirId:h,targetDir:x?{id:x.id,name:x.name,recordsCount:null===(a=x.records)||void 0===a?void 0:a.length}:null,app:o?{id:o.id,modulesCount:null===(s=o.modules)||void 0===s?void 0:s.length}:null});let[w,k]=(0,t.useState)(!1),[z,S]=(0,t.useState)(!1),A=async()=>{if(!h||z){console.log("RelationOneTab: Skipping record load",{targetDirId:h,recordsLoading:z});return}console.log("RelationOneTab: Loading records for targetDirId:",h),S(!0);try{let e=(null==x?void 0:x.id)||h;console.log("\uD83D\uDD0D 加载目标目录记录:",{targetDirId:h,actualDirId:e,targetDir:x?{id:x.id,name:x.name}:null});let l=await eb.api.records.listRecords(e,{page:1,pageSize:100});if(console.log("RelationOneTab: API response:",l),l.success&&l.data){let e=Array.isArray(l.data)?l.data:[];y(e),console.log("RelationOneTab: Loaded records:",e.length)}else console.error("Failed to load target directory records:",l.error||"Unknown error"),y([])}catch(e){console.error("Error loading target directory records:",e),y([])}finally{S(!1)}};(0,t.useEffect)(()=>{h&&A()},[h]),(0,t.useEffect)(()=>{f(null)},[g]),(0,t.useEffect)(()=>{let e=(()=>{for(let e of o.modules)for(let l of e.directories)if(l.fields.some(e=>e.id===u.id))return l.id;return null})();!g&&o.id&&e&&v.id&&(async()=>{try{let a=await fetch("/api/relation-records/records/".concat(o.id,"/").concat(e,"/").concat(v.id,"/").concat(u.key));if(a.ok){var l;let e=await a.json(),i=(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.records)||[];Array.isArray(i)&&i.length>0&&f(i[0].id)}}catch(e){}})()},[o.id,v.id,u.id,u.key,g,o.modules]);let I=x?{...x,records:j}:null;return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"space-y-3",children:C?(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-gray-200 bg-white p-3 shadow-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:(null===(r=u.relation)||void 0===r?void 0:r.displayFieldKey)?String(null!==(d=C[u.relation.displayFieldKey])&&void 0!==d?d:(0,c.rj)(x,C)):(0,c.rj)(x,C)}),(0,i.jsx)(q.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>{f(null),b(null)},children:(0,i.jsx)(eR.A,{className:"size-4"})})]},C.id):(0,i.jsx)("div",{className:"text-center text-sm text-muted-foreground py-10 border border-dashed rounded-xl",children:"暂无关联记录"})}),(0,i.jsxs)(q.$,{variant:"outline",className:"w-full bg-white",onClick:()=>{var e;console.log("\uD83D\uDD0D RelationOneTab: Select button clicked",{fieldKey:u.key,targetDirId:h,targetDir:x?{id:x.id,name:x.name}:null,targetDirRecords:j.length,targetDirWithRecords:I?{id:I.id,name:I.name,recordsCount:null===(e=I.records)||void 0===e?void 0:e.length}:null,dialogOpen:w,recordsLoading:z}),k(!0)},children:[(0,i.jsx)(O.A,{className:"mr-2 size-4"}),C?"更换":"选择","表"]}),I?(0,i.jsx)(ae,{open:w,onOpenChange:k,targetDir:I,isMulti:!1,selectedIds:N?new Set([N]):new Set,onSave:e=>{f(null),b(Array.from(e)[0]||null),k(!1)}}):(0,i.jsxs)("div",{className:"text-center text-sm text-red-500 py-2",children:["zh"===m?"无法加载目标目录数据":"Cannot load target directory data",(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:"text-xs",children:["targetDirId: ",h||"null",", targetDir: ",x?"exists":"null",", records: ",j.length]})]})]})}var ab=a(68988),am=a(34652);function ah(e){let{recordId:l}=e,{toast:a}=(0,r.dj)(),{t:s,locale:d}=(0,n.Y)(),[c,o]=(0,t.useState)([{id:"1",type:"system",content:"记录已创建",timestamp:"2024-01-15 10:30:00",createdBy:"系统"},{id:"2",type:"user",content:"客户首次联系，表达了对产品的兴趣",timestamp:"2024-01-15 14:20:00",createdBy:"张三"}]),[u,v]=(0,t.useState)(""),b=e=>{switch(e){case"user":return{icon:ew.A,label:s("userRecord"),color:"text-blue-600 bg-blue-50"};case"system":return{icon:ab.A,label:s("systemInfo"),color:"text-gray-600 bg-gray-50"};case"behavior":return{icon:am.A,label:s("behaviorDynamic"),color:"text-green-600 bg-green-50"};default:return{icon:eC.A,label:s("other"),color:"text-gray-600 bg-gray-50"}}};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:s("addUserRecord")}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("recordContent")}),(0,i.jsx)(eK.T,{value:u,onChange:e=>v(e.target.value),placeholder:s("enterUserRecordContent"),rows:3,className:"resize-none"})]}),(0,i.jsxs)(q.$,{onClick:()=>{if(!u.trim()){a({description:s("pleaseEnterDynamicContent"),variant:"destructive"});return}let e={id:Date.now().toString(),type:"user",content:u.trim(),timestamp:new Date().toLocaleString("zh-CN"),createdBy:"当前用户"};o(l=>[e,...l]),v(""),a({description:s("dynamicRecordAdded")})},className:"w-full",children:[(0,i.jsx)(O.A,{className:"w-4 h-4 mr-2"}),s("addRecord")]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:s("historyRecord")}),(0,i.jsx)("div",{className:"space-y-3",children:c.map(e=>{let l=b(e.type),a=l.icon;return(0,i.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg ".concat(l.color),children:(0,i.jsx)(a,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.label}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"\xb7"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp}),e.createdBy&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"\xb7"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:e.createdBy})]})]}),(0,i.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.content})]})]})},e.id)})})]})]})}function ax(e){let{dir:l,rec:a,app:s,onClose:d,onSave:c}=e,{toast:o}=(0,r.dj)(),{t:u,locale:v}=(0,n.Y)(),[b,m]=(0,t.useState)(!1),[h,x]=(0,t.useState)(!1),[g,p]=(0,t.useState)(()=>{let{id:e,directoryId:l,version:i,createdAt:t,updatedAt:s,createdBy:n,updatedBy:r,...d}=a;return console.log("\uD83D\uDD0D 初始化表单数据:",{rec:a,props:d}),d});(0,t.useEffect)(()=>{let{id:e,directoryId:l,version:i,createdAt:t,updatedAt:s,createdBy:n,updatedBy:r,...d}=a;console.log("\uD83D\uDD0D 记录数据变化，更新表单数据:",{rec:a,props:d}),p(d)},[a]);let f=l.fields.find(e=>"name"===e.key||"title"===e.key),j=f&&g[f.key]||"(未命名)",y=(0,t.useMemo)(()=>l.fields.filter(e=>e.enabled&&"relation_many"!==e.type&&"relation_one"!==e.type||e.preset&&["constellation","skills","city","country","phone","email","url","map","currency","rating","progress","constellation","work_experience","education_experience","certificate_experience","custom_experience","identity_verification","other_verification","barcode","cascader"].includes(e.preset)),[l.fields]),N=(0,t.useMemo)(()=>l.fields.filter(e=>e.enabled&&("relation_many"===e.type||"relation_one"===e.type)&&(!e.preset||!["constellation","skills","city","country","phone","email","url","map","currency","rating","progress","constellation","work_experience","education_experience","certificate_experience","custom_experience","identity_verification","other_verification","barcode","cascader"].includes(e.preset))),[l.fields]),[C,w]=(0,t.useState)("basic");function k(e,l){p(a=>({...a,[e]:l})),m(!0)}async function z(){let e=function(){for(let e of y){if(!e.required)continue;let l=g[e.key],a=null==l||"string"==typeof l&&""===l.trim()||Array.isArray(l)&&0===l.length||"object"==typeof l&&0===Object.keys(l).length;if("number"===e.type||"percent"===e.type){if(null==l||Number.isNaN(Number(l)))return{ok:!1,firstMissing:e.label||e.key}}else if("boolean"===e.type||"checkbox"===e.type);else if(a)return{ok:!1,firstMissing:e.label||e.key}}return{ok:!0}}();if(!e.ok){o({description:"zh"===v?"请填写必填字段: ".concat(e.firstMissing):"Please fill required field: ".concat(e.firstMissing),variant:"destructive"});return}try{x(!0),await c(l.id,a.id,g),m(!1),o({description:"zh"===v?"保存成功":"Saved successfully"})}catch(e){console.error("保存记录失败:",e),o({description:"zh"===v?"保存失败: ".concat(e instanceof Error?e.message:"未知错误"):"Save failed: ".concat(e instanceof Error?e.message:"Unknown error"),variant:"destructive"})}finally{x(!1)}}return(0,i.jsxs)(lc,{side:"right",className:"w-[min(958px,100vw)] max-w-[100vw] p-0 bg-white border-l border-gray-200 flex flex-col !w-[min(958px,100vw)] !max-w-[100vw]",children:[(0,i.jsx)(lo,{className:"sr-only",children:j||"Record Details"}),(0,i.jsx)("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"size-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 grid place-items-center font-medium text-sm text-white shadow-sm",children:String(j||"NA").slice(0,2).toUpperCase()}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:j}),String(a.category||"")&&(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[u("category"),"：",String(a.category)]})]})]}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.$,{variant:"outline",size:"sm",className:"text-gray-600",onClick:()=>{m(!1);let{id:e,directoryId:l,version:i,createdAt:t,updatedAt:s,createdBy:n,updatedBy:r,...d}=a;p(d)},children:"zh"===v?"取消":"Cancel"}),(0,i.jsx)(q.$,{size:"sm",className:"bg-gray-900 hover:bg-gray-800 text-white",onClick:z,disabled:h,children:h?"zh"===v?"保存中...":"Saving...":"zh"===v?"保存":"Save"})]}):(0,i.jsx)(q.$,{variant:"outline",size:"sm",className:"text-gray-600",onClick:()=>m(!0),children:"zh"===v?"编辑":"Edit"})})]})}),(0,i.jsxs)(X.tU,{value:C,onValueChange:w,className:"flex-1 flex flex-col min-h-0",children:[(0,i.jsx)("div",{className:"px-6 pt-4",children:(0,i.jsxs)(X.j7,{className:"bg-gray-50 rounded-lg p-1",children:[(0,i.jsx)(X.Xi,{value:"basic",className:"rounded-md data-[state=active]:bg-white data-[state=active]:shadow-sm px-4 py-2",children:u("basicInfo")}),N.map(e=>(0,i.jsx)(X.Xi,{value:e.id,className:"rounded-md data-[state=active]:bg-white data-[state=active]:shadow-sm px-4 py-2",children:e.label},e.id)),(0,i.jsx)(X.Xi,{value:"dynamics",className:"rounded-md data-[state=active]:bg-white data-[state=active]:shadow-sm px-4 py-2",children:u("dynamicRecord")})]})}),(0,i.jsxs)("div",{className:"flex-1 overflow-y-auto bg-white min-h-0",children:[(0,i.jsx)(X.av,{value:"basic",className:"p-6 mt-0 flex-none",children:b?(0,i.jsx)("form",{id:"record-form",className:"space-y-6",onSubmit:e=>{e.preventDefault(),z()},children:(()=>{let e=y.filter(e=>"textarea"===e.type||"rich_text"===e.type||"markdown"===e.type||"json"===e.type||"experience"===e.type||"identity_verification"===e.type||"other_verification"===e.type),l=y.filter(l=>!e.includes(l));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid grid-cols-2 gap-6",children:l.map(e=>(0,i.jsx)(ao,{field:e,record:{...a,...g},app:s,onChange:l=>k(e.key,l),showValidation:b},e.id))}),e.map(e=>(0,i.jsx)(ao,{field:e,record:{...a,...g},app:s,onChange:l=>k(e.key,l),showValidation:b},e.id))]})})()}):(0,i.jsx)("div",{className:"space-y-6",children:(()=>{let e=y.filter(e=>"textarea"===e.type||"rich_text"===e.type||"markdown"===e.type||"json"===e.type||"experience"===e.type||"identity_verification"===e.type||"other_verification"===e.type),l=y.filter(l=>!e.includes(l));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid grid-cols-2 gap-6",children:l.map(e=>(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,i.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,i.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:ag(e,g[e.key])}),e.desc&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:e.desc})]},e.id))}),e.map(e=>(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,i.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,i.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:ag(e,g[e.key])}),e.desc&&(0,i.jsx)("div",{className:"text-xs text-gray-500",children:e.desc})]},e.id))]})})()})}),(0,i.jsx)(X.av,{value:"dynamics",className:"p-6 mt-0 flex-none",children:(0,i.jsx)(ah,{recordId:a.id})}),N.map(e=>(0,i.jsx)(X.av,{value:e.id,className:"p-6 mt-0 flex-none",children:"relation_many"===e.type?(0,i.jsx)(au,{app:s,field:e,rec:{...a,...g},onChange:l=>k(e.key,l)}):(0,i.jsx)(av,{app:s,field:e,rec:{...a,...g},onChange:l=>k(e.key,l)})},e.id))]})]})]})}function ag(e,l){if(null==l||""===l)return(0,i.jsx)("span",{className:"text-gray-400 italic",children:"未填写"});switch(e.type){case"boolean":case"checkbox":return l?"是":"否";case"tags":if(Array.isArray(l))return l.length>0?l.join(", "):"未填写";return"未填写";case"multiselect":if(Array.isArray(l)){if("skills"===e.preset){if(l.length>0){let t=l.map(l=>{var i,t;let s=function(e){let{skillsData:l}=a(69804),i=l.find(l=>l.id===e);return i?i.name:e}(l);if(s!==l)return s;let n=null===(t=e.skillsConfig)||void 0===t?void 0:null===(i=t.customSkills)||void 0===i?void 0:i.find(e=>e.id===l);return n?n.name:l});return(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map((e,l)=>(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},l))})}return"未填写"}return l.length>0?l.join(", "):"未填写"}return"未填写";case"select":if("constellation"===e.preset)return l?function(e){let{constellationData:l}=a(19109),i=l.find(l=>l.id===e);return i?i.name:e}(l):"未选择";return l||"未选择";case"number":case"percent":return null!=l?String(l):"未填写";case"date":case"datetime":return l||"未填写";case"image":if(l){let e=(Array.isArray(l)?l:[l]).filter(Boolean);if(0===e.length)return"未上传";if(e.length>1){let l=e.slice(0,3),a=e.length-3;return(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[l.map((e,l)=>(0,i.jsx)("img",{src:e,alt:"Image ".concat(l+1),className:"w-8 h-8 rounded object-cover border"},l)),a>0&&(0,i.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["+",a]})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["共 ",e.length," 张图片"]})]})}return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("img",{src:e[0],alt:"Image",className:"w-8 h-8 rounded object-cover"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"图片"})]})}return"未上传";case"profile":if(l){let e=(Array.isArray(l)?l:[l]).filter(Boolean);if(0===e.length)return"未上传";return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("img",{src:e[0],alt:"Profile",className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"标识"}),e.length>1&&(0,i.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.length-1," 更多"]})]})]})}return"未上传";case"video":if(l)return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("video",{src:l,className:"w-8 h-8 rounded object-cover"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"视频"})]});return"未上传";case"experience":if(Array.isArray(l)&&l.length>0)return(0,i.jsx)("div",{className:"space-y-3",children:l.map((e,l)=>(0,i.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:(()=>{switch(e.type){case"work":return"工作经历";case"education":return"教育经历";case"project":return"项目经历";case"certificate":return"证书经历";default:return"经历"}})()}),e.isCurrent&&(0,i.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"进行中"})]}),(0,i.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:(()=>{if(!e.startDate)return"";let l=new Date(e.startDate).toLocaleDateString("zh-CN");if(e.isCurrent||!e.endDate)return"".concat(l," - 至今");let a=new Date(e.endDate).toLocaleDateString("zh-CN");return"".concat(l," - ").concat(a)})()})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-base font-semibold text-gray-900",children:e.title||e.name||"经历 ".concat(l+1)}),e.organization&&(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,i.jsx)("span",{className:"font-medium",children:"机构:"})," ",e.organization]}),"work"===e.type&&e.department&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"部门:"})," ",e.department]}),"education"===e.type&&(0,i.jsxs)(i.Fragment,{children:[e.degree&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"学历:"})," ",e.degree]}),e.major&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"专业:"})," ",e.major]}),e.gpa&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"GPA:"})," ",e.gpa]})]}),"project"===e.type&&e.teamSize&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"团队规模:"})," ",e.teamSize,"人"]}),"certificate"===e.type&&e.issuer&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"颁发机构:"})," ",e.issuer]}),e.location&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"地点:"})," ",e.location]}),e.description&&(0,i.jsx)("div",{className:"text-sm text-gray-700 mt-2 p-2 bg-gray-50 rounded",children:e.description.length>150?"".concat(e.description.substring(0,150),"..."):e.description}),e.skills&&Array.isArray(e.skills)&&e.skills.length>0&&(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"相关技能:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.skills.slice(0,6).map((e,l)=>(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},l)),e.skills.length>6&&(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.skills.length-6," 更多"]})]})]}),e.achievements&&Array.isArray(e.achievements)&&e.achievements.length>0&&(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"成就/荣誉:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.achievements.slice(0,3).map((e,l)=>(0,i.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:e},l)),e.achievements.length>3&&(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.achievements.length-3," 更多"]})]})]})]})]},l))});return"未填写";case"text":if("identity_verification"===e.preset){if(l&&"object"==typeof l&&(l.name||l.idNumber||l.frontPhoto||l.backPhoto))return(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)("span",{className:"text-green-600 font-medium",children:"✓ 已认证"})});return(0,i.jsx)("span",{className:"text-gray-400",children:"未认证"})}if("other_verification"===e.preset){if(l&&"object"==typeof l&&Object.keys(l).length>0){let e=Object.entries(l).filter(e=>{let[l,a]=e;return"string"==typeof a&&""!==a.trim()});if(!(e.length>0))return(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)("span",{className:"text-green-600 font-medium",children:"✓ 已认证"})});{let l=e[0][1];return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700",children:l}),(0,i.jsx)("span",{className:"text-green-600 font-medium",children:"✓ 已认证"})]})}}return(0,i.jsx)("span",{className:"text-gray-400",children:"未认证"})}return String(l);default:return String(l)}}function ap(e){let{currentDir:l,records:a,app:s,open:n,state:r,onClose:d,onSave:c}=e,o=(0,t.useMemo)(()=>r.recordId&&a&&a.find(e=>e.id===r.recordId)||null,[a,r.recordId]);return(0,i.jsx)(ln,{open:n,onOpenChange:e=>e?null:d(),children:l&&o?(0,i.jsx)(ax,{dir:l,rec:o,app:s,onClose:d,onSave:c}):null})}function af(e){let{open:l,onOpenChange:a,title:s="重命名",label:r="名称",placeholder:d,initialValue:c="",canEdit:o=!0,onSave:u}=e,{locale:v}=(0,n.Y)(),[b,m]=(0,t.useState)(c);return(0,t.useEffect)(()=>{l&&m(c)},[l,c]),(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"sm:max-w-[480px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"rename-description",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:s})}),(0,i.jsx)("div",{id:"rename-description",className:"sr-only",children:"Enter a new name for this item"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)(eH.J,{htmlFor:"rename-input",children:r}),(0,i.jsx)(ex.p,{id:"rename-input",value:b,onChange:e=>m(e.target.value),placeholder:d,autoFocus:!0})]}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>a(!1),children:"zh"===v?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:()=>{console.log("=== RenameDialog save clicked ===",{val:b.trim(),canEdit:o}),u(b.trim())},disabled:!b.trim()||!o,children:"zh"===v?"保存":"Save"})]})]})})}function aj(e){var l,a;let{open:s,onOpenChange:r,categories:d,onConfirm:c,title:o}=e,{locale:u}=(0,n.Y)(),[v,b]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[x,g]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&(b(""),h(""),g(""))},[s]);let p=v&&(null===(l=d.find(e=>e.id===v))||void 0===l?void 0:l.children)||[],f=m&&(null===(a=p.find(e=>e.id===m))||void 0===a?void 0:a.children)||[],j=()=>{let e=[];if(v){let l=d.find(e=>e.id===v);l&&e.push(l.name)}if(m){let l=p.find(e=>e.id===m);l&&e.push(l.name)}if(x){let l=f.find(e=>e.id===x);l&&e.push(l.name)}return e.join(" / ")},y=()=>!!v&&(!(p.length>0)||!!m)&&(!(f.length>0)||!!x);return(0,i.jsx)(eh.lG,{open:s,onOpenChange:r,children:(0,i.jsxs)(eh.Cf,{className:"max-w-md bg-white/80 backdrop-blur",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:o||("zh"===u?"选择分类":"Select Category")})}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"zh"===u?"一级分类":"Level 1 Category"}),(0,i.jsxs)(eg.l6,{value:v,onValueChange:e=>{b(e),h(""),g("")},children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===u?"请选择一级分类":"Select level 1 category"})}),(0,i.jsx)(eg.gC,{children:d.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))})]})]}),p.length>0&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"zh"===u?"二级分类":"Level 2 Category"}),(0,i.jsxs)(eg.l6,{value:m,onValueChange:e=>{h(e),g("")},disabled:!v,children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===u?"请选择二级分类":"Select level 2 category"})}),(0,i.jsx)(eg.gC,{children:p.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))})]})]}),f.length>0&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"zh"===u?"三级分类":"Level 3 Category"}),(0,i.jsxs)(eg.l6,{value:x,onValueChange:g,disabled:!m,children:[(0,i.jsx)(eg.bq,{className:"bg-white/70",children:(0,i.jsx)(eg.yv,{placeholder:"zh"===u?"请选择三级分类":"Select level 3 category"})}),(0,i.jsx)(eg.gC,{children:f.map(e=>(0,i.jsx)(eg.eb,{value:e.id,children:e.name},e.id))})]})]}),v&&(0,i.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,i.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,i.jsx)("strong",{children:"zh"===u?"已选择：":"Selected: "}),j()]})})]}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>r(!1),children:"zh"===u?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:()=>{y()&&(c(j()),r(!1))},disabled:!y(),children:"zh"===u?"确认":"Confirm"})]})]})})}var ay=a(21114);let aN=e=>e.level?e.level:Math.min(3,Math.max(1,(e.label||"").split(" / ").filter(Boolean).length));function aC(e){let{kw:l,onKw:a,category:t,onCategory:s,categories:r=[],categoriesTree:d=[],status:c,onStatus:o,statuses:u=[],addText:v="新增记录",onAdd:b,onCategoryManage:m,onAIOps:h,searchPlaceholder:x="搜索...",catLabel:g="按分类筛选",statusLabel:f="按状态筛选"}=e,{locale:j}=(0,n.Y)(),y=Array.isArray(d)&&d.length>0;return(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,i.jsx)(ex.p,{placeholder:x,className:"w-[220px] bg-white/60",value:l,onChange:e=>a(e.target.value)}),y?(0,i.jsx)(lh,{tree:d,value:t||"all",onChange:s,placeholder:g,clearText:"全部",l1Label:"第 1 级",l2Label:"第 2 级",l3Label:"第 3 级"}):(0,i.jsxs)(eg.l6,{value:t,onValueChange:s,children:[(0,i.jsx)(eg.bq,{className:"w-[220px] bg-white/60",title:g,children:(0,i.jsx)(eg.yv,{placeholder:g})}),(0,i.jsx)(eg.gC,{children:r.map(e=>{let l=aN(e);return(0,i.jsx)(eg.eb,{value:e.value,children:(0,i.jsxs)("div",{className:"flex items-center ".concat(1===l?"":2===l?"pl-4":"pl-8"),children:[(0,i.jsx)("span",{className:"mr-2 text-[10px] leading-none rounded border border-white/60 bg-white/70 px-1 py-0.5 text-slate-600",children:"L".concat(l)}),(0,i.jsx)("span",{className:"truncate",children:e.label})]})},e.value+"::"+e.label)})})]}),(0,i.jsxs)(eg.l6,{value:c,onValueChange:o,children:[(0,i.jsx)(eg.bq,{className:"w-[140px] bg-white/60",children:(0,i.jsx)(eg.yv,{placeholder:f})}),(0,i.jsx)(eg.gC,{children:u.map(e=>(0,i.jsx)(eg.eb,{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)(q.$,{onClick:()=>null==b?void 0:b(),children:[(0,i.jsx)(O.A,{className:"mr-1 size-4"}),v]}),h&&(0,i.jsxs)(q.$,{variant:"outline",onClick:()=>null==h?void 0:h(),children:[(0,i.jsx)(eT.A,{className:"mr-1 size-4"}),"zh"===j?"AI运营":"AI Ops"]}),m&&(0,i.jsxs)(q.$,{variant:"outline",onClick:()=>m(),children:[(0,i.jsx)(p.A,{className:"mr-1 size-4"}),"zh"===j?"内容分类":"Content Categories"]})]}),(0,i.jsx)("div",{})]})}var aw=a(22167),ak=a(41855);function az(e){let{open:l,onOpenChange:a,module:s,type:r,onConfirm:d}=e,{locale:c}=(0,n.Y)(),[o,u]=(0,t.useState)(!1),[v,b]=(0,t.useState)({allowRegistration:!0,requireEmailVerification:!1,defaultRole:"user",passwordPolicy:{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1}}),[m,h]=(0,t.useState)((null==s?void 0:s.name)||""),[x,g]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&"config"===r&&(h(s.name||""),("用户管理"===s.name||"User Management"===s.name)&&b({allowRegistration:!0,requireEmailVerification:!1,defaultRole:"user",passwordPolicy:{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1}}))},[s,r]);let p=async()=>{u(!0);try{"config"===r?await d({...v,__moduleName:null==m?void 0:m.trim(),__icon:x}):await d(),a(!1)}catch(e){console.error("操作失败:",e)}finally{u(!1)}};if(!s)return null;let f="用户管理"===s.name||"User Management"===s.name;return(0,i.jsx)(eh.lG,{open:l,onOpenChange:a,children:(0,i.jsxs)(eh.Cf,{className:"sm:max-w-[480px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"module-dialog-description",children:[(0,i.jsx)(eh.c7,{children:(0,i.jsx)(eh.L3,{children:"config"===r?"zh"===c?"配置模块":"Configure Module":"zh"===c?"卸载模块":"Uninstall Module"})}),(0,i.jsx)("div",{id:"module-dialog-description",className:"sr-only",children:"config"===r?"Configure module settings and parameters":"Confirm module uninstallation"}),"config"===r?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"模块名称":"Module Name"}),(0,i.jsx)(ex.p,{value:m,onChange:e=>h(e.target.value),placeholder:"zh"===c?"请输入模块名称":"Enter module name"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"模块图标":"Module Icon"}),(0,i.jsx)(lG.G,{value:x,onChange:e=>g("string"==typeof e?e:e[0]||""),multiple:!1,size:"md"})]})]}),f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"允许用户注册":"Allow Registration"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"zh"===c?"是否允许新用户注册":"Allow new users to register"})]}),(0,i.jsx)(ep.d,{checked:v.allowRegistration,onCheckedChange:e=>b(l=>({...l,allowRegistration:e}))})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"需要邮箱验证":"Require Email Verification"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"zh"===c?"注册时是否需要验证邮箱":"Require email verification on registration"})]}),(0,i.jsx)(ep.d,{checked:v.requireEmailVerification,onCheckedChange:e=>b(l=>({...l,requireEmailVerification:e}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"默认角色":"Default Role"}),(0,i.jsxs)(eg.l6,{value:v.defaultRole,onValueChange:e=>b(l=>({...l,defaultRole:e})),children:[(0,i.jsx)(eg.bq,{children:(0,i.jsx)(eg.yv,{})}),(0,i.jsxs)(eg.gC,{children:[(0,i.jsx)(eg.eb,{value:"user",children:"zh"===c?"普通用户":"User"}),(0,i.jsx)(eg.eb,{value:"admin",children:"zh"===c?"管理员":"Admin"}),(0,i.jsx)(eg.eb,{value:"guest",children:"zh"===c?"访客":"Guest"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(eH.J,{children:"zh"===c?"密码策略":"Password Policy"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(eH.J,{className:"text-sm",children:"zh"===c?"最小长度":"Minimum Length"}),(0,i.jsx)(ex.p,{type:"number",value:v.passwordPolicy.minLength,onChange:e=>b(l=>({...l,passwordPolicy:{...l.passwordPolicy,minLength:parseInt(e.target.value)||6}})),min:"4",max:"20"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(eH.J,{className:"text-sm",children:"zh"===c?"需要大写字母":"Require Uppercase"}),(0,i.jsx)(ep.d,{checked:v.passwordPolicy.requireUppercase,onCheckedChange:e=>b(l=>({...l,passwordPolicy:{...l.passwordPolicy,requireUppercase:e}}))})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(eH.J,{className:"text-sm",children:"zh"===c?"需要小写字母":"Require Lowercase"}),(0,i.jsx)(ep.d,{checked:v.passwordPolicy.requireLowercase,onCheckedChange:e=>b(l=>({...l,passwordPolicy:{...l.passwordPolicy,requireLowercase:e}}))})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(eH.J,{className:"text-sm",children:"zh"===c?"需要数字":"Require Numbers"}),(0,i.jsx)(ep.d,{checked:v.passwordPolicy.requireNumbers,onCheckedChange:e=>b(l=>({...l,passwordPolicy:{...l.passwordPolicy,requireNumbers:e}}))})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(eH.J,{className:"text-sm",children:"zh"===c?"需要特殊字符":"Require Special Characters"}),(0,i.jsx)(ep.d,{checked:v.passwordPolicy.requireSpecialChars,onCheckedChange:e=>b(l=>({...l,passwordPolicy:{...l.passwordPolicy,requireSpecialChars:e}}))})]})]})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"text-center py-8 text-gray-500",children:"zh"===c?"该模块暂无特殊配置项":"No special configuration options for this module"})})]}):(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"text-center py-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"zh"===c?"确认卸载模块":"Confirm Module Uninstall"}),(0,i.jsx)("p",{className:"text-gray-500",children:"zh"===c?'确定要卸载模块 "'.concat(s.name,'" 吗？此操作不可撤销，相关数据将被删除。'):'Are you sure you want to uninstall module "'.concat(s.name,'"? This action cannot be undone and related data will be deleted.')})]})}),(0,i.jsxs)(eh.Es,{children:[(0,i.jsx)(q.$,{variant:"secondary",onClick:()=>a(!1),disabled:o,children:"zh"===c?"取消":"Cancel"}),(0,i.jsx)(q.$,{onClick:p,disabled:o,variant:"uninstall"===r?"destructive":"default",children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"zh"===c?"处理中...":"Processing..."]}):(0,i.jsx)(i.Fragment,{children:"config"===r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"zh"===c?"保存":"Save"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"zh"===c?"确认卸载":"Confirm Uninstall"]})})})]})]})})}var aS=a(74395);function aA(){var e,l,a,o,u,v,b,m,h,x,g,p,f,j,y,N,C,w,k,z,S,A,I;let _=(0,s.useRouter)(),D=(0,s.useParams)(),{t:M,locale:F,toggleLocale:E}=(0,n.Y)(),{toast:L}=(0,r.dj)(),{role:P,setRole:T,can:O}=(0,d.S)(),q=(0,ec.x)({appId:D.appId,can:O,toast:L}),{uninstallModule:R,updateModuleConfig:V}=(0,eo.$)({applicationId:D.appId}),{configs:B,loading:U,deleteConfig:K,refetch:H}=function(){let[e,l]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[s,n]=(0,t.useState)(null),r=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";i(!0),n(null);try{let i=new URLSearchParams({offset:e.toString(),limit:a.toString(),...t&&{q:t}}),s=await fetch("http://47.94.52.142:3007/api/module-configs?".concat(i)),n=await s.json();if(n.success)return l(n.data.items),n.data;throw Error(n.message||"Failed to fetch module configs")}catch(e){return n(e instanceof Error?e.message:"Unknown error"),console.error("Failed to fetch module configs:",e),null}finally{i(!1)}},d=async e=>{try{let a=await fetch("http://47.94.52.142:3007/api/module-configs/".concat(e),{method:"DELETE"}),i=await a.json();if(i.success)return l(l=>l.filter(l=>l.id!==e)),!0;throw Error(i.message||"Failed to delete module config")}catch(e){return n(e instanceof Error?e.message:"Unknown error"),console.error("Failed to delete module config:",e),!1}};return(0,t.useEffect)(()=>{r()},[]),{configs:e,loading:a,error:s,fetchConfigs:r,deleteConfig:d,refetch:()=>r()}}(),[J,W]=(0,t.useState)("team"),[Y,G]=(0,t.useState)(!1),[X,Q]=(0,t.useState)("internal"),[ee,ea]=(0,t.useState)(!1),[ei,et]=(0,t.useState)(!1),[en,eu]=(0,t.useState)(null),[ev,eb]=(0,t.useState)(!1),[eh,ex]=(0,t.useState)(!1),[eg,ep]=(0,t.useState)(null),[ef,ej]=(0,t.useState)(!1),[ey,eN]=(0,t.useState)(null),[eC,ew]=(0,t.useState)(""),[ek,ez]=(0,t.useState)(!1),[eS,eA]=(0,t.useState)({}),eI=async e=>{ep(e),ex(!0)},e_=e=>{let l=c.ZO[e];return l?("function"==typeof l?l():l).directories.filter(e=>"table"===e.type).map(e=>e.name):[]},eD=e=>{try{let l=JSON.parse((null==e?void 0:e.payload)||"{}");return(Array.isArray(null==l?void 0:l.directories)?l.directories:[]).filter(e=>!e.type||"table"===e.type).map(e=>e.name)}catch(e){return[]}},eM=e=>{let l=e_(e),a={};l.forEach(e=>{a[e]=e}),eA(a)},eF=async()=>{if(eg)try{await K(eg)?L({title:"删除成功",description:"模块已删除"}):L({title:"删除失败",description:"模块删除失败，请重试",variant:"destructive"})}catch(e){L({title:"删除失败",description:"模块删除失败，请重试",variant:"destructive"})}finally{ex(!1),ep(null)}},eE=e=>{eN(e),ew(e.title);let l=eD(e);if(l.length>0){let e={};l.forEach(l=>{e[l]=l}),eA(e)}else try{let l=JSON.parse(e.payload),a=(null==l?void 0:l.moduleKey)||(null==l?void 0:l.type)||"blank-template";eM(a)}catch(e){eM("blank-template")}ej(!0)},eL=async()=>{if(ey&&eC.trim()){ez(!0);try{let e=window.localStorage.getItem("aino_token"),l=await fetch("http://47.94.52.142:3007/api/module-configs/".concat(ey.id),{method:"GET",headers:{"Content-Type":"application/json"}}),a=await l.json().catch(()=>({})),{directories:i}=JSON.parse(a.data.payload),t=await fetch("http://47.94.52.142:3007/api/modules/simple/install?applicationId=".concat(D.appId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({installConfig:{name:eC},moduleKey:"blank-template",moduleType:"local"})}),s=await t.json().catch(()=>({}));if(!s.success||"模块安装成功"!==s.message)throw Error("模块安装失败,请重试.");let n=s.data.id,r={...eS};for(let l=0;l<i.length;l++){let a=i[l],t=r[a.name]||a.name,s=await fetch("http://47.94.52.142:3007/api/directories?applicationId=".concat(D.appId,"&moduleId=").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({config:{},name:t,order:0,supportsCategory:!1,type:"table"})}),d=await s.json().catch(()=>({}));for(let l=0;l<a.fields.length;l++){let i=a.fields[l],t=await fetch("http://47.94.52.142:3007/api/directory-defs/by-directory/".concat(d.data.id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({applicationId:D.appId})}),s={directoryId:(await t.json().catch(()=>({}))).data.id,key:crypto.randomUUID(),kind:"primitive",required:!1,schema:{...i},type:i.type,validators:{}};await fetch("http://47.94.52.142:3007/api/field-defs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(s)})}}console.log("tableNameMappingObject",r),L({title:"安装成功",description:"模块 ".concat(eC," 已安装")}),ej(!1),eN(null),ew(""),eA({});try{await q.refresh()}catch(e){console.warn("刷新模块列表失败:",e)}}catch(e){L({title:"安装失败",description:"模块安装失败，请重试",variant:"destructive"})}finally{ez(!1)}}},eP=async()=>{let e={...q.currentModule,type:"public"};try{let l=await fetch("http://47.94.52.142:3007/api/module-configs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:JSON.stringify(e),title:e.name,description:e.type})});await l.json().catch(()=>({})),L({title:"发布成功",description:"模块已发布"}),H()}catch(e){L({title:"发布失败",description:e.message,variant:"destructive"})}},eT=(0,t.useMemo)(()=>({text:M("ft_text"),textarea:M("ft_textarea"),number:M("ft_number"),select:M("ft_select"),multiselect:M("ft_multiselect"),boolean:M("ft_boolean"),date:M("ft_date"),time:M("ft_time"),tags:M("ft_tags"),image:M("ft_image"),video:M("ft_video"),file:M("ft_file"),richtext:M("ft_richtext"),percent:M("ft_percent"),barcode:M("ft_barcode"),checkbox:M("ft_checkbox"),cascader:M("ft_cascader"),relation_one:M("ft_relation_one"),relation_many:M("ft_relation_many"),experience:M("ft_experience")}),[F]),eO="settings"===q.moduleId,eq=eO?"".concat((null===(e=q.app)||void 0===e?void 0:e.name)||("zh"===F?"应用":"App")," / ").concat("zh"===F?"设置":"Settings"):Y?"".concat((null===(l=q.app)||void 0===l?void 0:l.name)||("zh"===F?"应用":"App")," / ").concat("zh"===F?"模块管理":"Module Management"):"".concat((null===(a=q.app)||void 0===a?void 0:a.name)||("zh"===F?"应用":"App")," / ").concat((null===(o=q.currentModule)||void 0===o?void 0:o.name)||"-"," / ").concat((null===(u=q.currentDir)||void 0===u?void 0:u.name)||"-");return(0,i.jsxs)("main",{className:"min-h-[100dvh] bg-gradient-to-br from-[#eef6ff] via-[#e9f3ff] to-[#e6fff5] relative",children:[(0,i.jsx)(ed,{}),(0,i.jsx)(es,{appName:(null===(v=q.app)||void 0===v?void 0:v.name)||"应用",moduleName:eO?"设置":null===(b=q.currentModule)||void 0===b?void 0:b.name,dirName:eO?"":null===(m=q.currentDir)||void 0===m?void 0:m.name,role:P,onRole:T,locale:F,onToggleLocale:E,onSave:()=>{let e=(0,c.KA)();(0,c.Ju)(e)},onHome:()=>_.push("/"),tSave:M("save")}),(0,i.jsx)("div",{className:"px-4 -mt-2 pointer-events-none",style:{position:"absolute",zIndex:1e3,top:24,right:340},children:(0,i.jsx)("div",{className:"max-w-full flex items-center justify-end pointer-events-auto",children:(0,i.jsxs)("button",{onClick:()=>_.push("/app/".concat(D.appId,"/auth-test")),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition-colors cursor-pointer",title:"前往登录测试页",children:[(0,i.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),"登录测试页"]})})}),(0,i.jsxs)("div",{className:"w-full p-4 grid grid-cols-1 md:grid-cols-[76px_260px_1fr] gap-4",children:[(0,i.jsx)($,{modules:(null===(h=q.app)||void 0===h?void 0:h.modules)||[],selectedId:q.moduleId||"",onSelect:e=>{if("settings"===e)q.setModuleId("settings"),q.setDirId(null),G(!1);else{var l,a,i,t;q.setModuleId(e);let s=(null===(t=q.app)||void 0===t?void 0:null===(i=t.modules)||void 0===i?void 0:null===(a=i.find(l=>l.id===e))||void 0===a?void 0:null===(l=a.directories[0])||void 0===l?void 0:l.id)||null;q.setDirId(s),G(!1)}},onAdd:()=>q.setOpenAddModule(!0),onSettings:()=>{q.setModuleId("settings"),q.setDirId(null),G(!1)},onModuleManagement:()=>{G(!0),q.setModuleId(""),q.setDirId(null)},canAdd:O("edit")}),eO?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aw.U,{activeSection:J,onSectionChange:W}),(0,i.jsx)(ak.H,{activeSection:J})]}):Y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[(0,i.jsx)("h3",{className:"font-semibold mb-4 text-gray-900",children:"zh"===F?"模块分类":"Module Categories"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("button",{onClick:()=>Q("internal"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("internal"===X?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-50 text-gray-700"),children:"zh"===F?"内部模块":"Internal Modules"}),(0,i.jsx)("button",{onClick:()=>Q("thirdparty"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("thirdparty"===X?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-50 text-gray-700"),children:"zh"===F?"第三方模块":"Third-party Modules"}),(0,i.jsx)("button",{onClick:()=>Q("public"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("public"===X?"bg-gray-100 text-gray-900 font-medium":"hover:bg-gray-50 text-gray-700"),children:"zh"===F?"上传到公用模块":"Upload to Public Modules"})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["internal"===X&&("zh"===F?"内部模块":"Internal Modules"),"thirdparty"===X&&("zh"===F?"第三方模块":"Third-party Modules"),"public"===X&&("zh"===F?"公用模块":"Public Modules")]}),(0,i.jsx)("span",{className:"text-sm text-gray-500",children:"internal"===X?((null===(x=q.app)||void 0===x?void 0:x.modules)||[]).length:"thirdparty"===X?B.length:0}),(0,i.jsx)("span",{className:"text-sm bg-gray-100 text-gray-700 px-2 py-1 rounded font-medium",children:"zh"===F?"探索 Marketplace":"Explore Marketplace"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",placeholder:"zh"===F?"搜索":"Search",className:"pl-8 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500"}),(0,i.jsx)("svg",{className:"w-4 h-4 absolute left-2.5 top-2.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})]}),(0,i.jsx)("button",{onClick:()=>q.setOpenAddModule(!0),className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium",children:"zh"===F?"+ 安装模块":"+ Install Module"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["internal"===X&&((null===(g=q.app)||void 0===g?void 0:g.modules)||[]).map((e,l)=>{var a,t;return(0,i.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all duration-200 hover:border-gray-300",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 text-base",children:e.name}),(0,i.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,i.jsxs)("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-medium",children:["v1.0.",l+1]}),(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:"工具"})]})]}),(0,i.jsx)("button",{className:"text-gray-400 hover:text-gray-600 p-0.5",children:(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})]}),(0,i.jsx)("p",{className:"text-xs text-gray-600 mb-2 leading-relaxed",children:"zh"===F?"".concat(e.name,"模块包含 ").concat((null===(a=e.directories)||void 0===a?void 0:a.length)||0," 个数据表，提供完整的").concat(e.name,"管理功能。"):"".concat(e.name," module contains ").concat((null===(t=e.directories)||void 0===t?void 0:t.length)||0," data tables, providing complete ").concat(e.name," management functionality.")}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,i.jsxs)("span",{children:["system / ",e.name.toLowerCase()]}),(0,i.jsxs)("a",{href:"#",className:"text-blue-600 hover:text-blue-700 flex items-center gap-0.5",children:["MARKETPLACE",(0,i.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,i.jsxs)("div",{className:"flex gap-1.5",children:[(0,i.jsx)("button",{onClick:()=>{eu(e),ea(!0)},className:"flex-1 text-xs px-3 py-1.5 bg-gray-50 text-gray-700 rounded hover:bg-gray-100 transition-colors font-medium",children:"zh"===F?"配置":"Configure"}),(0,i.jsx)("button",{onClick:()=>{eu(e),et(!0)},className:"flex-1 text-xs px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors font-medium",children:"zh"===F?"卸载":"Uninstall"})]})]})]})},e.id)}),"thirdparty"===X&&B.length>0&&B.map(e=>(0,i.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all duration-200 hover:border-gray-300",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 text-base",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,i.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-medium",children:"已保存"}),(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:e.description||"模块"})]})]}),(0,i.jsx)("button",{onClick:()=>eI(e.id),className:"text-gray-400 hover:text-red-600 p-0.5",title:"删除模块",children:(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,i.jsx)("p",{className:"text-xs text-gray-600 mb-2 leading-relaxed",children:"zh"===F?"保存时间: ".concat(new Date(e.createdAt).toLocaleString("zh-CN")):"Saved: ".concat(new Date(e.createdAt).toLocaleString())}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,i.jsxs)("span",{children:["ID: ",e.id]}),(0,i.jsx)("span",{className:"text-blue-600",children:"zh"===F?"已发布模块":"Published Module"})]}),(0,i.jsxs)("div",{className:"flex gap-1.5",children:[(0,i.jsx)("button",{onClick:()=>{try{let l=JSON.parse(e.payload);console.log("查看模块配置:",l),L({title:"模块信息",description:"模块: ".concat(e.title,", 类型: ").concat(e.description)})}catch(e){L({title:"查看失败",description:"模块数据格式错误",variant:"destructive"})}},className:"flex-1 text-xs px-3 py-1.5 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors font-medium",children:"zh"===F?"查看":"View"}),(0,i.jsx)("button",{onClick:()=>eE(e),className:"flex-1 text-xs px-3 py-1.5 bg-green-50 text-green-700 rounded hover:bg-green-100 transition-colors font-medium",children:"zh"===F?"安装":"Install"}),(0,i.jsx)("button",{onClick:()=>eI(e.id),className:"flex-1 text-xs px-3 py-1.5 border border-red-300 text-red-700 rounded hover:bg-red-50 transition-colors font-medium",children:"zh"===F?"删除":"Delete"})]})]})]})},e.id)),("internal"===X&&0===((null===(p=q.app)||void 0===p?void 0:p.modules)||[]).length||"thirdparty"===X&&0===B.length||"public"===X)&&(0,i.jsxs)("div",{className:"col-span-2 text-center py-12",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,i.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["internal"===X&&("zh"===F?"暂无内部模块":"No Internal Modules"),"thirdparty"===X&&("zh"===F?"暂无第三方模块":"No Third-party Modules"),"public"===X&&("zh"===F?"暂无公用模块":"No Public Modules")]}),(0,i.jsxs)("p",{className:"text-gray-500 mb-4",children:["internal"===X&&("zh"===F?"开始创建您的第一个内部模块":"Start creating your first internal module"),"thirdparty"===X&&("zh"===F?"从市场安装第三方模块":"Install third-party modules from marketplace"),"public"===X&&("zh"===F?"上传模块到公用市场":"Upload modules to public marketplace")]}),(0,i.jsxs)("button",{onClick:()=>q.setOpenAddModule(!0),className:"px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:["internal"===X&&("zh"===F?"创建模块":"Create Module"),"thirdparty"===X&&("zh"===F?"浏览模块市场":"Browse Marketplace"),"public"===X&&("zh"===F?"上传模块":"Upload Module")]})]})]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{title:M("directories"),directories:(null===(f=q.currentModule)||void 0===f?void 0:f.directories)||[],selectedId:q.dirId||"",onSelect:e=>q.setDirId(e),onRename:e=>q.renameDir(e),onDelete:e=>q.deleteDir(e),onAdd:()=>q.setOpenAddDir(!0),addText:M("addDir"),typeLabel:e=>"category"===e.type?M("typeCategory"):M("typeTable"),canEdit:O("edit")}),(0,i.jsx)(el,{breadcrumb:eq,canEdit:O("edit"),tab:q.tab,onTabChange:e=>q.setTab(e),onOpenAddField:q.quickOpenAddField,onOpenCategories:()=>q.setOpenCategory(!0),onOpenFieldSettings:()=>q.setTab("fields"),handlePublicModule:eP,filtersSlot:(null===(j=q.currentDir)||void 0===j?void 0:j.type)==="table"?(0,i.jsx)(aC,{kw:q.filters.kw,onKw:e=>q.setFilters(l=>({...l,kw:e})),category:q.filters.category,onCategory:e=>q.setFilters(l=>({...l,category:e})),categoriesTree:(null===(y=q.currentDir)||void 0===y?void 0:y.categories)||[],status:q.filters.status,onStatus:e=>q.setFilters(l=>({...l,status:e})),statuses:[{label:M("all"),value:"all"},{label:M("statusOn"),value:"上架"},{label:M("statusOff"),value:"下架"}],addText:M("addRecord"),onAdd:q.addRecord,onAIOps:()=>eb(!0),onCategoryManage:()=>q.setOpenCategory(!0),searchPlaceholder:M("searchPlaceholder"),catLabel:M("filterByCategory"),statusLabel:M("filterByStatus")}):null,bulkToolbarSlot:(null===(N=q.currentDir)||void 0===N?void 0:N.type)==="table"?(0,i.jsx)(er,{count:q.selectedIds.length,canBulkDelete:O("bulkDelete"),onBulkDelete:q.handleBulkDelete,onClear:()=>q.setSelectedIds([])}):null,listSlot:(null===(C=q.currentDir)||void 0===C?void 0:C.type)==="table"?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:M("listHint")}),(0,i.jsx)(em,{app:q.app,dir:q.currentDir,filters:q.filters,onOpen:e=>q.openDrawer(q.currentDir.id,e),onDelete:q.handleSingleDelete,selectable:!0,selected:q.selectedIds,onSelectedChange:q.setSelectedIds,canDelete:O("delete"),refreshToken:q.listRefreshToken})]}):(0,i.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:M("emptyDirHint")}),fieldsSlot:q.currentDir?(0,i.jsx)(lt,{app:q.app,dir:q.currentDir,onChange:e=>{if(!O("edit")){L({description:"当前角色无权编辑字段",variant:"destructive"});return}let l=structuredClone(q.app);l&&(Object.assign(aI(l,e.id),e),q.persist(l),q.moduleId&&(null==e?void 0:e.fields)&&q.updateDirectoryFields(q.moduleId,e.id,e.fields))},onAddField:q.quickOpenAddField}):null})]})]}),!eO&&(0,i.jsx)(ap,{currentDir:q.currentDir,records:q.records,app:q.app,open:q.drawer.open,state:q.drawer,onClose:()=>q.closeDrawer(),onSave:q.saveRecord}),(0,i.jsx)(af,{open:q.renameModuleOpen,onOpenChange:q.setRenameModuleOpen,title:"模块名",label:"名称",initialValue:q.renameModuleName,canEdit:O("edit"),onSave:e=>q.handleRenameModule(e)}),(0,i.jsx)(af,{open:q.renameDirOpen,onOpenChange:q.setRenameDirOpen,title:"目录名",label:"名称",initialValue:q.renameDirName,canEdit:O("edit"),onSave:e=>q.handleRenameDir(e)}),(0,i.jsx)(eU,{open:q.openCategory,onOpenChange:q.setOpenCategory,initialCats:(null===(w=q.currentDir)||void 0===w?void 0:w.categories)||[],canEdit:O("edit"),onSave:q.handleSaveCategories,i18n:"zh"===F?{title:"配置三级内容分类",l1:"一级分类",l2:"二级分类",l3:"三级分类",selectL1:"选择一级分类",selectL2:"选择二级分类",selectL3:"选择三级分类（可选）",none:"未选择",add:"添加",save:"保存",cancel:"取消",preview:"预览：",delete:"删除",confirmDelete:"确认删除内容分类"}:{title:"Configure 3-level Content Categories",l1:"Level 1",l2:"Level 2",l3:"Level 3",selectL1:"Select Level 1",selectL2:"Select Level 2",selectL3:"Select Level 3 (optional)",none:"None",add:"Add",save:"Save",cancel:"Cancel",preview:"Preview:",delete:"Delete",confirmDelete:"Confirm delete content category"}}),(0,i.jsx)(e1,{open:q.openAddField,onOpenChange:q.setOpenAddField,app:q.app,canEdit:O("edit"),existingKeys:(null===(k=q.currentDir)||void 0===k?void 0:k.fields.map(e=>e.key))||[],onSubmit:function(e){var l,a;let i;let t=q.app,s=q.currentDir;if(!t||!s)return;let n=e.key.trim(),r=e.label.trim()||"新字段";if(!/^[a-zA-Z_][a-zA-Z0-9_]{0,39}$/.test(n)||s.fields.some(e=>e.key===n))return;"select"===e.type&&(i=e.defaultRaw||(null!==(a=null===(l=e.options)||void 0===l?void 0:l[0])&&void 0!==a?a:"")),"multiselect"===e.type&&(i=e.defaultRaw?e.defaultRaw.split(",").map(e=>e.trim()).filter(Boolean):[]),("boolean"===e.type||"checkbox"===e.type)&&(i="true"===e.defaultRaw||"false"!==e.defaultRaw&&void 0);let d={id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),key:n,label:r,type:e.type,required:e.required,unique:e.unique,locked:!1,enabled:!0,showInList:e.showInList,showInForm:!0,showInDetail:!0,preset:e.preset,categoryId:e.categoryId,...e.options?{options:Array.from(new Set(e.options.filter(Boolean)))}:{},...void 0!==i?{default:i}:{},...e.dateMode?{dateMode:e.dateMode}:{},..."cascader"===e.type?{cascaderOptions:e.cascaderOptions||[]}:{},...e.skillsConfig?{skillsConfig:e.skillsConfig}:{},...e.progressConfig?{progressConfig:e.progressConfig}:{},...e.customExperienceConfig?{customExperienceConfig:e.customExperienceConfig}:{},...e.certificateConfig?{certificateConfig:e.certificateConfig}:{},...e.identityVerificationConfig?{identityVerificationConfig:e.identityVerificationConfig}:{},...e.otherVerificationConfig?{otherVerificationConfig:e.otherVerificationConfig}:{},...e.imageConfig?{imageConfig:e.imageConfig}:{},...e.videoConfig?{videoConfig:e.videoConfig}:{},...e.booleanConfig?{booleanConfig:e.booleanConfig}:{},...e.multiselectConfig?{multiselectConfig:e.multiselectConfig}:{}};("relation_one"===e.type||"relation_many"===e.type)&&(d.relation={targetDirId:e.relationTargetId||null,mode:"relation_one"===e.type?"one":"many",...e.relationDisplayFieldKey?{displayFieldKey:e.relationDisplayFieldKey}:{}},d.relationBidirectional=e.relationBidirectional||!1,d.relationAllowDuplicate=e.relationAllowDuplicate||!1);let c=structuredClone(q.app);c&&(aI(c,q.currentDir.id).fields.push(d),q.persist(c),q.setOpenAddField(!1),q.setTab("fields"))},currentDir:q.currentDir,i18n:"zh"===F?{title:"添加字段",displayName:"显示名",displayNamePh:"请输入显示名",key:"内部名（唯一）",keyPh:"请输入内部名",keyInvalid:"需以字母或下划线开头，仅含字母数字下划线，≤40字符",keyDuplicate:"内部名已存在",dataType:"数据类型",required:"必填",requiredHint:"表单校验时要求必填",unique:"唯一",uniqueHint:"该字段值不可重复",showInList:"显示在列表",showInListHint:"控制列表是否展示",default:"默认值",none:"无",true:"是",false:"否",optionLabel:"选项",optionPlaceholder:"选项",addOption:"添加选项",optionsHint:"提示：默认值会根据当前选项生成；修改选项后请重新确认默认值。",relationTarget:"关联目标表",cancel:"取消",submit:"添加字段"}:{title:"Add Field",displayName:"Label",displayNamePh:"Enter label",key:"Key (unique)",keyPh:"Enter key",keyInvalid:"Must start with a letter/underscore, only letters/digits/underscore, ≤ 40 chars",keyDuplicate:"Key already exists",dataType:"Data Type",required:"Required",requiredHint:"Enforce required in forms",unique:"Unique",uniqueHint:"Value cannot be duplicated",showInList:"Show in List",showInListHint:"Control visibility in list",default:"Default",none:"None",true:"True",false:"False",optionLabel:"Options",optionPlaceholder:"Option",addOption:"Add option",optionsHint:"Tip: default value depends on options; re-verify after changes.",relationTarget:"Relation Target Table",cancel:"Cancel",submit:"Add Field"},typeNames:eT}),(0,i.jsx)(ay.v,{open:q.openAddModule,onOpenChange:q.setOpenAddModule,mode:"module",title:M("addModule"),nameLabel:M("renameModule"),namePlaceholder:M("renameModule"),submitText:"zh"===F?"创建模块":"Create Module",cancelText:"zh"===F?"取消":"Cancel",templateLabel:"zh"===F?"选择模块模板":"Choose Module Template",showIconUpload:!0,iconLabel:"zh"===F?"模块图标":"Module Icon",options:[{key:"blank-template",label:M("module_custom")},{key:"edu",label:M("module_edu")},{key:"rec",label:M("module_rec")}],defaultOptionKey:"blank-template",onSubmit:e=>q.handleCreateModuleFromDialog(e)}),(0,i.jsx)(ay.v,{open:q.openAddDir,onOpenChange:q.setOpenAddDir,mode:"directory",title:M("addDir"),nameLabel:M("renameDir"),namePlaceholder:M("newDirNamePlaceholder"),submitText:"zh"===F?"创建目录":"Create Directory",cancelText:"zh"===F?"取消":"Cancel",templateLabel:M("chooseTableTpl"),options:[{key:"custom",label:"zh"===F?"自定义表":"Custom Table"},{key:"ecom-product",label:"zh"===F?"商品管理（电商）":"Product Management (E-commerce)"},{key:"ecom-order",label:"zh"===F?"订单管理（电商）":"Order Management (E-commerce)"},{key:"ecom-logistics",label:"zh"===F?"物流管理（电商）":"Logistics Management (E-commerce)"},{key:"edu-teacher",label:"zh"===F?"老师表（教育）":"Teacher Table (Education)"},{key:"common-people",label:"zh"===F?"人员表（通用）":"People Table (General)"},{key:"dict-brand",label:"zh"===F?"品牌字典（通用）":"Brand Dictionary (General)"}],defaultOptionKey:"custom",onSubmit:e=>q.handleCreateDirectoryFromDialog(e)}),(0,i.jsx)(aj,{open:q.openCategorySelection,onOpenChange:q.setOpenCategorySelection,categories:(null===(z=q.currentDir)||void 0===z?void 0:z.categories)||[],onConfirm:e=>q.createRecordWithCategory(e),title:"zh"===F?"选择内容分类":"Select Content Category"}),(0,i.jsx)(aS.O,{open:ev,onOpenChange:eb,appId:String(D.appId),lang:"zh"===F?"zh":"en",dirId:null===(S=q.currentDir)||void 0===S?void 0:S.id,dirName:null===(A=q.currentDir)||void 0===A?void 0:A.name,dirFields:null===(I=q.currentDir)||void 0===I?void 0:I.fields}),(0,i.jsx)(az,{open:ee,onOpenChange:ea,module:en,type:"config",onConfirm:async e=>{try{let{__moduleName:a,__icon:i,...t}=e||{};en&&await V(en.moduleKey||en.key||en.name,{...t,moduleName:"string"==typeof a&&a.trim()?a.trim():void 0,icon:"string"==typeof i&&i?i:void 0});try{var l;await (null===(l=q.refresh)||void 0===l?void 0:l.call(q))}catch(e){}L({description:"zh"===F?"配置已保存":"Configuration saved"})}catch(e){console.error("配置保存失败:",e),L({description:"zh"===F?"配置保存失败":"Save failed",variant:"destructive"})}}}),(0,i.jsx)(az,{open:ei,onOpenChange:et,module:en,type:"uninstall",onConfirm:async()=>{if(en)try{await R(en.id||en.moduleKey||en.key||en.name,!1),L({title:"zh"===F?"卸载成功":"Uninstall Success",description:"zh"===F?"模块已卸载":"Module uninstalled"}),et(!1),eu(null);try{await q.refresh()}catch(e){console.warn("刷新模块列表失败:",e)}}catch(e){console.error("卸载模块失败:",e),L({title:"zh"===F?"卸载失败":"Uninstall Failed",description:"zh"===F?"模块卸载失败，请重试":"Module uninstall failed, please try again",variant:"destructive"})}}}),eh&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,i.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"zh"===F?"确认删除":"Confirm Delete"})]}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:"zh"===F?"您确定要删除这个已保存的模块吗？此操作无法撤销。":"Are you sure you want to delete this saved module? This action cannot be undone."}),(0,i.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,i.jsx)("button",{onClick:()=>{ex(!1),ep(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"zh"===F?"取消":"Cancel"}),(0,i.jsx)("button",{onClick:eF,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"zh"===F?"删除":"Delete"})]})]})}),ef&&ey&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,i.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"zh"===F?"确认安装模块":"Confirm Install Module"})]}),(0,i.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:ey.title}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:ey.description||"模块描述"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,i.jsxs)("span",{children:["ID: ",ey.id]}),(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{children:"zh"===F?"保存时间: ".concat(new Date(ey.createdAt).toLocaleString("zh-CN")):"Saved: ".concat(new Date(ey.createdAt).toLocaleString())})]})]})]})}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"zh"===F?"您确定要安装这个模块吗？安装后该模块将添加到您的应用中。":"Are you sure you want to install this module? It will be added to your application after installation."}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"zh"===F?"模块名称":"Module Name"}),(0,i.jsx)("input",{type:"text",value:eC,onChange:e=>ew(e.target.value),placeholder:"zh"===F?"请输入模块名称":"Enter module name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",disabled:ek})]}),Object.keys(eS).length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"zh"===F?"表名称映射（可修改）":"Table Name Mapping (editable)"}),(0,i.jsx)("div",{className:"space-y-3 max-h-60 overflow-auto pr-1",children:Object.entries(eS).map(e=>{let[l,a]=e;return(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500 min-w-[140px] truncate",title:l,children:l}),(0,i.jsx)("span",{className:"text-gray-400",children:"→"}),(0,i.jsx)("input",{type:"text",value:a,onChange:e=>eA(a=>({...a,[l]:e.target.value})),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",placeholder:l,disabled:ek})]},l)})})]}),(0,i.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,i.jsx)("button",{onClick:()=>{ej(!1),eN(null),ew(""),eA({})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:ek,children:"zh"===F?"取消":"Cancel"}),(0,i.jsxs)("button",{onClick:eL,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",disabled:ek||!eC.trim(),children:[ek&&(0,i.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),ek?"zh"===F?"安装中...":"Installing...":"zh"===F?"确认安装":"Confirm Install"]})]})]})})]})}function aI(e,l){for(let a of e.modules){let e=a.directories.find(e=>e.id===l);if(e)return e}throw Error("dir not found")}},62729:(e,l,a)=>{Promise.resolve().then(a.bind(a,47124))},69804:(e,l,a)=>{"use strict";a.r(l),a.d(l,{getSkillById:()=>s,getSkillsByCategory:()=>n,getSkillsByIds:()=>r,skillCategories:()=>t,skillsData:()=>i});let i=[{id:"skill_1",name:"Vue.js",category:"技术",level:"中级",description:"渐进式JavaScript框架，用于构建用户界面",relatedSkills:["skill_2","skill_3"]},{id:"skill_2",name:"React",category:"技术",level:"中级",description:"用于构建用户界面的JavaScript库",relatedSkills:["skill_1","skill_3"]},{id:"skill_3",name:"JavaScript",category:"技术",level:"中级",description:"动态编程语言，主要用于Web开发",relatedSkills:["skill_1","skill_2"]},{id:"skill_4",name:"Python",category:"技术",level:"中级",description:"高级编程语言，广泛用于数据科学和Web开发",relatedSkills:[]},{id:"skill_5",name:"Java",category:"技术",level:"高级",description:"面向对象编程语言，企业级应用开发",relatedSkills:[]},{id:"skill_6",name:"Node.js",category:"技术",level:"中级",description:"基于Chrome V8引擎的JavaScript运行环境",relatedSkills:["skill_3"]},{id:"skill_7",name:"UI设计",category:"设计",level:"中级",description:"用户界面设计，关注视觉效果和用户体验",relatedSkills:["skill_8"]},{id:"skill_8",name:"UX设计",category:"设计",level:"中级",description:"用户体验设计，关注用户需求和交互流程",relatedSkills:["skill_7"]},{id:"skill_9",name:"Photoshop",category:"设计",level:"初级",description:"图像处理和编辑软件",relatedSkills:["skill_10"]},{id:"skill_10",name:"Figma",category:"设计",level:"中级",description:"协作式界面设计工具",relatedSkills:["skill_7","skill_8"]},{id:"skill_13",name:"项目管理",category:"管理",level:"高级",description:"规划、执行和监控项目的全过程管理",relatedSkills:["skill_14"]},{id:"skill_14",name:"团队管理",category:"管理",level:"高级",description:"领导和管理团队，提升团队效率",relatedSkills:["skill_13"]},{id:"skill_15",name:"英语",category:"语言",level:"中级",description:"国际通用语言，商务和技术交流",relatedSkills:[]},{id:"skill_16",name:"日语",category:"语言",level:"初级",description:"日本语言，适用于日企工作",relatedSkills:[]}],t=[{id:"tech",name:"技术",children:[{id:"frontend",name:"前端"},{id:"backend",name:"后端"},{id:"mobile",name:"移动端"},{id:"database",name:"数据库"}]},{id:"design",name:"设计",children:[{id:"ui",name:"UI设计"},{id:"ux",name:"UX设计"},{id:"graphic",name:"平面设计"}]},{id:"management",name:"管理",children:[{id:"project",name:"项目管理"},{id:"team",name:"团队管理"},{id:"product",name:"产品管理"}]}];function s(e){return i.find(l=>l.id===e)}function n(e){return i.filter(l=>l.category===e)}function r(e){return i.filter(l=>e.includes(l.id))}},83071:(e,l,a)=>{"use strict";a.d(l,{$:()=>n});var i=a(10640),t=a(91650),s=a(6712);function n(e){let{applicationId:l}=e,{toast:a}=(0,s.dj)(),[n,r]=(0,i.useState)(!1),d=(0,i.useCallback)(async e=>{r(!0);try{let a=await t.api.modules.getInstalledModules({applicationId:l,...e});if(a.success)return a.data;throw Error(a.error||"获取模块列表失败")}catch(e){throw a({title:"获取模块列表失败",description:e instanceof Error?e.message:"获取模块列表失败",variant:"destructive"}),e}finally{r(!1)}},[l,a]),c=(0,i.useCallback)(async e=>{r(!0);try{let i=await t.api.modules.installModule(l,e);if(i.success)return a({title:"模块安装成功",description:"模块 ".concat(e.moduleKey," 已成功安装")}),i.data;throw Error(i.error||"模块安装失败")}catch(e){throw a({title:"模块安装失败",description:e instanceof Error?e.message:"模块安装失败",variant:"destructive"}),e}finally{r(!1)}},[l,a]),o=(0,i.useCallback)(async function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(!0);try{let s=await t.api.modules.uninstallModule(l,e,{keepData:i});if(s.success)return a({title:"模块卸载成功",description:"模块 ".concat(e," 已成功卸载")}),s.data;throw Error(s.error||"模块卸载失败")}catch(e){throw a({title:"模块卸载失败",description:e instanceof Error?e.message:"模块卸载失败",variant:"destructive"}),e}finally{r(!1)}},[l,a]),u=(0,i.useCallback)(async(e,i)=>{r(!0);try{let s=await t.api.modules.updateModuleConfig(l,e,i);if(s.success)return a({title:"配置更新成功",description:"模块 ".concat(e," 的配置已更新")}),s.data;throw Error(s.error||"配置更新失败")}catch(e){throw a({title:"配置更新失败",description:e instanceof Error?e.message:"配置更新失败",variant:"destructive"}),e}finally{r(!1)}},[l,a]),v=(0,i.useCallback)(async(e,i)=>{r(!0);try{let s=await t.api.modules.updateModuleStatus(l,e,i);if(s.success)return a({title:"状态更新成功",description:"模块 ".concat(e," 的状态已更新为 ").concat(i)}),s.data;throw Error(s.error||"状态更新失败")}catch(e){throw a({title:"状态更新失败",description:e instanceof Error?e.message:"状态更新失败",variant:"destructive"}),e}finally{r(!1)}},[l,a]);return{isLoading:n,getInstalledModules:d,installModule:c,uninstallModule:o,updateModuleConfig:u,updateModuleStatus:v,getAvailableModules:(0,i.useCallback)(async()=>{r(!0);try{let e=await t.api.modules.getAvailableModules();if(e.success)return e.data;throw Error(e.error||"获取可用模块失败")}catch(e){throw a({title:"获取可用模块失败",description:e instanceof Error?e.message:"获取可用模块失败",variant:"destructive"}),e}finally{r(!1)}},[a]),getModuleStats:(0,i.useCallback)(async()=>{r(!0);try{let e=await t.api.modules.getModuleStats(l);if(e.success)return e.data;throw Error(e.error||"获取模块统计失败")}catch(e){throw a({title:"获取模块统计失败",description:e instanceof Error?e.message:"获取模块统计失败",variant:"destructive"}),e}finally{r(!1)}},[l,a])}}}},e=>{var l=l=>e(e.s=l);e.O(0,[2189,2144,4243,926,5275,7768,5880,516,4177,3775,1650,6084,3294,9777,1538,1822,9598,200,8380,1139,7358],()=>l(62729)),_N_E=e.O()}]);