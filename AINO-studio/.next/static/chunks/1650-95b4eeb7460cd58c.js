"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1650],{91650:(e,t,a)=>{async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("aino_token");a||(a="test-token");let o={headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)},...t.headers},...t};try{let t;let a=await fetch("".concat("http://47.94.52.142:3007").concat(e),o),n=a.headers.get("content-type");if(n&&n.includes("application/json"))t=await a.json();else{let e=await a.text();try{t=JSON.parse(e)}catch(a){t={error:e}}}if(a.ok)return t;{console.error("❌ HTTP Error: ".concat(a.status),t);let e=t.error||t.message||"HTTP ".concat(a.status);if(t.details&&"object"==typeof t.details){let a=Object.entries(t.details).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(a)}).join(", ");e+=" (".concat(a,")")}let o=Error(e);throw o.details=t.details,o.originalData=t,o}}catch(a){throw console.error("❌ API Error:",a),console.error("❌ Error Details:",{message:a instanceof Error?a.message:"Unknown error",stack:a instanceof Error?a.stack:void 0,endpoint:e,method:t.method||"GET",status:a instanceof Error&&a.status?a.status:void 0,details:a instanceof Error&&a.details?a.details:void 0,originalData:a instanceof Error&&a.originalData?a.originalData:void 0}),a}}a.d(t,{BW:()=>n,api:()=>i});let n={async getFieldCategories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/field-categories".concat(a?"?".concat(a):""))},async createFieldCategory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let n=a.toString();return o("/api/field-categories".concat(n?"?".concat(n):""),{method:"POST",body:JSON.stringify(e)})},updateFieldCategory:async(e,t)=>o("/api/field-categories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteFieldCategory:async e=>o("/api/field-categories/".concat(e),{method:"DELETE"}),getFieldCategory:async e=>o("/api/field-categories/".concat(e))},i={auth:{login:async e=>o("/api/users/login",{method:"POST",body:JSON.stringify(e)}),register:async e=>o("/api/users/register",{method:"POST",body:JSON.stringify(e)}),getCurrentUser:async()=>o("/api/users/me"),updateCurrentUser:async e=>o("/api/users/me",{method:"PATCH",body:JSON.stringify(e)})},applications:{async getApplications(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/applications".concat(a?"?".concat(a):""))},createApplication:async e=>o("/api/applications",{method:"POST",body:JSON.stringify(e)}),getApplication:async e=>o("/api/applications/".concat(e)),updateApplication:async(e,t)=>o("/api/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteApplication:async e=>o("/api/applications/".concat(e),{method:"DELETE"}),getApplicationModules:async e=>o("/api/applications/".concat(e,"/modules"))},applicationUsers:{loginUser:async(e,t)=>o("/api/modules/system/user/login?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),changePassword:async(e,t)=>o("/api/modules/system/user/change-password?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),async getApplicationUsers(e,t){let a=new URLSearchParams;(null==t?void 0:t.page)&&a.append("page",t.page.toString()),(null==t?void 0:t.limit)&&a.append("limit",t.limit.toString()),(null==t?void 0:t.search)&&a.append("search",t.search),(null==t?void 0:t.status)&&a.append("status",t.status),(null==t?void 0:t.role)&&a.append("role",t.role),(null==t?void 0:t.department)&&a.append("department",t.department),(null==t?void 0:t.sortBy)&&a.append("sortBy",t.sortBy),(null==t?void 0:t.sortOrder)&&a.append("sortOrder",t.sortOrder);let n=a.toString();return o("/api/modules/system/user?applicationId=".concat(e).concat(n?"&".concat(n):""))},createApplicationUser:async(e,t)=>o("/api/modules/system/user?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),registerUser:async(e,t)=>o("/api/modules/system/user/register?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),getApplicationUser:async(e,t)=>o("/api/modules/system/user/".concat(t,"?applicationId=").concat(e)),updateApplicationUser:async(e,t,a)=>o("/api/modules/system/user/".concat(t,"?applicationId=").concat(e),{method:"PUT",body:JSON.stringify(a)}),deleteApplicationUser:async(e,t)=>o("/api/modules/system/user/".concat(t,"?applicationId=").concat(e),{method:"DELETE"})},directories:{async getDirectories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/directories".concat(a?"?".concat(a):""))},async createDirectory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let n=a.toString();return o("/api/directories".concat(n?"?".concat(n):""),{method:"POST",body:JSON.stringify(e)})},updateDirectory:async(e,t)=>o("/api/directories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteDirectory:async e=>o("/api/directories/".concat(e),{method:"DELETE"}),getDirectory:async e=>o("/api/directories/".concat(e))},directoryDefs:{async getDirectoryDefs(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/directory-defs".concat(a?"?".concat(a):""))},getDirectoryDef:async e=>o("/api/directory-defs/".concat(e)),getDirectoryDefBySlug:async e=>o("/api/directory-defs/slug/".concat(e)),createDirectoryDef:async e=>o("/api/directory-defs",{method:"POST",body:JSON.stringify(e)}),updateDirectoryDef:async(e,t)=>o("/api/directory-defs/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),deleteDirectoryDef:async e=>o("/api/directory-defs/".concat(e),{method:"DELETE"}),getOrCreateDirectoryDefByDirectoryId:async(e,t)=>o("/api/directory-defs/by-directory/".concat(e),{method:"POST",body:JSON.stringify({applicationId:t})})},fieldCategories:n,recordCategories:{async getRecordCategories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/record-categories".concat(a?"?".concat(a):""))},async createRecordCategory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let n=a.toString();return o("/api/record-categories".concat(n?"?".concat(n):""),{method:"POST",body:JSON.stringify(e)})},updateRecordCategory:async(e,t)=>o("/api/record-categories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteRecordCategory:async e=>o("/api/record-categories/".concat(e),{method:"DELETE"}),getRecordCategory:async e=>o("/api/record-categories/".concat(e))},fields:{async getFields(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/field-defs".concat(a?"?".concat(a):""))},createField:async e=>o("/api/field-defs",{method:"POST",body:JSON.stringify(e)}),updateField:async(e,t)=>o("/api/field-defs/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),deleteField:async e=>o("/api/field-defs/".concat(e),{method:"DELETE"}),getField:async e=>o("/api/field-defs/".concat(e))},records:{async listRecords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URLSearchParams;Object.entries({page:t.page,limit:t.pageSize,sort:t.sort,fields:t.fields,filter:t.filter}).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let n=a.toString();return o("/api/records/".concat(e).concat(n?"?".concat(n):""))},getRecord:async(e,t)=>o("/api/records/".concat(e,"/").concat(t)),createRecord:async(e,t)=>o("/api/records/".concat(e),{method:"POST",body:JSON.stringify(t)}),updateRecord:async(e,t,a)=>o("/api/records/".concat(e,"/").concat(t),{method:"PATCH",body:JSON.stringify(a)}),deleteRecord:async(e,t)=>o("/api/records/".concat(e,"/").concat(t),{method:"DELETE"}),bulkDeleteRecords:async(e,t)=>o("/api/records/".concat(e,"/batch"),{method:"DELETE",body:JSON.stringify({recordIds:t})})},relations:{createRelation:async e=>o("/api/relations",{method:"POST",body:JSON.stringify(e)}),getRelation:async e=>o("/api/relations/".concat(e)),async queryRelations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return e.tenantId&&t.append("tenantId",e.tenantId),e.fromUrn&&t.append("fromUrn",e.fromUrn),e.toUrn&&t.append("toUrn",e.toUrn),e.type&&t.append("type",e.type),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),o("/api/relations?".concat(t.toString()))},updateRelation:async(e,t)=>o("/api/relations/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteRelation:async e=>o("/api/relations/".concat(e),{method:"DELETE"}),getRelationsByUrn:async e=>o("/api/relations/urn/".concat(encodeURIComponent(e)))},modules:{async getInstalledModules(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return o("/api/modules/installed".concat(a?"?".concat(a):""))},getModuleDetail:async(e,t)=>o("/api/modules/installed/".concat(encodeURIComponent(t),"?applicationId=").concat(e)),installModule:async(e,t)=>o("/api/modules/install?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),async uninstallModule(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o("/api/modules/uninstall/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"DELETE",body:JSON.stringify(a)})},async updateModuleConfig(e,t,a){let n={};return a&&"object"==typeof a&&(void 0!==a.config?n.config=a.config:n.config={...a},"string"==typeof a.moduleName&&(n.moduleName=a.moduleName),"string"==typeof a.icon&&(n.icon=a.icon),n.moduleKey=t),o("/api/modules/config/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"PUT",body:JSON.stringify(n)})},installModuleSimple:async(e,t)=>o("/api/modules/simple/install?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),getInstalledModulesSimple:async e=>o("/api/modules/simple/installed?applicationId=".concat(e)),updateModuleStatus:async(e,t,a)=>o("/api/modules/status/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"PATCH",body:JSON.stringify({status:a})}),checkModuleDependencies:async(e,t)=>o("/api/modules/dependencies/".concat(encodeURIComponent(t),"?applicationId=").concat(e)),getModuleStats:async e=>o("/api/modules/stats?applicationId=".concat(e)),getAvailableModules:async()=>o("/api/modules/available"),initializeSystemModules:async e=>o("/api/modules/initialize-system?applicationId=".concat(e),{method:"POST"}),getCardConfigs:async()=>o("/api/modules/card-configs")}}}}]);