"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9777],{287:(e,s,a)=>{a.d(s,{KK:()=>c,VU:()=>l,XA:()=>r,rj:()=>n});var i=a(74364),t=a(11915);function n(e){let{className:s,children:a}=e;return(0,i.jsxs)("div",{className:(0,t.cn)("rounded-2xl border border-white/20 bg-white/20 backdrop-blur-xl","shadow-[0_4px_20px_rgba(31,38,135,0.12)] ring-1 ring-black/5","bg-[linear-gradient(135deg,rgba(255,255,255,0.4),rgba(255,255,255,0.15))]","before:pointer-events-none before:content-[''] before:absolute before:inset-0 before:rounded-2xl","before:[background:radial-gradient(800px_300px_at_-10%_-20%,rgba(255,255,255,0.25),transparent)]","relative overflow-hidden p-6",s),children:[(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-2xl [box-shadow:inset_0_1px_0_0_rgba(255,255,255,0.7)]"}),a]})}function r(e){let{className:s,children:a}=e;return(0,i.jsxs)("div",{className:(0,t.cn)("rounded-3xl border border-white/40 bg-white/35 backdrop-blur-xl","shadow-[0_6px_24px_rgba(31,38,135,0.16)] ring-1 ring-black/5 relative","min-h-[400px]",s),children:[(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-3xl [box-shadow:inset_0_1px_0_0_rgba(255,255,255,0.75)]"}),a]})}function l(e){let{className:s,children:a}=e;return(0,i.jsx)("div",{className:(0,t.cn)("flex flex-col items-center justify-between w-[76px] rounded-3xl","bg-[rgba(18,19,22,0.92)] text-white p-2 border border-white/10","shadow-[0_20px_48px_rgba(0,0,0,0.35)] ring-1 ring-black/40",s),children:a})}function c(e){let{active:s,children:a,onClick:n,title:r}=e;return(0,i.jsx)("button",{type:"button",title:r,onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("[v0] IconTile clicked",{title:r,onClick:!!n}),null==n||n()},className:(0,t.cn)("w-11 h-11 rounded-2xl grid place-items-center transition cursor-pointer","bg-white/10 hover:bg-white/20 border border-white/10","shadow-[inset_0_1px_0_rgba(255,255,255,0.25),0_8px_18px_rgba(0,0,0,0.25)]","focus:outline-none focus:ring-2 focus:ring-sky-300/60 focus:bg-white/25","disabled:opacity-50 disabled:cursor-not-allowed",s&&"bg-white/25 ring-2 ring-sky-300/60"),disabled:!n,children:a})}},11331:(e,s,a)=>{a.d(s,{BK:()=>l,eu:()=>r,q5:()=>c});var i=a(74364);a(10640);var t=a(98386),n=a(11915);function r(e){let{className:s,...a}=e;return(0,i.jsx)(t.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function l(e){let{className:s,...a}=e;return(0,i.jsx)(t._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",s),...a})}function c(e){let{className:s,...a}=e;return(0,i.jsx)(t.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}},22167:(e,s,a)=>{a.d(s,{U:()=>x});var i=a(74364),t=a(287),n=a(5660),r=a(46638),l=a(1923),c=a(78476),d=a(22780),o=a(47796),m=a(49592),h=a(73475);function x(e){let{activeSection:s,onSectionChange:a}=e,{locale:x}=(0,h.Y)();return(0,i.jsx)(t.rj,{className:"w-64 h-fit",children:(0,i.jsx)("div",{className:"space-y-2",children:[{id:"personal",label:"zh"===x?"个人信息":"Personal Info",icon:r.A},{id:"team",label:"zh"===x?"团队管理":"Team Management",icon:l.A},{id:"auth",label:"zh"===x?"授权管理":"Authorization",icon:c.A},{id:"api-keys",label:"zh"===x?"API 密钥":"API Keys",icon:d.A},{id:"notifications",label:"zh"===x?"通知":"Notifications",icon:o.A},{id:"settings",label:"zh"===x?"通用设置":"General Settings",icon:m.A}].map(e=>{let t=e.icon;return(0,i.jsxs)(n.$,{variant:s===e.id?"default":"ghost",className:"w-full justify-start h-9 ".concat(s===e.id?"bg-white/80 text-slate-900 shadow-sm":"text-slate-700 hover:bg-white/50"),onClick:()=>a(e.id),children:[(0,i.jsx)(t,{className:"size-4 mr-3"}),e.label]},e.id)})})})}},41855:(e,s,a)=>{a.d(s,{H:()=>ex});var i=a(74364),t=a(10640),n=a(287),r=a(5660),l=a(74688),c=a(56318),d=a(76572),o=a(88224),m=a(47255),h=a(54356),x=a(95727),p=a(11915);function j(e){let{...s}=e;return(0,i.jsx)(x.bL,{"data-slot":"alert-dialog",...s})}function u(e){let{...s}=e;return(0,i.jsx)(x.l9,{"data-slot":"alert-dialog-trigger",...s})}function g(e){let{...s}=e;return(0,i.jsx)(x.ZL,{"data-slot":"alert-dialog-portal",...s})}function v(e){let{className:s,...a}=e;return(0,i.jsx)(x.hJ,{"data-slot":"alert-dialog-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function f(e){let{className:s,...a}=e;return(0,i.jsxs)(g,{children:[(0,i.jsx)(v,{}),(0,i.jsx)(x.UC,{"data-slot":"alert-dialog-content",className:(0,p.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a})]})}function z(e){let{className:s,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,p.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function N(e){let{className:s,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,p.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function b(e){let{className:s,...a}=e;return(0,i.jsx)(x.hE,{"data-slot":"alert-dialog-title",className:(0,p.cn)("text-lg font-semibold",s),...a})}function y(e){let{className:s,...a}=e;return(0,i.jsx)(x.VY,{"data-slot":"alert-dialog-description",className:(0,p.cn)("text-muted-foreground text-sm",s),...a})}function w(e){let{className:s,...a}=e;return(0,i.jsx)(x.rc,{className:(0,p.cn)((0,r.r)(),s),...a})}function C(e){let{className:s,...a}=e;return(0,i.jsx)(x.ZD,{className:(0,p.cn)((0,r.r)({variant:"outline"}),s),...a})}var A=a(97173),k=a(11331),S=a(25646),I=a(2305),E=a(67320),P=a(4002),M=a(64565),D=a(23573),_=a(23315),$=a(49592),T=a(25589),K=a(6712),J=a(73475),R=a(97428),O=a(69494);function U(e){let{open:s,onOpenChange:a,roles:n,departments:o}=e,{toast:m}=(0,K.dj)(),{locale:x}=(0,J.Y)(),[p,j]=(0,t.useState)(""),[u,g]=(0,t.useState)(""),[v,f]=(0,t.useState)(""),[z,N]=(0,t.useState)("");return(0,i.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,i.jsxs)(h.Cf,{"aria-describedby":"invite-member-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsxs)(h.L3,{className:"flex items-center gap-2",children:[(0,i.jsx)(I.A,{className:"size-5"}),"zh"===x?"邀请团队成员":"Invite Team Member"]}),(0,i.jsx)(h.rr,{id:"invite-member-description",children:"zh"===x?"邀请新成员加入您的团队":"Invite new members to join your team"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"邮箱地址 *":"Email Address *"}),(0,i.jsx)(l.p,{placeholder:"zh"===x?"输入邮箱地址":"Enter email address",value:p,onChange:e=>j(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"角色 *":"Role *"}),(0,i.jsxs)(d.l6,{value:u,onValueChange:g,children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{placeholder:"zh"===x?"选择角色":"Select role"})}),(0,i.jsx)(d.gC,{children:n.map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"部门":"Department"}),(0,i.jsxs)(d.l6,{value:v,onValueChange:f,children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{placeholder:"zh"===x?"选择部门":"Select department"})}),(0,i.jsx)(d.gC,{children:o.map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"邀请消息（可选）":"Invitation Message (Optional)"}),(0,i.jsx)(O.T,{placeholder:"zh"===x?"添加个人消息...":"Add personal message...",value:z,onChange:e=>N(e.target.value)})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>a(!1),children:"zh"===x?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{if(!p||!u){m({description:"zh"===x?"请填写必填字段":"Please fill in required fields",variant:"destructive"});return}a(!1),m({description:"zh"===x?"邀请已发送":"Invitation sent"}),j(""),g(""),f(""),N("")},children:"zh"===x?"发送邀请":"Send Invitation"})]})]})})}function L(e){let{open:s,onOpenChange:a,permissions:n,onAddRole:d}=e,{toast:o}=(0,K.dj)(),{locale:x}=(0,J.Y)(),[p,j]=(0,t.useState)(""),[u,g]=(0,t.useState)(""),[v,f]=(0,t.useState)([]),z=e=>{f(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},N=n.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return(0,i.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,i.jsxs)(h.Cf,{className:"max-w-2xl","aria-describedby":"add-role-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsxs)(h.L3,{className:"flex items-center gap-2",children:[(0,i.jsx)(M.A,{className:"size-5"}),"zh"===x?"添加角色":"Add Role"]}),(0,i.jsx)(h.rr,{id:"add-role-description",children:"zh"===x?"创建新的角色并配置权限":"Create a new role and configure permissions"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"角色名称 *":"Role Name *"}),(0,i.jsx)(l.p,{placeholder:"zh"===x?"输入角色名称":"Enter role name",value:p,onChange:e=>j(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"角色描述":"Role Description"}),(0,i.jsx)(l.p,{placeholder:"zh"===x?"输入角色描述":"Enter role description",value:u,onChange:e=>g(e.target.value)})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(c.J,{children:"zh"===x?"权限配置":"Permission Configuration"}),(0,i.jsx)("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:Object.entries(N).map(e=>{let[s,a]=e;return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"font-medium text-sm text-slate-700",children:s}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.map(e=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(m.S,{id:e.id,checked:v.includes(e.id),onCheckedChange:()=>z(e.id)}),(0,i.jsx)(c.J,{htmlFor:e.id,className:"text-sm",children:"查看"===e.name?"zh"===x?"查看":"View":"创建"===e.name?"zh"===x?"创建":"Create":"编辑"===e.name?"zh"===x?"编辑":"Edit":"删除"===e.name?"zh"===x?"删除":"Delete":"用户管理"===e.name?"zh"===x?"用户管理":"User Management":"角色管理"===e.name?"zh"===x?"角色管理":"Role Management":"系统设置"===e.name?"zh"===x?"系统设置":"System Settings":"数据导出"===e.name?"zh"===x?"数据导出":"Data Export":"API访问"===e.name?"zh"===x?"API访问":"API Access":e.name})]},e.id))})]},s)})})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>a(!1),children:"zh"===x?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{if(!p.trim()){o({description:"zh"===x?"请输入角色名称":"Please enter role name",variant:"destructive"});return}d({name:p.trim(),description:u.trim(),permissions:v}),a(!1),j(""),g(""),f([])},children:"zh"===x?"创建角色":"Create Role"})]})]})})}function F(e){let{open:s,onOpenChange:a,members:n,onAddDepartment:o}=e,{toast:m}=(0,K.dj)(),{locale:x}=(0,J.Y)(),[p,j]=(0,t.useState)(""),[u,g]=(0,t.useState)(""),[v,f]=(0,t.useState)("");return(0,i.jsx)(h.lG,{open:s,onOpenChange:a,children:(0,i.jsxs)(h.Cf,{"aria-describedby":"add-department-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsxs)(h.L3,{className:"flex items-center gap-2",children:[(0,i.jsx)(D.A,{className:"size-5"}),"zh"===x?"添加部门":"Add Department"]}),(0,i.jsx)(h.rr,{id:"add-department-description",children:"zh"===x?"创建新的部门":"Create a new department"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"部门名称 *":"Department Name *"}),(0,i.jsx)(l.p,{placeholder:"zh"===x?"输入部门名称":"Enter department name",value:p,onChange:e=>j(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"部门描述":"Department Description"}),(0,i.jsx)(O.T,{placeholder:"zh"===x?"输入部门描述":"Enter department description",value:u,onChange:e=>g(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===x?"部门负责人（可选）":"Department Leader (Optional)"}),(0,i.jsxs)(d.l6,{value:v,onValueChange:f,children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{placeholder:"zh"===x?"选择负责人":"Select leader"})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"none",children:"zh"===x?"无负责人":"No leader"}),n.map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))]})]})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>a(!1),children:"zh"===x?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{if(!p.trim()){m({description:"zh"===x?"请输入部门名称":"Please enter department name",variant:"destructive"});return}o({name:p.trim(),description:u.trim(),leaderId:v||void 0}),a(!1),j(""),g(""),f("")},children:"zh"===x?"创建部门":"Create Department"})]})]})})}function V(){let{toast:e}=(0,K.dj)(),{locale:s}=(0,J.Y)(),[a,x]=(0,t.useState)("members"),[g,v]=(0,t.useState)(1),[O,V]=(0,t.useState)(1),[q,B]=(0,t.useState)(1),[Z,G]=(0,t.useState)(1),[Y,W]=(0,t.useState)(!1),[X,H]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)(!1),[es,ea]=(0,t.useState)(!1),[ei,et]=(0,t.useState)(!1),[en,er]=(0,t.useState)(!1),[el,ec]=(0,t.useState)(null),[ed,eo]=(0,t.useState)(null),[em,eh]=(0,t.useState)(null),[ex,ep]=(0,t.useState)({name:"",description:"",leaderId:""}),[ej,eu]=(0,t.useState)({name:"",description:"",permissions:[]}),[eg,ev]=(0,t.useState)({role:"",department:""}),[ef,ez]=(0,t.useState)([{id:"1",name:"zh"===s?"技术部":"Technology",description:"zh"===s?"负责产品技术开发和维护":"Responsible for product technology development and maintenance",memberCount:8,leaderId:"1",leaderName:"zh"===s?"张三":"Zhang San",createdAt:"2024-01-01"},{id:"2",name:"zh"===s?"产品部":"Product",description:"zh"===s?"负责产品规划和需求管理":"Responsible for product planning and requirement management",memberCount:5,leaderId:"2",leaderName:"zh"===s?"李四":"Li Si",createdAt:"2024-01-01"}]),[eN,eb]=(0,t.useState)([{id:"1",name:"Owner",email:"owner@example.com",role:"zh"===s?"管理员":"Administrator",department:"zh"===s?"技术部":"Technology",joinDate:"2024-10-04"},{id:"2",name:"Alice",email:"alice@example.com",role:"zh"===s?"编辑者":"Editor",department:"zh"===s?"产品部":"Product",joinDate:"2024-10-05"},{id:"3",name:"Bob",email:"bob@example.com",role:"zh"===s?"查看者":"Viewer",department:"zh"===s?"设计部":"Design",joinDate:"2024-10-06"}]),ey=[{id:"view",name:"zh"===s?"查看":"View",description:"zh"===s?"查看数据和内容":"View data and content",category:"zh"===s?"基础权限":"Basic Permissions"},{id:"create",name:"zh"===s?"创建":"Create",description:"zh"===s?"创建新的数据和内容":"Create new data and content",category:"zh"===s?"基础权限":"Basic Permissions"},{id:"edit",name:"zh"===s?"编辑":"Edit",description:"zh"===s?"编辑现有数据和内容":"Edit existing data and content",category:"zh"===s?"基础权限":"Basic Permissions"},{id:"delete",name:"zh"===s?"删除":"Delete",description:"zh"===s?"删除数据和内容":"Delete data and content",category:"zh"===s?"基础权限":"Basic Permissions"},{id:"manage_users",name:"zh"===s?"用户管理":"User Management",description:"zh"===s?"管理团队成员":"Manage team members",category:"zh"===s?"管理权限":"Management Permissions"},{id:"manage_roles",name:"zh"===s?"角色管理":"Role Management",description:"zh"===s?"管理角色和权限":"Manage roles and permissions",category:"zh"===s?"管理权限":"Management Permissions"},{id:"system_settings",name:"zh"===s?"系统设置":"System Settings",description:"zh"===s?"修改系统配置":"Modify system configuration",category:"zh"===s?"管理权限":"Management Permissions"},{id:"export_data",name:"zh"===s?"数据导出":"Data Export",description:"zh"===s?"导出系统数据":"Export system data",category:"zh"===s?"高级权限":"Advanced Permissions"},{id:"api_access",name:"zh"===s?"API访问":"API Access",description:"zh"===s?"使用API接口":"Use API interfaces",category:"zh"===s?"高级权限":"Advanced Permissions"}],[ew,eC]=(0,t.useState)([{id:"admin",name:"zh"===s?"管理员":"Administrator",description:"zh"===s?"拥有所有权限，可以管理整个系统":"Has all permissions, can manage the entire system",permissions:["view","create","edit","delete","manage_users","manage_roles","system_settings","export_data","api_access"],memberCount:1,isSystem:!0},{id:"editor",name:"zh"===s?"编辑者":"Editor",description:"zh"===s?"可以查看、创建和编辑内容":"Can view, create and edit content",permissions:["view","create","edit","export_data"],memberCount:1,isSystem:!0},{id:"viewer",name:"zh"===s?"查看者":"Viewer",description:"zh"===s?"只能查看内容，无法修改":"Can only view content, cannot modify",permissions:["view"],memberCount:1,isSystem:!0}]),eA=[{id:"1",action:"zh"===s?"创建用户":"Create User",user:"Admin",time:"2024-01-15 14:30",detail:"zh"===s?"创建用户 alice@example.com":"Created user alice@example.com"},{id:"2",action:"zh"===s?"修改权限":"Modify Permissions",user:"Admin",time:"2024-01-15 14:25",detail:"zh"===s?"将 john@example.com 权限修改为编辑者":"Changed john@example.com permissions to Editor"},{id:"3",action:"zh"===s?"删除数据":"Delete Data",user:"Alice",time:"2024-01-15 14:20",detail:"zh"===s?"删除产品记录 #1234":"Deleted product record #1234"}],ek=(0,t.useMemo)(()=>{let e=(g-1)*10;return eN.slice(e,e+10)},[eN,g,10]),eS=(0,t.useMemo)(()=>{let e=(O-1)*10;return ef.slice(e,e+10)},[ef,O,10]),eI=(0,t.useMemo)(()=>{let e=(q-1)*10;return ew.slice(e,e+10)},[ew,q,10]),eE=(0,t.useMemo)(()=>{let e=(Z-1)*10;return eA.slice(e,e+10)},[eA,Z,10]),eP=Math.ceil(eN.length/10),eM=Math.ceil(ef.length/10),eD=Math.ceil(ew.length/10),e_=Math.ceil(eA.length/10),e$=(e,s,a)=>{if(s<=1)return null;let t=e=>{a(Math.max(1,Math.min(e,s)))};return(0,i.jsx)("div",{className:"flex justify-center mt-4",children:(0,i.jsx)(R.dK,{children:(0,i.jsxs)(R.Iu,{children:[(0,i.jsx)(R.cU,{children:(0,i.jsx)(R.Eb,{onClick:()=>t(e-1),className:(0,p.cn)("cursor-pointer",1===e&&"pointer-events-none opacity-50")})}),Array.from({length:s},(e,s)=>s+1).map(s=>(0,i.jsx)(R.cU,{children:(0,i.jsx)(R.n$,{onClick:()=>t(s),isActive:e===s,className:"cursor-pointer",children:s})},s)),(0,i.jsx)(R.cU,{children:(0,i.jsx)(R.WA,{onClick:()=>t(e+1),className:(0,p.cn)("cursor-pointer",e===s&&"pointer-events-none opacity-50")})})]})})})},eT=a=>{ez(ef.filter(e=>e.id!==a)),e({description:"zh"===s?"部门已删除":"Department deleted"})},eK=a=>{let i=ew.find(e=>e.id===a);if(null==i?void 0:i.isSystem){e({description:"zh"===s?"系统角色无法删除":"System role cannot be deleted",variant:"destructive"});return}eC(ew.filter(e=>e.id!==a)),e({description:"zh"===s?"角色已删除":"Role deleted"})},eJ=a=>{eb(eN.filter(e=>e.id!==a)),e({description:"zh"===s?"成员已移除":"Member removed"})},eR=e=>{eu(s=>({...s,permissions:s.permissions.includes(e)?s.permissions.filter(s=>s!==e):[...s.permissions,e]}))},eO=ey.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return(0,i.jsxs)(n.rj,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===s?"团队管理":"Team Management"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===s?"管理团队成员和权限":"Manage team members and permissions"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-sm text-slate-600",children:"zh"===s?"共 ".concat(eN.length," 名成员"):"".concat(eN.length," members")}),(0,i.jsxs)(r.$,{size:"sm",onClick:()=>W(!0),children:[(0,i.jsx)(I.A,{className:"size-4 mr-2"}),"zh"===s?"邀请成员":"Invite Member"]})]})]}),(0,i.jsxs)(o.tU,{value:a,onValueChange:x,children:[(0,i.jsxs)(o.j7,{className:"grid w-full grid-cols-4 bg-slate-100/60 p-1 rounded-xl mb-6",children:[(0,i.jsx)(o.Xi,{value:"members",className:"rounded-lg text-sm data-[state=active]:bg-white",children:"zh"===s?"成员":"Members"}),(0,i.jsx)(o.Xi,{value:"departments",className:"rounded-lg text-sm data-[state=active]:bg-white",children:"zh"===s?"部门":"Departments"}),(0,i.jsx)(o.Xi,{value:"permissions",className:"rounded-lg text-sm data-[state=active]:bg-white",children:"zh"===s?"权限":"Permissions"}),(0,i.jsx)(o.Xi,{value:"audit",className:"rounded-lg text-sm data-[state=active]:bg-white",children:"zh"===s?"审计":"Audit"})]}),(0,i.jsxs)(o.av,{value:"members",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)(l.p,{placeholder:"zh"===s?"搜索成员":"Search members",className:"max-w-xs h-9"}),(0,i.jsxs)(d.l6,{children:[(0,i.jsx)(d.bq,{className:"w-28 h-9",children:(0,i.jsx)(d.yv,{placeholder:"zh"===s?"全部":"All"})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"all",children:"zh"===s?"全部":"All"}),ew.map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))]})]})]}),eN.length>10&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-3",children:[(0,i.jsx)("div",{children:"zh"===s?"显示第 ".concat((g-1)*10+1,"-").concat(Math.min(10*g,eN.length)," 条，共 ").concat(eN.length," 条记录"):"Showing ".concat((g-1)*10+1,"-").concat(Math.min(10*g,eN.length)," of ").concat(eN.length," records")}),(0,i.jsx)("div",{children:"zh"===s?"第 ".concat(g," 页，共 ").concat(eP," 页"):"Page ".concat(g," of ").concat(eP)})]}),(0,i.jsxs)("div",{className:"rounded-xl border bg-white/60 overflow-hidden",children:[(0,i.jsxs)("div",{className:"grid grid-cols-6 gap-4 p-3 border-b bg-slate-50/60 text-sm font-medium text-slate-700",children:[(0,i.jsx)("div",{children:"zh"===s?"用户名":"Username"}),(0,i.jsx)("div",{children:"zh"===s?"邮箱":"Email"}),(0,i.jsx)("div",{children:"zh"===s?"角色":"Role"}),(0,i.jsx)("div",{children:"zh"===s?"部门":"Department"}),(0,i.jsx)("div",{children:"zh"===s?"加入时间":"Join Date"}),(0,i.jsx)("div",{children:"zh"===s?"操作":"Actions"})]}),ek.map(e=>(0,i.jsxs)("div",{className:"grid grid-cols-6 gap-4 p-3 border-b last:border-b-0 items-center",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(k.eu,{className:"size-7",children:[(0,i.jsx)(k.BK,{src:"/generic-user-avatar.png"}),(0,i.jsx)(k.q5,{className:"text-xs",children:e.name[0]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"font-medium text-sm",children:e.name})})]}),(0,i.jsx)("div",{className:"text-sm text-slate-600 truncate",children:e.email}),(0,i.jsx)("div",{children:(0,i.jsx)(A.E,{variant:"secondary",className:"text-xs",children:e.role})}),(0,i.jsx)("div",{className:"text-sm text-slate-600",children:e.department}),(0,i.jsx)("div",{className:"text-sm text-slate-600",children:e.joinDate}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-transparent",onClick:()=>{eh(e),ev({role:e.role,department:e.department}),er(!0)},children:(0,i.jsx)(E.A,{className:"size-3"})}),(0,i.jsxs)(j,{children:[(0,i.jsx)(u,{asChild:!0,children:(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 text-red-600 bg-transparent",children:(0,i.jsx)(P.A,{className:"size-3"})})}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(z,{children:[(0,i.jsx)(b,{children:"zh"===s?"确认移除成员":"Confirm Remove Member"}),(0,i.jsx)(y,{children:"zh"===s?"确定要移除成员 ".concat(e.name," 吗？此操作无法撤销。"):"Are you sure you want to remove member ".concat(e.name,"? This action cannot be undone.")})]}),(0,i.jsxs)(N,{children:[(0,i.jsx)(C,{children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(w,{onClick:()=>eJ(e.id),children:"zh"===s?"确认移除":"Confirm Remove"})]})]})]})]})]},e.id))]}),e$(g,eP,v)]}),(0,i.jsxs)(o.av,{value:"departments",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-base font-semibold",children:"zh"===s?"部门管理":"Department Management"}),(0,i.jsxs)(r.$,{size:"sm",onClick:()=>H(!0),children:[(0,i.jsx)(M.A,{className:"size-4 mr-2"}),"zh"===s?"添加部门":"Add Department"]})]}),ef.length>10&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-3",children:[(0,i.jsx)("div",{children:"zh"===s?"显示第 ".concat((O-1)*10+1,"-").concat(Math.min(10*O,ef.length)," 条，共 ").concat(ef.length," 条记录"):"Showing ".concat((O-1)*10+1,"-").concat(Math.min(10*O,ef.length)," of ").concat(ef.length," records")}),(0,i.jsx)("div",{children:"zh"===s?"第 ".concat(O," 页，共 ").concat(eM," 页"):"Page ".concat(O," of ").concat(eM)})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:eS.map(e=>(0,i.jsxs)(S.Zp,{className:"bg-white/60",children:[(0,i.jsxs)(S.aR,{className:"pb-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(S.ZB,{className:"text-sm flex items-center gap-2",children:[(0,i.jsx)(D.A,{className:"size-4"}),e.name]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{ec(e),ep({name:e.name,description:e.description,leaderId:e.leaderId||""}),ee(!0)},children:(0,i.jsx)(E.A,{className:"size-3"})}),(0,i.jsxs)(j,{children:[(0,i.jsx)(u,{asChild:!0,children:(0,i.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600",children:(0,i.jsx)(P.A,{className:"size-3"})})}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(z,{children:[(0,i.jsx)(b,{children:"zh"===s?"确认删除部门":"Confirm Delete Department"}),(0,i.jsx)(y,{children:"zh"===s?'确定要删除部门 "'.concat(e.name,'" 吗？此操作无法撤销。'):'Are you sure you want to delete department "'.concat(e.name,'"? This action cannot be undone.')})]}),(0,i.jsxs)(N,{children:[(0,i.jsx)(C,{children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(w,{onClick:()=>eT(e.id),children:"zh"===s?"确认删除":"Confirm Delete"})]})]})]})]})]}),(0,i.jsx)(S.BT,{className:"text-xs",children:e.description})]}),(0,i.jsx)(S.Wu,{className:"pt-0",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,i.jsx)("span",{className:"text-slate-600",children:"zh"===s?"成员数量":"Member Count"}),(0,i.jsx)(A.E,{variant:"secondary",className:"text-xs",children:"zh"===s?"".concat(e.memberCount," 人"):"".concat(e.memberCount," members")})]}),e.leaderName&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,i.jsx)("span",{className:"text-slate-600",children:"zh"===s?"负责人":"Leader"}),(0,i.jsx)("span",{className:"font-medium",children:e.leaderName})]})]})})]},e.id))}),e$(O,eM,V)]}),(0,i.jsxs)(o.av,{value:"permissions",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-base font-semibold",children:"zh"===s?"权限配置":"Permission Configuration"}),(0,i.jsxs)(r.$,{size:"sm",onClick:()=>ea(!0),children:[(0,i.jsx)(M.A,{className:"size-4 mr-2"}),"zh"===s?"添加角色":"Add Role"]})]}),ew.length>10&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-3",children:[(0,i.jsx)("div",{children:"zh"===s?"显示第 ".concat((q-1)*10+1,"-").concat(Math.min(10*q,ew.length)," 条，共 ").concat(ew.length," 条记录"):"Showing ".concat((q-1)*10+1,"-").concat(Math.min(10*q,ew.length)," of ").concat(ew.length," records")}),(0,i.jsx)("div",{children:"zh"===s?"第 ".concat(q," 页，共 ").concat(eD," 页"):"Page ".concat(q," of ").concat(eD)})]}),(0,i.jsx)("div",{className:"space-y-3",children:eI.map(e=>(0,i.jsxs)(S.Zp,{className:"bg-white/60",children:[(0,i.jsx)(S.aR,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:(0,i.jsx)(_.A,{className:"size-4 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(S.ZB,{className:"text-sm",children:e.name}),(0,i.jsx)(S.BT,{className:"text-xs",children:e.description})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(A.E,{variant:"secondary",className:"text-xs",children:"zh"===s?"".concat(e.memberCount," 名成员"):"".concat(e.memberCount," members")}),(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-transparent",onClick:()=>{eo(e),eu({name:e.name,description:e.description,permissions:[...e.permissions]}),et(!0)},children:(0,i.jsx)($.A,{className:"size-3"})}),!e.isSystem&&(0,i.jsxs)(j,{children:[(0,i.jsx)(u,{asChild:!0,children:(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 text-red-600 bg-transparent",children:(0,i.jsx)(P.A,{className:"size-3"})})}),(0,i.jsxs)(f,{children:[(0,i.jsxs)(z,{children:[(0,i.jsx)(b,{children:"zh"===s?"确认删除角色":"Confirm Delete Role"}),(0,i.jsx)(y,{children:"zh"===s?'确定要删除角色 "'.concat(e.name,'" 吗？此操作无法撤销。'):'Are you sure you want to delete role "'.concat(e.name,'"? This action cannot be undone.')})]}),(0,i.jsxs)(N,{children:[(0,i.jsx)(C,{children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(w,{onClick:()=>eK(e.id),children:"zh"===s?"确认删除":"Confirm Delete"})]})]})]})]})]})}),(0,i.jsx)(S.Wu,{className:"pt-0",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-xs font-medium mb-2",children:"zh"===s?"权限列表":"Permission List"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,4).map(e=>{let s=ey.find(s=>s.id===e);return s?(0,i.jsx)(A.E,{variant:"outline",className:"text-xs px-2 py-0.5",children:s.name},e):null}),e.permissions.length>4&&(0,i.jsxs)(A.E,{variant:"outline",className:"text-xs px-2 py-0.5",children:["+",e.permissions.length-4]})]})]})})]},e.id))}),e$(q,eD,B)]}),(0,i.jsxs)(o.av,{value:"audit",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-base font-semibold",children:"zh"===s?"审计日志":"Audit Logs"}),(0,i.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,i.jsx)(T.A,{className:"size-4 mr-2"}),"zh"===s?"导出日志":"Export Logs"]})]}),eA.length>10&&(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-3",children:[(0,i.jsx)("div",{children:"zh"===s?"显示第 ".concat((Z-1)*10+1,"-").concat(Math.min(10*Z,eA.length)," 条，共 ").concat(eA.length," 条记录"):"Showing ".concat((Z-1)*10+1,"-").concat(Math.min(10*Z,eA.length)," of ").concat(eA.length," records")}),(0,i.jsx)("div",{children:"zh"===s?"第 ".concat(Z," 页，共 ").concat(e_," 页"):"Page ".concat(Z," of ").concat(e_)})]}),(0,i.jsxs)("div",{className:"rounded-xl border bg-white/60 overflow-hidden",children:[(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 border-b bg-slate-50/60 text-sm font-medium text-slate-700",children:[(0,i.jsx)("div",{children:"zh"===s?"操作":"Action"}),(0,i.jsx)("div",{children:"zh"===s?"用户":"User"}),(0,i.jsx)("div",{children:"zh"===s?"时间":"Time"}),(0,i.jsx)("div",{children:"zh"===s?"详情":"Details"})]}),eE.map(e=>(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 border-b last:border-b-0 text-sm",children:[(0,i.jsx)("div",{className:"font-medium",children:e.action}),(0,i.jsx)("div",{className:"text-slate-600",children:e.user}),(0,i.jsx)("div",{className:"text-slate-600",children:e.time}),(0,i.jsx)("div",{className:"text-slate-600 truncate",children:e.detail})]},e.id))]}),e$(Z,e_,G)]})]}),(0,i.jsx)(U,{open:Y,onOpenChange:W,roles:ew,departments:ef}),(0,i.jsx)(F,{open:X,onOpenChange:H,members:eN,onAddDepartment:a=>{var i;ez([...ef,{id:Date.now().toString(),name:a.name,description:a.description,memberCount:0,leaderId:a.leaderId,leaderName:a.leaderId?null===(i=eN.find(e=>e.id===a.leaderId))||void 0===i?void 0:i.name:void 0,createdAt:new Date().toISOString().split("T")[0]}]),e({description:"zh"===s?"部门创建成功":"Department created successfully"})}}),(0,i.jsx)(L,{open:es,onOpenChange:ea,permissions:ey,onAddRole:a=>{eC([...ew,{id:Date.now().toString(),name:a.name,description:a.description,permissions:a.permissions,memberCount:0,isSystem:!1}]),e({description:"zh"===s?"角色创建成功":"Role created successfully"})}}),(0,i.jsx)(h.lG,{open:Q,onOpenChange:ee,children:(0,i.jsxs)(h.Cf,{className:"bg-white/70 backdrop-blur border-white/60","aria-describedby":"edit-dept-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsxs)(h.L3,{className:"flex items-center gap-2",children:[(0,i.jsx)(D.A,{className:"size-5"}),"zh"===s?"编辑部门":"Edit Department"]}),(0,i.jsx)(h.rr,{id:"edit-dept-description",children:"zh"===s?"修改部门信息":"Modify department information"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===s?"部门名称 *":"Department Name *"}),(0,i.jsx)(l.p,{placeholder:"zh"===s?"输入部门名称":"Enter department name",value:ex.name,onChange:e=>ep(s=>({...s,name:e.target.value}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===s?"部门描述":"Department Description"}),(0,i.jsx)(l.p,{placeholder:"zh"===s?"输入部门描述":"Enter department description",value:ex.description,onChange:e=>ep(s=>({...s,description:e.target.value}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===s?"部门负责人":"Department Leader"}),(0,i.jsxs)(d.l6,{value:ex.leaderId||"none",onValueChange:e=>ep(s=>({...s,leaderId:e})),children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{placeholder:"zh"===s?"选择负责人":"Select leader"})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"none",children:"zh"===s?"无负责人":"No leader"}),eN.map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))]})]})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>ee(!1),children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{el&&(ez(ef.map(e=>{var s;return e.id===el.id?{...e,name:ex.name,description:ex.description,leaderId:ex.leaderId||void 0,leaderName:ex.leaderId?null===(s=eN.find(e=>e.id===ex.leaderId))||void 0===s?void 0:s.name:void 0}:e})),ee(!1),ec(null),ep({name:"",description:"",leaderId:""}),e({description:"zh"===s?"部门信息已更新":"Department information updated"}))},children:"zh"===s?"保存更改":"Save Changes"})]})]})}),(0,i.jsx)(h.lG,{open:ei,onOpenChange:et,children:(0,i.jsxs)(h.Cf,{className:"max-w-2xl bg-white/70 backdrop-blur border-white/60","aria-describedby":"edit-role-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsx)(h.L3,{children:"zh"===s?"编辑角色权限":"Edit Role Permissions"}),(0,i.jsx)(h.rr,{id:"edit-role-description",children:"zh"===s?"修改角色的权限配置":"Modify role permission configuration"})]}),ed&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50/60 rounded-lg",children:[(0,i.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,i.jsx)(_.A,{className:"size-5 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium",children:ed.name}),(0,i.jsx)("p",{className:"text-sm text-slate-600",children:ed.description})]})]}),(0,i.jsxs)("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:[(0,i.jsx)(c.J,{children:"zh"===s?"权限配置":"Permission Configuration"}),Object.entries(eO).map(e=>{let[a,t]=e;return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:a}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(m.S,{id:"edit-".concat(e.id),checked:ej.permissions.includes(e.id),onCheckedChange:()=>eR(e.id)}),(0,i.jsx)(c.J,{htmlFor:"edit-".concat(e.id),className:"text-sm",children:"查看"===e.name?"zh"===s?"查看":"View":"创建"===e.name?"zh"===s?"创建":"Create":"编辑"===e.name?"zh"===s?"编辑":"Edit":"删除"===e.name?"zh"===s?"删除":"Delete":"用户管理"===e.name?"zh"===s?"用户管理":"User Management":"角色管理"===e.name?"zh"===s?"角色管理":"Role Management":"系统设置"===e.name?"zh"===s?"系统设置":"System Settings":"数据导出"===e.name?"zh"===s?"数据导出":"Data Export":"API访问"===e.name?"zh"===s?"API访问":"API Access":e.name})]},e.id))})]},a)})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>et(!1),children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{ed&&(eC(ew.map(e=>e.id===ed.id?{...e,permissions:ej.permissions}:e)),et(!1),eo(null),eu({name:"",description:"",permissions:[]}),e({description:"zh"===s?"角色权限已更新":"Role permissions updated"}))},children:"zh"===s?"保存更改":"Save Changes"})]})]})}),(0,i.jsx)(h.lG,{open:en,onOpenChange:er,children:(0,i.jsxs)(h.Cf,{className:"bg-white/70 backdrop-blur border-white/60","aria-describedby":"edit-member-description",children:[(0,i.jsxs)(h.c7,{children:[(0,i.jsx)(h.L3,{children:"zh"===s?"编辑成员信息":"Edit Member Information"}),(0,i.jsx)(h.rr,{id:"edit-member-description",children:"zh"===s?"修改成员的角色和部门":"Modify member's role and department"})]}),em&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)(k.eu,{className:"size-12",children:[(0,i.jsx)(k.BK,{src:"/generic-user-avatar.png"}),(0,i.jsx)(k.q5,{children:em.name[0]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:em.name}),(0,i.jsx)("div",{className:"text-sm text-slate-600",children:em.email})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===s?"角色":"Role"}),(0,i.jsxs)(d.l6,{value:eg.role,onValueChange:e=>ev(s=>({...s,role:e})),children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{})}),(0,i.jsx)(d.gC,{children:ew.map(e=>(0,i.jsx)(d.eb,{value:e.name,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"zh"===s?"部门":"Department"}),(0,i.jsxs)(d.l6,{value:eg.department,onValueChange:e=>ev(s=>({...s,department:e})),children:[(0,i.jsx)(d.bq,{children:(0,i.jsx)(d.yv,{})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"none",children:"zh"===s?"无部门":"No department"})," ",ef.map(e=>(0,i.jsx)(d.eb,{value:e.name,children:e.name},e.id))]})]})]})]}),(0,i.jsxs)(h.Es,{children:[(0,i.jsx)(r.$,{variant:"outline",onClick:()=>er(!1),children:"zh"===s?"取消":"Cancel"}),(0,i.jsx)(r.$,{onClick:()=>{em&&(eb(eN.map(e=>e.id===em.id?{...e,role:eg.role,department:eg.department}:e)),er(!1),eh(null),ev({role:"",department:""}),e({description:"zh"===s?"成员信息已更新":"Member information updated"}))},children:"zh"===s?"保存更改":"Save Changes"})]})]})})]})}var q=a(25664),B=a(78476),Z=a(28014),G=a(69074),Y=a(59067);function W(){let{toast:e}=(0,K.dj)(),{locale:s}=(0,J.Y)(),{user:a,updateUser:o}=(0,Y.A)(),[m,x]=(0,t.useState)(!1),[p,j]=(0,t.useState)(!1),[u,g]=(0,t.useState)((null==a?void 0:a.avatar)||"/generic-user-avatar.png"),[v,f]=(0,t.useState)((null==a?void 0:a.name)||""),[z,N]=(0,t.useState)((null==a?void 0:a.email)||"");return(0,t.useEffect)(()=>{g((null==a?void 0:a.avatar)||"/generic-user-avatar.png"),f((null==a?void 0:a.name)||""),N((null==a?void 0:a.email)||"")},[a]),(0,i.jsxs)(n.rj,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===s?"个人信息":"Personal Information"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===s?"管理您的个人资料和账户设置":"Manage your profile and account settings"})]}),(0,i.jsx)(r.$,{size:"sm",onClick:()=>x(!m),variant:m?"outline":"default",children:m?"zh"===s?"取消编辑":"Cancel Edit":"zh"===s?"编辑资料":"Edit Profile"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)(S.Zp,{className:"bg-white/60",children:[(0,i.jsx)(S.aR,{className:"pb-3",children:(0,i.jsx)(S.ZB,{className:"text-sm",children:"zh"===s?"头像":"Avatar"})}),(0,i.jsxs)(S.Wu,{className:"flex flex-col items-center space-y-3 pt-0",children:[(0,i.jsxs)(k.eu,{className:"size-20",children:[(0,i.jsx)(k.BK,{src:u}),(0,i.jsx)(k.q5,{children:(null==v?void 0:v.charAt(0).toUpperCase())||"U"})]}),m&&(0,i.jsxs)(r.$,{size:"sm",variant:"outline",className:"h-8 bg-transparent",onClick:()=>{let a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=a=>{let i=a.target.files;if(i&&i.length>0){let a=i[0],t=new FileReader;t.onload=a=>{var i;g(null===(i=a.target)||void 0===i?void 0:i.result),e({description:"zh"===s?"头像上传成功":"Avatar uploaded successfully"})},t.readAsDataURL(a)}},a.click()},children:[(0,i.jsx)(q.A,{className:"size-3 mr-2"}),"zh"===s?"上传新头像":"Upload New Avatar"]})]})]}),(0,i.jsxs)(S.Zp,{className:"lg:col-span-2 bg-white/60",children:[(0,i.jsx)(S.aR,{className:"pb-3",children:(0,i.jsx)(S.ZB,{className:"text-sm",children:"zh"===s?"基本信息":"Basic Information"})}),(0,i.jsxs)(S.Wu,{className:"space-y-4 pt-0",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{htmlFor:"username",className:"text-xs",children:"zh"===s?"用户名":"Username"}),(0,i.jsx)(l.p,{id:"username",value:v,onChange:e=>f(e.target.value),disabled:!m,className:"h-8"})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{htmlFor:"email",className:"text-xs",children:"zh"===s?"邮箱":"Email"}),(0,i.jsx)(l.p,{id:"email",type:"email",value:z,disabled:!0,className:"h-8"})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{htmlFor:"phone",className:"text-xs",children:"zh"===s?"手机号":"Phone"}),(0,i.jsx)(l.p,{id:"phone",defaultValue:"+86 138 0013 8000",disabled:!m,className:"h-8"})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{htmlFor:"department",className:"text-xs",children:"zh"===s?"部门":"Department"}),(0,i.jsxs)(d.l6,{disabled:!m,children:[(0,i.jsx)(d.bq,{className:"h-8",children:(0,i.jsx)(d.yv,{placeholder:"zh"===s?"选择部门":"Select Department"})}),(0,i.jsx)(d.gC,{children:[{id:"1",name:"zh"===s?"技术部":"Technology"},{id:"2",name:"zh"===s?"产品部":"Product"},{id:"3",name:"zh"===s?"设计部":"Design"}].map(e=>(0,i.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]})]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{htmlFor:"bio",className:"text-xs",children:"zh"===s?"个人简介":"Bio"}),(0,i.jsx)(O.T,{id:"bio",placeholder:"zh"===s?"介绍一下自己...":"Tell us about yourself...",disabled:!m,defaultValue:"zh"===s?"全栈开发工程师，专注于 React 和 Node.js 开发":"Full-stack developer, focused on React and Node.js development",className:"min-h-[60px] resize-none"})]}),m&&(0,i.jsx)(r.$,{size:"sm",onClick:async()=>{await o({name:v,avatar:u}),x(!1),e({description:"zh"===s?"个人信息已更新":"Personal information updated"})},children:"zh"===s?"保存更改":"Save Changes"})]})]})]}),(0,i.jsxs)(S.Zp,{className:"bg-white/60",children:[(0,i.jsx)(S.aR,{className:"pb-3",children:(0,i.jsxs)(S.ZB,{className:"text-sm flex items-center gap-2",children:[(0,i.jsx)(B.A,{className:"size-4"}),"zh"===s?"安全设置":"Security Settings"]})}),(0,i.jsx)(S.Wu,{className:"pt-0",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:"zh"===s?"修改密码":"Change Password"}),(0,i.jsx)("p",{className:"text-xs text-slate-600 mt-0.5",children:"zh"===s?"定期更新密码以保护账户安全":"Regularly update your password to protect your account"})]}),(0,i.jsxs)(h.lG,{children:[(0,i.jsx)(h.zM,{asChild:!0,children:(0,i.jsx)(r.$,{variant:"outline",size:"sm",children:"zh"===s?"修改密码":"Change Password"})}),(0,i.jsxs)(h.Cf,{children:[(0,i.jsx)(h.c7,{children:(0,i.jsx)(h.L3,{children:"zh"===s?"修改密码":"Change Password"})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{className:"text-sm",children:"zh"===s?"当前密码":"Current Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(l.p,{type:p?"text":"password",className:"h-9"}),(0,i.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>j(!p),children:p?(0,i.jsx)(Z.A,{className:"size-4"}):(0,i.jsx)(G.A,{className:"size-4"})})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{className:"text-sm",children:"zh"===s?"新密码":"New Password"}),(0,i.jsx)(l.p,{type:"password",className:"h-9"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{className:"text-sm",children:"zh"===s?"确认新密码":"Confirm New Password"}),(0,i.jsx)(l.p,{type:"password",className:"h-9"})]}),(0,i.jsx)(r.$,{className:"w-full",children:"zh"===s?"更新密码":"Update Password"})]})]})]})]})})]})]})}var X=a(53004);function H(){let{toast:e}=(0,K.dj)(),{locale:s}=(0,J.Y)(),[a,l]=(0,t.useState)(null),c=a=>{navigator.clipboard.writeText(a),e({description:"zh"===s?"已复制到剪贴板":"Copied to clipboard"})};return(0,i.jsxs)(n.rj,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===s?"API 密钥":"API Keys"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===s?"管理您的 API 访问密钥":"Manage your API access keys"})]}),(0,i.jsxs)(r.$,{size:"sm",children:[(0,i.jsx)(M.A,{className:"size-4 mr-2"}),"zh"===s?"创建新密钥":"Create New Key"]})]}),(0,i.jsx)("div",{className:"space-y-3",children:[{id:"1",name:"zh"===s?"生产环境密钥":"Production Key",key:"sk-1234567890abcdef",permissions:["read","write"],lastUsed:"2024-01-15",requests:1234,created:"2024-01-01"},{id:"2",name:"zh"===s?"测试环境密钥":"Test Key",key:"sk-abcdef1234567890",permissions:["read"],lastUsed:"2024-01-14",requests:567,created:"2024-01-10"}].map(e=>(0,i.jsx)(S.Zp,{className:"bg-white/60",children:(0,i.jsxs)(S.Wu,{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("h3",{className:"font-semibold text-sm",children:e.name}),(0,i.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[(0,i.jsxs)("span",{children:["zh"===s?"创建于":"Created"," ",e.created]}),(0,i.jsxs)("span",{children:["zh"===s?"最后使用":"Last used"," ",e.lastUsed]}),(0,i.jsxs)("span",{children:[e.requests," ","zh"===s?"次请求":"requests"]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-transparent",onClick:()=>l(a===e.id?null:e.id),children:a===e.id?(0,i.jsx)(Z.A,{className:"size-3"}):(0,i.jsx)(G.A,{className:"size-3"})}),(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-transparent",onClick:()=>c(e.key),children:(0,i.jsx)(X.A,{className:"size-3"})}),(0,i.jsx)(r.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 text-red-600 bg-transparent",children:(0,i.jsx)(P.A,{className:"size-3"})})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs font-medium",children:"zh"===s?"密钥:":"Key:"}),(0,i.jsx)("code",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-mono",children:a===e.id?e.key:"sk-"+"•".repeat(16)})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs font-medium",children:"zh"===s?"权限:":"Permissions:"}),(0,i.jsx)("div",{className:"flex gap-1",children:e.permissions.map(e=>(0,i.jsx)(A.E,{variant:"secondary",className:"text-xs px-2 py-0.5",children:"read"===e?"zh"===s?"读取":"Read":"write"===e?"zh"===s?"写入":"Write":e},e))})]})]})]})},e.id))})]})}var Q=a(84174),ee=a(27367),es=a(60613),ea=a(6651),ei=a(41392);function et(){let{toast:e}=(0,K.dj)(),{locale:s}=(0,J.Y)(),a=[{id:"1",type:"system",title:"zh"===s?"系统维护通知":"System Maintenance Notice",message:"zh"===s?"系统将于今晚 23:00-01:00 进行维护升级，期间服务可能暂时中断。":"System will undergo maintenance upgrade tonight from 23:00-01:00, services may be temporarily interrupted.",time:"2024-01-15 14:30",read:!1,icon:Q.A,color:"text-orange-600"},{id:"2",type:"team",title:"zh"===s?"新成员加入":"New Member Joined",message:"zh"===s?"Alice 已加入您的团队，角色为编辑者。":"Alice has joined your team as an editor.",time:"2024-01-15 12:15",read:!0,icon:I.A,color:"text-blue-600"},{id:"3",type:"security",title:"zh"===s?"登录异常提醒":"Login Alert",message:"zh"===s?"检测到来自新设备的登录，如非本人操作请及时修改密码。":"Login detected from a new device. If this wasn't you, please change your password immediately.",time:"2024-01-15 10:45",read:!1,icon:Q.A,color:"text-red-600"}],t=a=>{e({description:"zh"===s?"已标记为已读":"Marked as read"})};return(0,i.jsxs)(n.rj,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===s?"通知":"Notifications"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===s?"查看您的所有通知消息":"View all your notification messages"})]}),(0,i.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{e({description:"zh"===s?"所有通知已标记为已读":"All notifications marked as read"})},children:[(0,i.jsx)(ee.A,{className:"size-4 mr-2"}),"zh"===s?"全部标记为已读":"Mark All as Read"]})]}),(0,i.jsx)("div",{className:"space-y-3",children:a.map(e=>{let a=e.icon;return(0,i.jsx)(S.Zp,{className:"transition-all bg-white/60 ".concat(e.read?"opacity-75":"border-blue-200"),children:(0,i.jsx)(S.Wu,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"p-1.5 rounded-lg bg-slate-100 ".concat(e.color),children:(0,i.jsx)(a,{className:"size-4"})}),(0,i.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h3",{className:"font-medium text-sm ".concat(e.read?"text-slate-600":"text-slate-900"),children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,i.jsx)(es.A,{className:"size-3"}),e.time]}),!e.read&&(0,i.jsx)("div",{className:"size-2 bg-blue-600 rounded-full"})]})]}),(0,i.jsx)("p",{className:"text-xs ".concat(e.read?"text-slate-500":"text-slate-700"),children:e.message}),(0,i.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[!e.read&&(0,i.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs h-6 px-2",children:"zh"===s?"标记为已读":"Mark as Read"}),(0,i.jsxs)(r.$,{variant:"ghost",size:"sm",className:"text-xs h-6 px-2 text-red-600",children:[(0,i.jsx)(ea.A,{className:"size-3 mr-1"}),"zh"===s?"删除":"Delete"]})]})]})]})})},e.id)})}),0===a.length&&(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"size-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,i.jsx)(ei.A,{className:"size-6 text-slate-400"})}),(0,i.jsx)("h3",{className:"text-base font-medium text-slate-900 mb-1",children:"zh"===s?"暂无通知":"No Notifications"}),(0,i.jsx)("p",{className:"text-sm text-slate-600",children:"zh"===s?"您的所有通知都会显示在这里":"All your notifications will appear here"})]})]})}var en=a(34054);function er(){let{locale:e}=(0,J.Y)(),[s,a]=(0,t.useState)("zh"),[r,l]=(0,t.useState)("Asia/Shanghai");return(0,i.jsxs)(n.rj,{children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===e?"通用设置":"General Settings"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===e?"管理应用的基本设置和偏好":"Manage basic application settings and preferences"})]}),(0,i.jsxs)(S.Zp,{className:"bg-white/60",children:[(0,i.jsxs)(S.aR,{className:"pb-3",children:[(0,i.jsxs)(S.ZB,{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)(en.A,{className:"size-4"}),"zh"===e?"界面设置":"Interface Settings"]}),(0,i.jsx)(S.BT,{className:"text-xs",children:"zh"===e?"自定义您的界面体验":"Customize your interface experience"})]}),(0,i.jsx)(S.Wu,{className:"space-y-4 pt-0",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{className:"text-xs",children:"zh"===e?"语言":"Language"}),(0,i.jsxs)(d.l6,{value:s,onValueChange:a,children:[(0,i.jsx)(d.bq,{className:"h-8",children:(0,i.jsx)(d.yv,{})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"zh",children:"简体中文"}),(0,i.jsx)(d.eb,{value:"en",children:"English"}),(0,i.jsx)(d.eb,{value:"ja",children:"日本語"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(c.J,{className:"text-xs",children:"zh"===e?"时区":"Timezone"}),(0,i.jsxs)(d.l6,{value:r,onValueChange:l,children:[(0,i.jsx)(d.bq,{className:"h-8",children:(0,i.jsx)(d.yv,{})}),(0,i.jsxs)(d.gC,{children:[(0,i.jsx)(d.eb,{value:"Asia/Shanghai",children:"zh"===e?"北京时间 (UTC+8)":"Beijing Time (UTC+8)"}),(0,i.jsx)(d.eb,{value:"America/New_York",children:"zh"===e?"纽约时间 (UTC-5)":"New York Time (UTC-5)"}),(0,i.jsx)(d.eb,{value:"Europe/London",children:"zh"===e?"伦敦时间 (UTC+0)":"London Time (UTC+0)"})]})]})]})]})})]})]})}var el=a(28410),ec=a(8893),ed=a(53637);let eo="aino_auth_integrations_v1";function em(){try{let e=localStorage.getItem(eo);return e?JSON.parse(e):{}}catch(e){return{}}}function eh(){let e=String((0,el.useParams)().appId),{toast:s}=(0,K.dj)(),{locale:a}=(0,J.Y)(),[d,o]=(0,t.useState)({}),[m,h]=(0,t.useState)({firecrawl:!1,fastgpt:!1}),[x,p]=(0,t.useState)(!1),[j,u]=(0,t.useState)({});async function g(){let i=em();i[e]={firecrawlKey:d.firecrawlKey,openaiEndpoint:d.openaiEndpoint,openaiKey:d.openaiKey,fastgptEndpoint:d.openaiEndpoint,fastgptKey:d.openaiKey};try{p(!0),function(e){try{localStorage.setItem(eo,JSON.stringify(e))}catch(e){}}(i),s({description:"zh"===a?"已保存授权配置":"Authorization settings saved"})}finally{p(!1)}}async function v(){u(e=>({...e,openai:!0}));try{var e,i;let t=null===(e=d.openaiEndpoint)||void 0===e?void 0:e.trim(),n=null===(i=d.openaiKey)||void 0===i?void 0:i.trim();if(!t||!n)throw Error("missing");(await fetch("".concat("http://47.94.52.142:3007","/api/ai/chat"),{method:"POST",headers:{"Content-Type":"application/json","x-aino-openai-endpoint":t,"x-aino-openai-key":n},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"user",content:"ping"}]})})).ok?s({description:"zh"===a?"OpenAI 接通":"OpenAI OK"}):s({description:"zh"===a?"OpenAI 测试失败":"OpenAI test failed",variant:"destructive"})}catch(e){s({description:"zh"===a?"请填写 Endpoint/Key 后再测试":"Fill Endpoint/Key and retry",variant:"destructive"})}finally{u(e=>({...e,openai:!1}))}}async function f(){u(e=>({...e,firecrawl:!0}));try{var e;let i=null===(e=d.firecrawlKey)||void 0===e?void 0:e.trim();if(!i)throw Error("missing");(await fetch("".concat("http://47.94.52.142:3007","/api/crawl/scrape"),{method:"POST",headers:{"Content-Type":"application/json","x-aino-firecrawl-key":i},body:JSON.stringify({url:"https://example.com",options:{formats:["markdown"]}})})).ok?s({description:"zh"===a?"Firecrawl 接通":"Firecrawl OK"}):s({description:"zh"===a?"Firecrawl 测试失败":"Firecrawl test failed",variant:"destructive"})}catch(e){s({description:"zh"===a?"请填写 Key 后再测试":"Fill key and retry",variant:"destructive"})}finally{u(e=>({...e,firecrawl:!1}))}}return(0,t.useEffect)(()=>{let s=em()[e]||{};o({firecrawlKey:s.firecrawlKey||"",openaiEndpoint:s.openaiEndpoint||s.fastgptEndpoint||"",openaiKey:s.openaiKey||s.fastgptKey||""})},[e]),(0,i.jsx)(n.rj,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"zh"===a?"授权管理":"Authorization"}),(0,i.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"zh"===a?"配置 ScrapeGraphAI 与 FastGPT 的访问凭证（按应用存储）":"Configure credentials for Firecrawl and FastGPT (per app)"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"ScrapeGraphAI API Key"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.p,{type:m.firecrawl?"text":"password",placeholder:"sgai-xxxxxxxx",value:d.firecrawlKey||"",onChange:e=>o(s=>({...s,firecrawlKey:e.target.value}))}),(0,i.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>h(e=>({...e,firecrawl:!e.firecrawl})),className:"shrink-0",children:m.firecrawl?(0,i.jsx)(Z.A,{className:"size-4"}):(0,i.jsx)(G.A,{className:"size-4"})}),(0,i.jsx)(r.$,{variant:"secondary",size:"sm",onClick:f,disabled:!!j.firecrawl,className:"shrink-0",children:j.firecrawl?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ec.A,{className:"size-4 mr-1 animate-spin"}),"zh"===a?"测试中":"Testing"]}):"zh"===a?"测试":"Test"})]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"zh"===a?"用于抓取与渲染网页内容。":"Used for crawling and rendering web content."}),(0,i.jsxs)("div",{className:"text-xs flex items-center gap-1 text-green-600",hidden:!d.firecrawlKey,children:[(0,i.jsx)(ed.A,{className:"size-3"})," ","zh"===a?"已配置":"Configured"]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(c.J,{children:"OpenAI Endpoint"}),(0,i.jsx)(l.p,{type:"text",placeholder:"https://api.openai.com/v1",value:d.openaiEndpoint||"",onChange:e=>o(s=>({...s,openaiEndpoint:e.target.value}))}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"zh"===a?"OpenAI 或兼容 OpenAI 的接口地址。":"OpenAI or OpenAI-compatible endpoint URL."})]}),(0,i.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,i.jsx)(c.J,{children:"OpenAI API Key"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.p,{type:m.fastgpt?"text":"password",placeholder:"sk-xxxxxxxx",value:d.openaiKey||"",onChange:e=>o(s=>({...s,openaiKey:e.target.value}))}),(0,i.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>h(e=>({...e,fastgpt:!e.fastgpt})),className:"shrink-0",children:m.fastgpt?(0,i.jsx)(Z.A,{className:"size-4"}):(0,i.jsx)(G.A,{className:"size-4"})}),(0,i.jsx)(r.$,{variant:"secondary",size:"sm",onClick:v,disabled:!!j.openai,className:"shrink-0",children:j.openai?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ec.A,{className:"size-4 mr-1 animate-spin"}),"zh"===a?"测试中":"Testing"]}):"zh"===a?"测试":"Test"})]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"zh"===a?"用于自然语言规则解析与结构化抽取（兼容 OpenAI）。":"For rule parsing and structured extraction (OpenAI-compatible)."}),(0,i.jsxs)("div",{className:"text-xs flex items-center gap-1 text-green-600",hidden:!(d.openaiEndpoint&&d.openaiKey),children:[(0,i.jsx)(ed.A,{className:"size-3"})," ","zh"===a?"已配置":"Configured"]})]})]}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(r.$,{onClick:g,disabled:x,children:x?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ec.A,{className:"size-4 mr-1 animate-spin"}),"zh"===a?"保存中":"Saving"]}):"zh"===a?"保存":"Save"})})]})})}function ex(e){let{activeSection:s}=e;switch(s){case"personal":default:return(0,i.jsx)(W,{});case"team":return(0,i.jsx)(V,{});case"auth":return(0,i.jsx)(eh,{});case"api-keys":return(0,i.jsx)(H,{});case"notifications":return(0,i.jsx)(et,{});case"settings":return(0,i.jsx)(er,{})}}},47255:(e,s,a)=>{a.d(s,{S:()=>l});var i=a(74364);a(10640);var t=a(83382),n=a(27367),r=a(11915);function l(e){let{className:s,...a}=e;return(0,i.jsx)(t.bL,{"data-slot":"checkbox",className:(0,r.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,i.jsx)(t.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,i.jsx)(n.A,{className:"size-3.5"})})})}},69494:(e,s,a)=>{a.d(s,{T:()=>n});var i=a(74364);a(10640);var t=a(11915);function n(e){let{className:s,...a}=e;return(0,i.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}},97173:(e,s,a)=>{a.d(s,{E:()=>c});var i=a(74364);a(10640);var t=a(4756),n=a(31792),r=a(11915);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,asChild:n=!1,...c}=e,d=n?t.DX:"span";return(0,i.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(l({variant:a}),s),...c})}},97428:(e,s,a)=>{a.d(s,{Eb:()=>x,Iu:()=>o,M_:()=>j,WA:()=>p,cU:()=>m,dK:()=>d,n$:()=>h});var i=a(74364);a(10640);var t=a(32826),n=a(96619),r=a(80758),l=a(11915),c=a(5660);function d(e){let{className:s,...a}=e;return(0,i.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,l.cn)("mx-auto flex w-full justify-center",s),...a})}function o(e){let{className:s,...a}=e;return(0,i.jsx)("ul",{"data-slot":"pagination-content",className:(0,l.cn)("flex flex-row items-center gap-1",s),...a})}function m(e){let{...s}=e;return(0,i.jsx)("li",{"data-slot":"pagination-item",...s})}function h(e){let{className:s,isActive:a,size:t="icon",...n}=e;return(0,i.jsx)("a",{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:(0,l.cn)((0,c.r)({variant:a?"outline":"ghost",size:t}),s),...n})}function x(e){let{className:s,...a}=e;return(0,i.jsxs)(h,{"aria-label":"Go to previous page",size:"default",className:(0,l.cn)("gap-1 px-2.5 sm:pl-2.5",s),...a,children:[(0,i.jsx)(t.A,{}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function p(e){let{className:s,...a}=e;return(0,i.jsxs)(h,{"aria-label":"Go to next page",size:"default",className:(0,l.cn)("gap-1 px-2.5 sm:pr-2.5",s),...a,children:[(0,i.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,i.jsx)(n.A,{})]})}function j(e){let{className:s,...a}=e;return(0,i.jsxs)("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:(0,l.cn)("flex size-9 items-center justify-center",s),...a,children:[(0,i.jsx)(r.A,{className:"size-4"}),(0,i.jsx)("span",{className:"sr-only",children:"More pages"})]})}}}]);