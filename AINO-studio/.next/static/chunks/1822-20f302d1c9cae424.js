"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1822],{3713:(e,t,s)=>{s.d(t,{ZO:()=>c,BR:()=>m,zj:()=>x,L6:()=>u,rj:()=>h,KA:()=>n,Ju:()=>o,Ld:()=>i});let a=()=>Math.random().toString(36).slice(2,10);function r(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return{id:a(),key:e,label:t,type:s,required:r,locked:l,enabled:!0,showInList:!0,showInForm:!0,showInDetail:!0,...i}}let l="nocode_builder_store_v1",i=()=>Math.random().toString(36).slice(2,10);function n(){let e=function(){try{return localStorage.getItem(l)}catch(e){return null}}();if(!e)return{apps:[]};try{return JSON.parse(e)}catch(e){return{apps:[]}}}function o(e){!function(e){try{localStorage.setItem(l,e)}catch(e){}}(JSON.stringify(e))}function d(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return{id:i(),key:e,label:t,type:s,required:a,locked:r,enabled:!0,showInList:!0,showInForm:!0,showInDetail:!0,...l}}let c={baseUser:function(){return{id:a(),name:"用户管理",type:"system",directories:[{id:a(),name:"用户列表",type:"table",supportsCategory:!1,fields:[r("id","用户ID","text",!0,!0,{unique:!0,locked:!0}),r("avatar","头像","image",!1,!1,{accept:"image/*",maxSizeMB:5}),r("name","姓名","text",!0,!1,{placeholder:"请输入姓名"}),r("phone","手机号","text",!1,!1,{preset:"phone",placeholder:"请输入手机号"}),r("email","邮箱","text",!1,!1,{preset:"email",placeholder:"请输入邮箱"}),r("gender","性别","select",!1,!1,{options:["男","女","其他"],default:"男"}),r("city","居住城市","text",!1,!1,{preset:"city"}),r("birthday","生日","date",!1,!1,{dateMode:"single"}),r("qrcode","二维码","barcode",!1,!1,{placeholder:"扫码添加"}),r("introduction","个人介绍","textarea",!1,!1,{placeholder:"请输入个人介绍"}),r("signature","个性签名","text",!1,!1,{placeholder:"请输入个性签名"}),r("title","职称","text",!1,!1,{placeholder:"请输入职称"}),r("hobbies","兴趣爱好","tags",!1,!1,{placeholder:"添加兴趣爱好标签"}),r("maritalStatus","婚姻状况","select",!1,!1,{options:["未婚","已婚","离异","丧偶"],default:"未婚"}),r("workExperience","工作经历","experience",!1,!1,{desc:"工作经历管理"}),r("education","教育经历","experience",!1,!1,{desc:"教育经历管理"}),r("certificates","荣誉证书","experience",!1,!1,{desc:"证书和荣誉管理"}),r("constellation","星座","text",!1,!1,{preset:"constellation",placeholder:"请选择星座"}),r("skills","技能","text",!1,!1,{preset:"skills",placeholder:"请选择技能"}),r("growthPoints","成长值","number",!1,!1,{min:0,default:0,unit:"分"}),r("credits","积分","number",!1,!1,{min:0,default:0,unit:"分"}),r("userLevel","用户等级","select",!1,!1,{options:["青铜","白银","黄金","铂金","钻石"],default:"青铜"}),r("membershipType","会员类型","select",!1,!1,{options:["普通用户","VIP会员","SVIP会员","企业会员"],default:"普通用户"}),r("membershipExpiry","会员到期时间","date",!1,!1,{dateMode:"single"}),r("status","状态","select",!0,!1,{options:["启用","禁用"],default:"启用"}),r("createdAt","创建时间","date",!1,!0,{locked:!0}),r("lastLoginAt","最后登录","date",!1,!0,{locked:!0})],records:[{id:"user_1",name:"张三",phone:"13800138001",email:"zhangsan@example.com",gender:"男",constellation:"constellation_7",skills:["skill_1","skill_2","skill_13"],introduction:"资深前端开发工程师，专注于Vue.js和React技术栈",signature:"代码改变世界",title:"高级前端工程师",birthday:"1990-10-15",hobbies:["编程","阅读","旅行"],city:"北京市",maritalStatus:"已婚",workExperience:[],education:[],certificates:[],growthPoints:1250,credits:3500,userLevel:"黄金",membershipType:"VIP会员",status:"启用",avatar:"/wise-wizard-library.png"},{id:"user_2",name:"李四",phone:"13900139002",email:"lisi@example.com",gender:"女",constellation:"constellation_12",skills:["skill_7","skill_8"],introduction:"UI/UX设计师，热爱创意设计",signature:"设计让生活更美好",title:"资深设计师",birthday:"1992-03-20",hobbies:["设计","摄影","音乐"],city:"上海市",maritalStatus:"未婚",workExperience:[],education:[],certificates:[],growthPoints:980,credits:2100,userLevel:"白银",membershipType:"普通用户",status:"启用",avatar:"/female-adventurer-backpack.png"},{id:"user_3",name:"王五",phone:"13700137003",email:"wangwu@example.com",gender:"男",constellation:"constellation_5",skills:["skill_13","skill_14"],introduction:"产品经理，专注用户体验优化",signature:"用户至上，体验为王",title:"产品总监",birthday:"1988-08-08",hobbies:["产品","运动","电影"],city:"深圳市",maritalStatus:"已婚",workExperience:[],education:[],certificates:[],growthPoints:1800,credits:5200,userLevel:"钻石",membershipType:"SVIP会员",status:"启用",avatar:"/placeholder-i3oqg.png"}],categories:[],fieldCategories:[]},{id:a(),name:"用户分层",type:"table",supportsCategory:!1,fields:[r("level","等级名称","text",!0,!0,{unique:!0}),r("minPoints","最低积分","number",!0,!0,{min:0,step:1}),r("maxPoints","最高积分","number",!1,!0,{min:0,step:1}),r("color","等级颜色","text",!1,!0,{placeholder:"#FF6B6B"}),r("icon","等级图标","text",!1,!0,{placeholder:"\uD83E\uDD49"}),r("benefits","等级权益","tags",!1,!0),r("description","等级描述","textarea",!1,!0),r("status","状态","select",!0,!0,{options:["启用","禁用"],default:"启用"})],records:[{id:a(),level:"青铜",minPoints:0,maxPoints:999,color:"#CD7F32",icon:"\uD83E\uDD49",benefits:["基础功能","客服支持"],description:"新用户等级，享受基础服务",status:"启用"},{id:a(),level:"白银",minPoints:1e3,maxPoints:2999,color:"#C0C0C0",icon:"\uD83E\uDD48",benefits:["基础功能","客服支持","优先处理"],description:"活跃用户等级，享受优先服务",status:"启用"},{id:a(),level:"黄金",minPoints:3e3,maxPoints:9999,color:"#FFD700",icon:"\uD83E\uDD47",benefits:["基础功能","客服支持","优先处理","专属客服"],description:"高级用户等级，享受专属服务",status:"启用"},{id:a(),level:"铂金",minPoints:1e4,maxPoints:29999,color:"#E5E4E2",icon:"\uD83D\uDC8E",benefits:["基础功能","客服支持","优先处理","专属客服","定制服务"],description:"VIP用户等级，享受定制服务",status:"启用"},{id:a(),level:"钻石",minPoints:3e4,maxPoints:null,color:"#B9F2FF",icon:"\uD83D\uDC51",benefits:["基础功能","客服支持","优先处理","专属客服","定制服务","专属顾问"],description:"至尊用户等级，享受专属顾问服务",status:"启用"}],categories:[]},{id:a(),name:"会员类型",type:"table",supportsCategory:!1,fields:[r("name","会员名称","text",!0,!0,{unique:!0}),r("price","会员价格","number",!0,!0,{min:0,step:.01,unit:"\xa5"}),r("duration","有效期","number",!0,!0,{min:1,step:1,unit:"天"}),r("features","会员特权","tags",!1,!0),r("discount","折扣比例","percent",!1,!0,{min:0,max:100,default:100}),r("maxUsers","最大用户数","number",!1,!0,{min:1,step:1}),r("description","会员描述","textarea",!1,!0),r("popular","推荐标识","boolean",!1,!0,{default:!1,trueLabel:"是",falseLabel:"否"}),r("status","状态","select",!0,!0,{options:["启用","禁用"],default:"启用"})],records:[{id:a(),name:"普通用户",price:0,duration:365,features:["基础功能","标准客服"],discount:100,maxUsers:null,description:"免费用户，享受基础功能",popular:!1,status:"启用"},{id:a(),name:"VIP会员",price:99,duration:30,features:["基础功能","标准客服","去广告","优先支持"],discount:95,maxUsers:null,description:"月度VIP会员，享受优质服务",popular:!0,status:"启用"},{id:a(),name:"SVIP会员",price:299,duration:90,features:["基础功能","标准客服","去广告","优先支持","专属客服","高级功能"],discount:90,maxUsers:null,description:"季度SVIP会员，享受专属服务",popular:!1,status:"启用"},{id:a(),name:"企业会员",price:999,duration:365,features:["基础功能","标准客服","去广告","优先支持","专属客服","高级功能","团队管理","数据分析"],discount:85,maxUsers:100,description:"年度企业会员，适合团队使用",popular:!1,status:"启用"}],categories:[],fieldCategories:[]},{id:a(),name:"积分规则",type:"table",supportsCategory:!0,fields:[r("name","规则名称","text",!0,!0,{unique:!0}),r("action","触发动作","select",!0,!0,{options:["注册","登录","签到","分享","邀请","消费","评价","完善资料"]}),r("points","积分数量","number",!0,!0,{step:1}),r("maxDaily","每日上限","number",!1,!0,{min:0,step:1}),r("maxTotal","总计上限","number",!1,!0,{min:0,step:1}),r("description","规则描述","textarea",!1,!0),r("startDate","开始时间","date",!1,!0,{dateMode:"single"}),r("endDate","结束时间","date",!1,!0,{dateMode:"single"}),r("status","状态","select",!0,!0,{options:["启用","禁用"],default:"启用"})],records:[{id:a(),name:"新用户注册",action:"注册",points:100,maxDaily:null,maxTotal:100,description:"新用户注册奖励积分",startDate:null,endDate:null,status:"启用"},{id:a(),name:"每日签到",action:"签到",points:10,maxDaily:10,maxTotal:null,description:"每日签到获得积分",startDate:null,endDate:null,status:"启用"},{id:a(),name:"邀请好友",action:"邀请",points:50,maxDaily:200,maxTotal:null,description:"成功邀请好友注册获得积分",startDate:null,endDate:null,status:"启用"},{id:a(),name:"完善资料",action:"完善资料",points:20,maxDaily:null,maxTotal:20,description:"完善个人资料获得积分",startDate:null,endDate:null,status:"启用"}],categories:[{id:a(),name:"基础规则",children:[]},{id:a(),name:"活动规则",children:[]}],fieldCategories:[]}]}},baseConfig:()=>({id:i(),name:"全局配置",type:"system",directories:[{id:i(),name:"内容分类管理",type:"category",supportsCategory:!0,fields:[d("name","分类名","text",!0,!0)],records:[],categories:[],fieldCategories:[]}]}),ecom:()=>({id:i(),name:"电商模块",type:"ecom",directories:[{id:i(),name:"商品管理",type:"table",supportsCategory:!0,fields:[d("cover","封面","image",!1,!0,{accept:"image/*",maxSizeMB:5}),d("name","商品名","text",!0,!0,{placeholder:"如：某某盲盒",unique:!0}),d("category","分类","select",!1,!0,{options:["潮玩","数码","家居"]}),d("status","上架状态","select",!0,!0,{options:["上架","下架"],default:"上架"}),d("priceMin","价格下限","number",!1,!0,{min:0,step:.01,unit:"\xa5"}),d("priceMax","价格上限","number",!1,!0,{min:0,step:.01,unit:"\xa5"}),d("stock","库存总量","number",!1,!0,{min:0,step:1}),d("tags","标签","tags",!1,!0)],records:[],categories:[],fieldCategories:[]}]}),edu:()=>({id:i(),name:"教育模块",type:"edu",directories:[{id:i(),name:"课程管理",type:"table",supportsCategory:!0,fields:[d("title","课程名","text",!0,!0),d("category","类别","select",!1,!0,{options:["编程","设计","运营"]}),d("price","价格","number",!1,!0,{min:0,step:1,unit:"\xa5"}),d("status","状态","select",!0,!0,{options:["上架","下架"],default:"上架"})],records:[],categories:[],fieldCategories:[]}]}),content:()=>({id:i(),name:"内容模块",type:"content",directories:[{id:i(),name:"文章管理",type:"table",supportsCategory:!0,fields:[d("title","标题","text",!0,!0),d("category","分类","select",!1,!0,{options:["公告","教程","案例"]}),d("status","状态","select",!0,!0,{options:["草稿","发布"],default:"草稿"}),d("tags","标签","tags",!1,!0),d("publishedAt","发布时间","date",!1,!0)],records:[],categories:[],fieldCategories:[]}]}),project:()=>({id:i(),name:"项目展示模块",type:"project",directories:[{id:i(),name:"项目列表",type:"table",supportsCategory:!0,fields:[d("title","项目名","text",!0,!0),d("category","分类","select",!1,!0,{options:["Web","移动","AI","IoT"]}),d("status","状态","select",!0,!0,{options:["进行中","已完成"],default:"进行中"})],records:[],categories:[],fieldCategories:[]}]}),custom:()=>({id:i(),name:"自定义模块",type:"custom",directories:[]})};function m(){let e=n();if(e.apps.length>0)return;let t={id:i(),name:"示例应用",desc:"用户管理示例",modules:[c.baseUser(),c.baseConfig()]};e.apps.push(t),o(e)}function u(e){for(let t of["name","title","username","buyer","orderNo","client"]){let s=e.fields.find(e=>e.key===t);if(s)return s}return e.fields.find(e=>"text"===e.type)||e.fields[0]||null}function h(e,t){let s=u(e);return s?String(t[s.key]||""):t.id}function x(e,t){if(!e||!e.modules)return null;for(let s of e.modules){let e=s.directories.find(e=>e.id===t);if(e)return e}return null}},9313:(e,t,s)=>{s.d(t,{SQ:()=>o,_2:()=>d,lp:()=>c,mB:()=>m,rI:()=>i,ty:()=>n});var a=s(74364);s(10640);var r=s(15205),l=s(11915);function i(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function n(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:s=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function d(e){let{className:t,inset:s,variant:i="default",...n}=e;return(0,a.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":i,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function c(e){let{className:t,inset:s,...i}=e;return(0,a.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,l.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...i})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,l.cn)("bg-border -mx-1 my-1 h-px",t),...s})}},21114:(e,t,s)=>{s.d(t,{v:()=>w});var a=s(74364),r=s(54356),l=s(10640),i=s(5660),n=s(74688),o=s(69494),d=s(11915),c=s(6651),m=s(88294),u=s(25664),h=s(73475);function x(e){var t;let{mode:s,nameLabel:r="名称",namePlaceholder:x="输入名称",showDesc:p=!1,descLabel:g="描述（可选）",descPlaceholder:b="可填写用途简述",submitText:f="创建",cancelText:y="取消",templateLabel:j="选择模板",options:v=[],defaultOptionKey:w,initialName:N="",showIconUpload:C=!1,iconLabel:z,onSubmit:k,onCancel:S}=e,{locale:P}=(0,h.Y)(),[L,A]=(0,l.useState)(N||""),[T,D]=(0,l.useState)(""),[I,_]=(0,l.useState)(w||(null===(t=v[0])||void 0===t?void 0:t.key)||""),[E,M]=(0,l.useState)(""),[F,B]=(0,l.useState)(""),[O,U]=(0,l.useState)("");(0,l.useEffect)(()=>{var e;A(N||""),D(""),_(w||(null===(e=v[0])||void 0===e?void 0:e.key)||""),M(""),B(""),U("")},[w,v,N]);let $=!!L.trim()&&!!I&&("module"!==s||"blank-template"===I||!!O.trim());return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm text-slate-700",children:r}),(0,a.jsx)(n.p,{value:L,onChange:e=>A(e.target.value),placeholder:x,autoFocus:!0,className:"bg-white/80"})]}),p&&(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm text-slate-700",children:g}),(0,a.jsx)(o.T,{value:T,onChange:e=>D(e.target.value),placeholder:b,rows:3,className:"bg-white/80"})]}),C&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-slate-700",children:z||("zh"===P?"模块图标":"Module Icon")}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[F?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:F,alt:"zh"===P?"模块图标":"Module Icon",className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),(0,a.jsx)("button",{type:"button",onClick:()=>{M(""),B("")},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition",children:(0,a.jsx)(c.A,{className:"size-3"})})]}):(0,a.jsx)("div",{className:"w-12 h-12 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:(0,a.jsx)(m.A,{className:"size-5 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onload=e=>{var t;let s=null===(t=e.target)||void 0===t?void 0:t.result;M(s),B(s)},e.readAsDataURL(s)}},className:"hidden",id:"icon-upload"}),(0,a.jsxs)("label",{htmlFor:"icon-upload",className:"inline-flex items-center gap-2 px-3 py-2 text-sm bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 cursor-pointer transition",children:[(0,a.jsx)(u.A,{className:"size-4"}),F?"zh"===P?"更换图标":"Change Icon":"zh"===P?"上传图标":"Upload Icon"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"zh"===P?"支持 PNG、JPG、SVG 格式，建议尺寸 64x64":"Supports PNG, JPG, SVG formats, recommended size 64x64"})]})]})]}),"module"===s&&"blank-template"!==I&&(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm text-slate-700",children:"zh"===P?"默认表名称":"Default Table Name"}),(0,a.jsx)(n.p,{value:O,onChange:e=>U(e.target.value),placeholder:"zh"===P?"请输入默认表名称":"Enter default table name",className:"bg-white/80"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("div",{className:"text-sm text-slate-700",children:j}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>_(e.key),className:(0,d.cn)("rounded-xl border px-3 py-2 text-left bg-white/70 hover:bg-white/90 transition",I===e.key?"outline outline-2 outline-blue-200 border-blue-200":"border-white/60"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,a.jsx)("img",{src:e.icon,alt:e.label,className:"w-5 h-5 rounded object-cover"}),(0,a.jsx)("div",{className:"font-medium",children:e.label})]}),e.desc&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.desc})]},e.key))})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:S,children:y}),(0,a.jsx)(i.$,{disabled:!$,onClick:()=>{$&&k({name:L.trim(),desc:T.trim(),templateKey:I,icon:E||void 0,defaultTableName:O.trim()||void 0})},children:f})]})]})}function p(e){let{open:t,onOpenChange:s,title:l,nameLabel:i="名称",namePlaceholder:n="输入应用名称",showDesc:o=!1,descLabel:d="描述（可选）",descPlaceholder:c="可填写应用用途简述",submitText:m="创建",cancelText:u="取消",templateLabel:h="选择模板",options:p=[],defaultOptionKey:g,initialName:b="",onSubmit:f}=e;return(0,a.jsx)(r.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(r.Cf,{className:"sm:max-w-[720px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"add-app-description",children:[(0,a.jsx)(r.c7,{children:(0,a.jsx)(r.L3,{children:l})}),(0,a.jsx)("div",{id:"add-app-description",className:"sr-only",children:"Create a new application by providing a name and selecting a template"}),(0,a.jsx)(x,{mode:"app",nameLabel:i,namePlaceholder:n,showDesc:o,descLabel:d,descPlaceholder:c,submitText:m,cancelText:u,templateLabel:h,options:p,defaultOptionKey:g,initialName:b,onSubmit:e=>{f(e),s(!1)},onCancel:()=>{s(!1)}})]})})}function g(e){let{open:t,onOpenChange:s,title:l,nameLabel:i="名称",namePlaceholder:n="输入目录名称",showDesc:o=!1,descLabel:d="描述（可选）",descPlaceholder:c="可填写目录用途简述",submitText:m="创建",cancelText:u="取消",templateLabel:h="选择模板",options:p=[],defaultOptionKey:g,initialName:b="",onSubmit:f}=e;return(0,a.jsx)(r.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(r.Cf,{className:"sm:max-w-[720px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"add-directory-description",children:[(0,a.jsx)(r.c7,{children:(0,a.jsx)(r.L3,{children:l})}),(0,a.jsx)("div",{id:"add-directory-description",className:"sr-only",children:"Create a new directory by providing a name and selecting a template"}),(0,a.jsx)(x,{mode:"directory",nameLabel:i,namePlaceholder:n,showDesc:o,descLabel:d,descPlaceholder:c,submitText:m,cancelText:u,templateLabel:h,options:p,defaultOptionKey:g,initialName:b,onSubmit:e=>{f(e),s(!1)},onCancel:()=>{s(!1)}})]})})}var b=s(97173),f=s(61435),y=s(74994),j=s(40721);function v(e){let{open:t,onOpenChange:s,title:o,nameLabel:d="名称",namePlaceholder:c="输入模块名称",showDesc:m=!1,descLabel:u="描述（可选）",descPlaceholder:p="可填写模块用途简述",submitText:g="创建",cancelText:v="取消",templateLabel:w="选择模板",options:N=[],defaultOptionKey:C,initialName:z="",showIconUpload:k=!1,iconLabel:S="zh"===locale?"模块图标":"Module Icon",onSubmit:P}=e,{t:L,locale:A}=(0,h.Y)(),[T,D]=(0,l.useState)("self"),[I,_]=(0,l.useState)(""),[E,M]=(0,l.useState)("all"),F=[{id:"1",name:"zh"===A?"用户认证模块":"User Authentication Module",provider:"AuthTech Solutions",description:"zh"===A?"完整的用户认证和授权系统，支持多种登录方式":"Complete user authentication and authorization system with multiple login methods",category:"zh"===A?"认证":"Authentication",version:"2.1.0",downloads:15420,rating:4.8},{id:"2",name:"zh"===A?"支付集成模块":"Payment Integration Module",provider:"PaymentPro",description:"zh"===A?"支持多种支付方式的集成模块，包括微信、支付宝等":"Payment integration module supporting multiple payment methods including WeChat, Alipay, etc.",category:"zh"===A?"支付":"Payment",version:"1.5.2",downloads:8930,rating:4.6},{id:"3",name:"zh"===A?"数据分析模块":"Data Analytics Module",provider:"DataViz Inc",description:"zh"===A?"强大的数据可视化和分析工具，支持多种图表类型":"Powerful data visualization and analytics tool supporting multiple chart types",category:"zh"===A?"分析":"Analytics",version:"3.0.1",downloads:12350,rating:4.9},{id:"4",name:"zh"===A?"消息推送模块":"Message Push Module",provider:"NotifyHub",description:"zh"===A?"实时消息推送服务，支持邮件、短信、应用内通知":"Real-time message push service supporting email, SMS, and in-app notifications",category:"zh"===A?"通信":"Communication",version:"1.8.0",downloads:6780,rating:4.4}],B=F.filter(e=>{let t=e.name.toLowerCase().includes(I.toLowerCase())||e.provider.toLowerCase().includes(I.toLowerCase())||e.description.toLowerCase().includes(I.toLowerCase()),s="all"===E||e.category===E;return t&&s}),O=["all",...Array.from(new Set(F.map(e=>e.category)))],U=()=>{s(!1)},$=e=>{P({name:e.name,desc:"第三方模块：".concat(e.description),templateKey:"third-party-".concat(e.id),icon:e.icon}),s(!1)};return(0,a.jsx)(r.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(r.Cf,{className:"sm:max-w-[720px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"add-module-description",children:[(0,a.jsx)(r.c7,{children:(0,a.jsx)(r.L3,{children:o})}),(0,a.jsx)("div",{id:"add-module-description",className:"sr-only",children:"Create a new module by selecting self-developed or third-party options"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsxs)(i.$,{variant:"self"===T?"default":"outline",onClick:()=>D("self"),className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),L("selfModule")]}),(0,a.jsxs)(i.$,{variant:"third-party"===T?"default":"outline",onClick:()=>D("third-party"),className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),L("thirdPartyModule")]})]}),"self"===T?(0,a.jsx)(x,{mode:"module",nameLabel:d,namePlaceholder:c,showDesc:m,descLabel:u,descPlaceholder:p,submitText:g,cancelText:v,templateLabel:w,options:N,defaultOptionKey:C,initialName:z,showIconUpload:k,iconLabel:S,onSubmit:e=>{P(e),s(!1)},onCancel:U}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(n.p,{placeholder:L("searchModulePlaceholder"),value:I,onChange:e=>_(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("select",{value:E,onChange:e=>M(e.target.value),className:"px-3 py-2 border rounded-md bg-white",children:[(0,a.jsx)("option",{value:"all",children:L("allCategories")}),O.slice(1).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3",children:B.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[L("provider"),": ",(0,a.jsx)("span",{className:"font-medium",children:e.provider})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(b.E,{variant:"secondary",children:e.category}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["v",e.version]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[L("downloads"),": ",e.downloads.toLocaleString()]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[L("rating"),": ",e.rating,"/5.0"]})]})]}),(0,a.jsx)(i.$,{onClick:()=>$(e),size:"sm",className:"ml-4",children:L("install")})]})},e.id))}),0===B.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:L("noMatchingModules")}),(0,a.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,a.jsx)(i.$,{variant:"outline",onClick:U,children:v})})]})]})})}function w(e){let{open:t,onOpenChange:s,mode:r,title:l,nameLabel:i="名称",namePlaceholder:n="输入名称",showDesc:o=!1,descLabel:d="描述（可选）",descPlaceholder:c="可填写用途简述",submitText:m="创建",cancelText:u="取消",templateLabel:h="选择模板",options:x=[],defaultOptionKey:b,initialName:f="",showIconUpload:y=!1,iconLabel:j="Module Icon",onSubmit:w}=e;return"app"===r?(0,a.jsx)(p,{open:t,onOpenChange:s,title:l,nameLabel:i,namePlaceholder:n,showDesc:o,descLabel:d,descPlaceholder:c,submitText:m,cancelText:u,templateLabel:h,options:x,defaultOptionKey:b,initialName:f,onSubmit:w}):"directory"===r?(0,a.jsx)(g,{open:t,onOpenChange:s,title:l,nameLabel:i,namePlaceholder:n,showDesc:o,descLabel:d,descPlaceholder:c,submitText:m,cancelText:u,templateLabel:h,options:x,defaultOptionKey:b,initialName:f,onSubmit:w}):"module"===r?(0,a.jsx)(v,{open:t,onOpenChange:s,title:l,nameLabel:i,namePlaceholder:n,showDesc:o,descLabel:d,descPlaceholder:c,submitText:m,cancelText:u,templateLabel:h,options:x,defaultOptionKey:b,initialName:f,showIconUpload:y,iconLabel:j,onSubmit:w}):null}},25140:(e,t,s)=>{s.d(t,{o:()=>o});var a=s(74364),r=s(10640),l=s(54356),i=s(5660),n=s(73475);function o(e){let{open:t,onOpenChange:s,title:o,itemName:d,itemType:c,onConfirm:m,isLoading:u=!1}=e,{locale:h}=(0,n.Y)(),[x,p]=(0,r.useState)(!1),g=async()=>{p(!0);try{await m(),s(!1)}catch(e){console.error("删除操作失败:",e)}finally{p(!1)}},b=u||x,f=e=>{let t={application:{zh:"应用",en:"Application"},module:{zh:"模块",en:"Module"},directory:{zh:"目录",en:"Directory"},field:{zh:"字段",en:"Field"},category:{zh:"分类",en:"Category"},record:{zh:"记录",en:"Record"},user:{zh:"用户",en:"User"},default:{zh:"项目",en:"Item"}},s=t[e]||t.default;return"zh"===h?s.zh:s.en},y=()=>{if(o)return o;let e=f(c);return"zh"===h?"确认删除".concat(e):"Confirm Delete ".concat(e)},j=()=>{let e=f(c);return"zh"===h?"确定要删除".concat(e,' "').concat(d,'" 吗？此操作不可撤销，相关数据将被删除。'):"Are you sure you want to delete ".concat(e,' "').concat(d,'"? This action cannot be undone and related data will be deleted.')};return(0,a.jsx)(l.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(l.Cf,{className:"sm:max-w-[480px] bg-white/70 backdrop-blur border-white/60","aria-describedby":"delete-dialog-description",children:[(0,a.jsx)(l.c7,{children:(0,a.jsx)(l.L3,{children:y()})}),(0,a.jsx)("div",{id:"delete-dialog-description",className:"sr-only",children:j()}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y()}),(0,a.jsx)("p",{className:"text-gray-500",children:j()})]})}),(0,a.jsxs)(l.Es,{children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:()=>s(!1),disabled:b,children:"zh"===h?"取消":"Cancel"}),(0,a.jsx)(i.$,{onClick:g,disabled:b,variant:"destructive",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"zh"===h?"删除中...":"Deleting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"zh"===h?"确认删除":"Confirm Delete"]})})]})]})})}},31389:(e,t,s)=>{s.d(t,{H:()=>l});var a=s(74364),r=s(11915);function l(e){return(0,a.jsx)("div",{className:(0,r.cn)("rounded-2xl border border-white/60 bg-white/60 backdrop-blur-xl shadow-[0_10px_30px_rgba(0,0,0,0.08),_0_4px_12px_rgba(0,0,0,0.06)]",e.className),children:e.children})}},47736:(e,t,s)=>{s.d(t,{NotificationProvider:()=>f,E:()=>b});var a=s(74364),r=s(10640),l=s(74459),i=s(84174),n=s(76826),o=s(69013),d=s(6651),c=s(5660),m=s(31389);let u={success:l.A,error:i.A,warning:n.A,info:o.A},h={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function x(e){let{notification:t}=e,{removeNotification:s}=b(),[l,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),x=u[t.type];(0,r.useEffect)(()=>{setTimeout(()=>i(!0),50)},[]);let p=()=>{o(!0),setTimeout(()=>{s(t.id)},200)};return(0,a.jsx)("div",{className:"transform transition-all duration-200 ease-out ".concat(l&&!n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,a.jsx)(m.H,{className:"p-4 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x,{className:"h-5 w-5 mt-0.5 flex-shrink-0 ".concat(h[t.type])}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 leading-tight",children:t.title}),t.message&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1 leading-relaxed",children:t.message})]}),(0,a.jsx)("button",{onClick:p,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]}),t.action&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>{var e;null===(e=t.action)||void 0===e||e.onClick(),p()},className:"bg-white/70 backdrop-blur border-white/60 text-xs",children:t.action.label})})]})]})})})}function p(){let{notifications:e}=b();return 0===e.length?null:(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(e=>(0,a.jsx)(x,{notification:e},e.id))})}let g=(0,r.createContext)(void 0);function b(){let e=(0,r.useContext)(g);if(!e)throw Error("useNotifications must be used within a NotificationProvider");return e}function f(e){let{children:t}=e,[s,l]=(0,r.useState)([]),i=(0,r.useCallback)(e=>{var t;let s=Math.random().toString(36).substr(2,9),a={...e,id:s,duration:null!==(t=e.duration)&&void 0!==t?t:5e3};l(e=>[...e,a]),a.duration>0&&setTimeout(()=>{n(s)},a.duration)},[]),n=(0,r.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]),o=(0,r.useCallback)(()=>{l([])},[]);return(0,a.jsxs)(g.Provider,{value:{notifications:s,addNotification:i,removeNotification:n,clearAll:o},children:[t,(0,a.jsx)(p,{})]})}},62398:(e,t,s)=>{s.d(t,{B:()=>T});var a=s(74364),r=s(10640),l=s(5660),i=s(9313),n=s(11331),o=s(47796),d=s(46638),c=s(49592),m=s(83528),u=s(59067),h=s(54356),x=s(74688),p=s(56318),g=s(25646),b=s(61570),f=s(58306),y=s(28014),j=s(69074),v=s(31389),w=s(73475);function N(e){let{onLogin:t,onSwitchToRegister:s,onForgotPassword:i}=e,{locale:n}=(0,w.Y)(),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[N,C]=(0,r.useState)(!1),z=async e=>{e.preventDefault(),C(!0);try{await (null==t?void 0:t(o,c))}finally{C(!1)}};return(0,a.jsx)(v.H,{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)(g.Zp,{className:"border-0 bg-transparent shadow-none",children:[(0,a.jsxs)(g.aR,{className:"text-center pb-6",children:[(0,a.jsx)(g.ZB,{className:"text-2xl font-semibold text-gray-900",children:"zh"===n?"欢迎回来":"Welcome Back"}),(0,a.jsx)(g.BT,{className:"text-gray-600",children:"zh"===n?"登录您的账户以继续使用":"Sign in to your account to continue"})]}),(0,a.jsxs)("form",{onSubmit:z,children:[(0,a.jsxs)(g.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"zh"===n?"邮箱地址":"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"email",type:"email",placeholder:"zh"===n?"请输入邮箱地址":"Enter your email address",value:o,onChange:e=>d(e.target.value),className:"pl-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"zh"===n?"密码":"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"password",type:u?"text":"password",placeholder:"zh"===n?"请输入密码":"Enter your password",value:c,onChange:e=>m(e.target.value),className:"pl-10 pr-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?(0,a.jsx)(y.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,a.jsx)("button",{type:"button",onClick:i,className:"text-blue-600 hover:text-blue-700 hover:underline",children:"zh"===n?"忘记密码？":"Forgot Password?"})})]}),(0,a.jsxs)(g.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-800 text-white",disabled:N,children:N?"zh"===n?"登录中...":"Signing in...":"zh"===n?"登录":"Sign In"}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["zh"===n?"还没有账户？":"Don't have an account?"," ",(0,a.jsx)("button",{type:"button",onClick:s,className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"zh"===n?"立即注册":"Sign Up Now"})]})]})]})]})})}var C=s(47255);function z(e){let{onRegister:t,onSwitchToLogin:s}=e,{locale:i}=(0,w.Y)(),[n,o]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[c,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[N,z]=(0,r.useState)(!1),[k,S]=(0,r.useState)({}),P=()=>{let e={};return n.name.trim()||(e.name="zh"===i?"请输入姓名":"Please enter your name"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(e.email="zh"===i?"请输入有效的邮箱地址":"Please enter a valid email address"):e.email="zh"===i?"请输入邮箱地址":"Please enter your email address",n.password?n.password.length<6&&(e.password="zh"===i?"密码至少需要6个字符":"Password must be at least 6 characters"):e.password="zh"===i?"请输入密码":"Please enter your password",n.password!==n.confirmPassword&&(e.confirmPassword="zh"===i?"两次输入的密码不一致":"Passwords do not match"),n.agreeToTerms||(e.agreeToTerms="zh"===i?"请同意服务条款和隐私政策":"Please agree to the Terms of Service and Privacy Policy"),S(e),0===Object.keys(e).length},L=async e=>{if(e.preventDefault(),P()){z(!0);try{await (null==t?void 0:t(n))}finally{z(!1)}}},A=(e,t)=>{o(s=>({...s,[e]:t})),k[e]&&S(t=>({...t,[e]:""}))};return(0,a.jsx)(v.H,{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)(g.Zp,{className:"border-0 bg-transparent shadow-none",children:[(0,a.jsxs)(g.aR,{className:"text-center pb-6",children:[(0,a.jsx)(g.ZB,{className:"text-2xl font-semibold text-gray-900",children:"zh"===i?"创建账户":"Create Account"}),(0,a.jsx)(g.BT,{className:"text-gray-600",children:"zh"===i?"填写信息以创建您的新账户":"Fill in the information to create your new account"})]}),(0,a.jsxs)("form",{onSubmit:L,children:[(0,a.jsxs)(g.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"zh"===i?"姓名":"Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"name",type:"text",placeholder:"zh"===i?"请输入您的姓名":"Enter your name",value:n.name,onChange:e=>A("name",e.target.value),className:"pl-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80"})]}),k.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"zh"===i?"邮箱地址":"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"email",type:"email",placeholder:"zh"===i?"请输入邮箱地址":"Enter your email address",value:n.email,onChange:e=>A("email",e.target.value),className:"pl-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80"})]}),k.email&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"zh"===i?"密码":"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"password",type:c?"text":"password",placeholder:"zh"===i?"请输入密码（至少6个字符）":"Enter your password (at least 6 characters)",value:n.password,onChange:e=>A("password",e.target.value),className:"pl-10 pr-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80"}),(0,a.jsx)("button",{type:"button",onClick:()=>m(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?(0,a.jsx)(y.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]}),k.password&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.password})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"zh"===i?"确认密码":"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"confirmPassword",type:u?"text":"password",placeholder:"zh"===i?"请再次输入密码":"Enter your password again",value:n.confirmPassword,onChange:e=>A("confirmPassword",e.target.value),className:"pl-10 pr-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80"}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?(0,a.jsx)(y.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})})]}),k.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.confirmPassword})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(C.S,{id:"agreeToTerms",checked:n.agreeToTerms,onCheckedChange:e=>A("agreeToTerms",e),className:"mt-1"}),(0,a.jsxs)(p.J,{htmlFor:"agreeToTerms",className:"text-sm text-gray-600 leading-relaxed",children:["zh"===i?"我同意":"I agree to the"," ",(0,a.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-700 hover:underline",children:"zh"===i?"服务条款":"Terms of Service"})," ","zh"===i?"和":"and"," ",(0,a.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-700 hover:underline",children:"zh"===i?"隐私政策":"Privacy Policy"})]})]}),k.agreeToTerms&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.agreeToTerms})]}),(0,a.jsxs)(g.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-800 text-white",disabled:N,children:N?"zh"===i?"注册中...":"Signing up...":"zh"===i?"创建账户":"Create Account"}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["zh"===i?"已有账户？":"Already have an account?"," ",(0,a.jsx)("button",{type:"button",onClick:s,className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"zh"===i?"立即登录":"Sign In Now"})]})]})]})]})})}var k=s(29552);function S(e){let{onSubmit:t,onBackToLogin:s}=e,{locale:i}=(0,w.Y)(),[n,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),h=async e=>{e.preventDefault(),c(!0);try{await (null==t?void 0:t(n)),u(!0)}finally{c(!1)}};return m?(0,a.jsx)(v.H,{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)(g.Zp,{className:"border-0 bg-transparent shadow-none",children:[(0,a.jsxs)(g.aR,{className:"text-center pb-6",children:[(0,a.jsx)(g.ZB,{className:"text-2xl font-semibold text-gray-900",children:"zh"===i?"邮件已发送":"Email Sent"}),(0,a.jsx)(g.BT,{className:"text-gray-600",children:"zh"===i?"我们已向您的邮箱发送了密码重置链接，请查收邮件并按照说明操作。":"We have sent a password reset link to your email. Please check your email and follow the instructions."})]}),(0,a.jsx)(g.wL,{children:(0,a.jsxs)(l.$,{onClick:s,variant:"outline",className:"w-full bg-white/70 backdrop-blur border-white/60",children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"zh"===i?"返回登录":"Back to Login"]})})]})}):(0,a.jsx)(v.H,{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)(g.Zp,{className:"border-0 bg-transparent shadow-none",children:[(0,a.jsxs)(g.aR,{className:"text-center pb-6",children:[(0,a.jsx)(g.ZB,{className:"text-2xl font-semibold text-gray-900",children:"zh"===i?"重置密码":"Reset Password"}),(0,a.jsx)(g.BT,{className:"text-gray-600",children:"zh"===i?"输入您的邮箱地址，我们将发送密码重置链接给您":"Enter your email address and we will send you a password reset link"})]}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsx)(g.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"zh"===i?"邮箱地址":"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(x.p,{id:"email",type:"email",placeholder:"zh"===i?"请输入您的邮箱地址":"Enter your email address",value:n,onChange:e=>o(e.target.value),className:"pl-10 bg-white/70 backdrop-blur border-white/60 focus:border-white/80",required:!0})]})]})}),(0,a.jsxs)(g.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-800 text-white",disabled:d,children:d?"zh"===i?"发送中...":"Sending...":"zh"===i?"发送重置链接":"Send Reset Link"}),(0,a.jsxs)(l.$,{type:"button",onClick:s,variant:"ghost",className:"w-full",children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"zh"===i?"返回登录":"Back to Login"]})]})]})]})})}var P=s(6712);function L(e){let{open:t,onOpenChange:s,defaultMode:l="login",onAuthSuccess:i}=e,[n,o]=(0,r.useState)(l),{login:d,register:c}=(0,u.A)(),{toast:m}=(0,P.dj)(),x=async(e,t)=>{try{await d(e,t),m({description:"登录成功"}),null==i||i(null),s(!1)}catch(e){console.error("Login failed:",e),m({description:e instanceof Error?e.message:"登录失败",variant:"destructive"})}},p=async e=>{try{await c({name:e.name,email:e.email,password:e.password}),m({description:"注册成功"}),null==i||i(null),s(!1)}catch(e){console.error("Register failed:",e),m({description:e instanceof Error?e.message:"注册失败",variant:"destructive"})}},g=async e=>{try{m({description:"密码重置邮件已发送"}),o("login")}catch(e){console.error("Forgot password failed:",e),m({description:e instanceof Error?e.message:"发送失败",variant:"destructive"})}};return(0,a.jsx)(h.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(h.Cf,{className:"sm:max-w-[480px] bg-white/75 backdrop-blur-xl border-white/50 p-0",children:[(0,a.jsx)(h.c7,{children:(0,a.jsxs)(h.L3,{children:["login"===n&&"登录","register"===n&&"注册","forgot-password"===n&&"忘记密码"]})}),(0,a.jsxs)("div",{className:"p-6",children:["login"===n&&(0,a.jsx)(N,{onLogin:x,onSwitchToRegister:()=>o("register"),onForgotPassword:()=>o("forgot-password")}),"register"===n&&(0,a.jsx)(z,{onRegister:p,onSwitchToLogin:()=>o("login")}),"forgot-password"===n&&(0,a.jsx)(S,{onSubmit:g,onBackToLogin:()=>o("login")})]})]})})}var A=s(47736);function T(){let{locale:e}=(0,w.Y)(),{user:t,logout:s}=(0,u.A)(),{addNotification:h}=(0,A.E)(),[x,p]=(0,r.useState)(!1);return t?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"ghost",size:"icon",className:"relative bg-white/70 backdrop-blur border-white/60 hover:bg-white/80",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs"})]}),(0,a.jsxs)(i.rI,{children:[(0,a.jsx)(i.ty,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,a.jsxs)(n.eu,{className:"h-10 w-10",children:[(0,a.jsx)(n.BK,{src:t.avatar||"/placeholder.svg",alt:t.name}),(0,a.jsx)(n.q5,{className:"bg-white/70 backdrop-blur",children:t.name.charAt(0).toUpperCase()})]})})}),(0,a.jsxs)(i.SQ,{className:"w-56 bg-white/90 backdrop-blur-xl border-white/60",align:"end",forceMount:!0,children:[(0,a.jsx)(i.lp,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:t.name}),(0,a.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),(0,a.jsx)(i.mB,{}),(0,a.jsxs)(i._2,{children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"zh"===e?"个人资料":"Profile"})]}),(0,a.jsxs)(i._2,{children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"zh"===e?"设置":"Settings"})]}),(0,a.jsx)(i.mB,{}),(0,a.jsxs)(i._2,{onClick:()=>{s(),h({type:"success",title:"zh"===e?"已退出登录":"Logged Out",message:"zh"===e?"您已成功退出账户":"You have successfully logged out"})},children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"zh"===e?"退出登录":"Log Out"})]})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.$,{onClick:()=>p(!0),variant:"outline",className:"bg-white/70 backdrop-blur border-white/60 hover:bg-white/80",children:"zh"===e?"登录":"Sign In"}),(0,a.jsx)(L,{open:x,onOpenChange:p,onAuthSuccess:t=>{h({type:"success",title:"zh"===e?"登录成功":"Login Successful",message:"zh"===e?"欢迎回来，".concat(t.name,"！"):"Welcome back, ".concat(t.name,"!")})}})]})}}}]);