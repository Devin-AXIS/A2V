"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1650],{91650:(e,t,a)=>{a.d(t,{BW:()=>c,api:()=>i});let o="http://47.94.52.142:3007";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("aino_token");a||(a="test-token");let n={headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)},...t.headers},...t};try{let a;console.log("\uD83C\uDF10 API Request: ".concat(t.method||"GET"," ").concat(o).concat(e)),console.log("\uD83D\uDCCB Request Config:",{url:"".concat(o).concat(e),method:t.method||"GET",headers:n.headers,body:t.body?JSON.parse(t.body):void 0});let c=await fetch("".concat(o).concat(e),n);console.log("\uD83D\uDCE1 Response Status:",c.status),console.log("\uD83D\uDCE1 Response Headers:",Object.fromEntries(c.headers.entries()));let i=c.headers.get("content-type");if(console.log("\uD83D\uDCE1 Content-Type:",i),i&&i.includes("application/json"))a=await c.json();else{let e=await c.text();console.log("\uD83D\uDCE1 Response Text:",e);try{a=JSON.parse(e)}catch(t){a={error:e}}}if(console.log("\uD83D\uDCE1 Response Data:",a),c.ok)return a;{console.error("❌ HTTP Error: ".concat(c.status),a);let e=a.error||a.message||"HTTP ".concat(c.status);if(a.details&&"object"==typeof a.details){let t=Object.entries(a.details).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(a)}).join(", ");e+=" (".concat(t,")")}let t=Error(e);throw t.details=a.details,t.originalData=a,t}}catch(a){throw console.error("❌ API Error:",a),console.error("❌ Error Details:",{message:a instanceof Error?a.message:"Unknown error",stack:a instanceof Error?a.stack:void 0,endpoint:e,method:t.method||"GET",status:a instanceof Error&&a.status?a.status:void 0,details:a instanceof Error&&a.details?a.details:void 0,originalData:a instanceof Error&&a.originalData?a.originalData:void 0}),a}}let c={async getFieldCategories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/field-categories".concat(a?"?".concat(a):""))},async createFieldCategory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let o=a.toString();return n("/api/field-categories".concat(o?"?".concat(o):""),{method:"POST",body:JSON.stringify(e)})},updateFieldCategory:async(e,t)=>n("/api/field-categories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteFieldCategory:async e=>n("/api/field-categories/".concat(e),{method:"DELETE"}),getFieldCategory:async e=>n("/api/field-categories/".concat(e))},i={auth:{login:async e=>n("/api/users/login",{method:"POST",body:JSON.stringify(e)}),register:async e=>n("/api/users/register",{method:"POST",body:JSON.stringify(e)}),getCurrentUser:async()=>n("/api/users/me"),updateCurrentUser:async e=>n("/api/users/me",{method:"PATCH",body:JSON.stringify(e)})},applications:{async getApplications(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/applications".concat(a?"?".concat(a):""))},createApplication:async e=>n("/api/applications",{method:"POST",body:JSON.stringify(e)}),getApplication:async e=>n("/api/applications/".concat(e)),updateApplication:async(e,t)=>n("/api/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteApplication:async e=>n("/api/applications/".concat(e),{method:"DELETE"}),getApplicationModules:async e=>n("/api/applications/".concat(e,"/modules"))},applicationUsers:{loginUser:async(e,t)=>n("/api/modules/system/user/login?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),changePassword:async(e,t)=>n("/api/modules/system/user/change-password?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),async getApplicationUsers(e,t){let a=new URLSearchParams;(null==t?void 0:t.page)&&a.append("page",t.page.toString()),(null==t?void 0:t.limit)&&a.append("limit",t.limit.toString()),(null==t?void 0:t.search)&&a.append("search",t.search),(null==t?void 0:t.status)&&a.append("status",t.status),(null==t?void 0:t.role)&&a.append("role",t.role),(null==t?void 0:t.department)&&a.append("department",t.department),(null==t?void 0:t.sortBy)&&a.append("sortBy",t.sortBy),(null==t?void 0:t.sortOrder)&&a.append("sortOrder",t.sortOrder);let o=a.toString();return n("/api/modules/system/user?applicationId=".concat(e).concat(o?"&".concat(o):""))},createApplicationUser:async(e,t)=>n("/api/modules/system/user?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),registerUser:async(e,t)=>n("/api/modules/system/user/register?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),getApplicationUser:async(e,t)=>n("/api/modules/system/user/".concat(t,"?applicationId=").concat(e)),updateApplicationUser:async(e,t,a)=>n("/api/modules/system/user/".concat(t,"?applicationId=").concat(e),{method:"PUT",body:JSON.stringify(a)}),deleteApplicationUser:async(e,t)=>n("/api/modules/system/user/".concat(t,"?applicationId=").concat(e),{method:"DELETE"})},directories:{async getDirectories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/directories".concat(a?"?".concat(a):""))},async createDirectory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let o=a.toString();return n("/api/directories".concat(o?"?".concat(o):""),{method:"POST",body:JSON.stringify(e)})},updateDirectory:async(e,t)=>n("/api/directories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteDirectory:async e=>n("/api/directories/".concat(e),{method:"DELETE"}),getDirectory:async e=>n("/api/directories/".concat(e))},directoryDefs:{async getDirectoryDefs(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/directory-defs".concat(a?"?".concat(a):""))},getDirectoryDef:async e=>n("/api/directory-defs/".concat(e)),getDirectoryDefBySlug:async e=>n("/api/directory-defs/slug/".concat(e)),createDirectoryDef:async e=>n("/api/directory-defs",{method:"POST",body:JSON.stringify(e)}),updateDirectoryDef:async(e,t)=>n("/api/directory-defs/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),deleteDirectoryDef:async e=>n("/api/directory-defs/".concat(e),{method:"DELETE"}),getOrCreateDirectoryDefByDirectoryId:async(e,t)=>n("/api/directory-defs/by-directory/".concat(e),{method:"POST",body:JSON.stringify({applicationId:t})})},fieldCategories:c,recordCategories:{async getRecordCategories(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/record-categories".concat(a?"?".concat(a):""))},async createRecordCategory(e,t){let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let o=a.toString();return n("/api/record-categories".concat(o?"?".concat(o):""),{method:"POST",body:JSON.stringify(e)})},updateRecordCategory:async(e,t)=>n("/api/record-categories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteRecordCategory:async e=>n("/api/record-categories/".concat(e),{method:"DELETE"}),getRecordCategory:async e=>n("/api/record-categories/".concat(e))},fields:{async getFields(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/field-defs".concat(a?"?".concat(a):""))},createField:async e=>n("/api/field-defs",{method:"POST",body:JSON.stringify(e)}),updateField:async(e,t)=>n("/api/field-defs/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),deleteField:async e=>n("/api/field-defs/".concat(e),{method:"DELETE"}),getField:async e=>n("/api/field-defs/".concat(e))},records:{async listRecords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URLSearchParams;Object.entries({page:t.page,limit:t.pageSize,sort:t.sort,fields:t.fields,filter:t.filter}).forEach(e=>{let[t,o]=e;void 0!==o&&a.append(t,o.toString())});let o=a.toString();return n("/api/records/".concat(e).concat(o?"?".concat(o):""))},getRecord:async(e,t)=>n("/api/records/".concat(e,"/").concat(t)),createRecord:async(e,t)=>n("/api/records/".concat(e),{method:"POST",body:JSON.stringify(t)}),updateRecord:async(e,t,a)=>n("/api/records/".concat(e,"/").concat(t),{method:"PATCH",body:JSON.stringify(a)}),deleteRecord:async(e,t)=>n("/api/records/".concat(e,"/").concat(t),{method:"DELETE"}),bulkDeleteRecords:async(e,t)=>n("/api/records/".concat(e,"/batch"),{method:"DELETE",body:JSON.stringify({recordIds:t})})},relations:{createRelation:async e=>n("/api/relations",{method:"POST",body:JSON.stringify(e)}),getRelation:async e=>n("/api/relations/".concat(e)),async queryRelations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return e.tenantId&&t.append("tenantId",e.tenantId),e.fromUrn&&t.append("fromUrn",e.fromUrn),e.toUrn&&t.append("toUrn",e.toUrn),e.type&&t.append("type",e.type),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),n("/api/relations?".concat(t.toString()))},updateRelation:async(e,t)=>n("/api/relations/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteRelation:async e=>n("/api/relations/".concat(e),{method:"DELETE"}),getRelationsByUrn:async e=>n("/api/relations/urn/".concat(encodeURIComponent(e)))},modules:{async getInstalledModules(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,o]=e;void 0!==o&&t.append(a,o.toString())});let a=t.toString();return n("/api/modules/installed".concat(a?"?".concat(a):""))},getModuleDetail:async(e,t)=>n("/api/modules/installed/".concat(encodeURIComponent(t),"?applicationId=").concat(e)),installModule:async(e,t)=>n("/api/modules/install?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),async uninstallModule(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n("/api/modules/uninstall/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"DELETE",body:JSON.stringify(a)})},updateModuleConfig:async(e,t,a)=>n("/api/modules/config/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"PUT",body:JSON.stringify({config:a})}),installModuleSimple:async(e,t)=>n("/api/modules/simple/install?applicationId=".concat(e),{method:"POST",body:JSON.stringify(t)}),getInstalledModulesSimple:async e=>n("/api/modules/simple/installed?applicationId=".concat(e)),updateModuleStatus:async(e,t,a)=>n("/api/modules/status/".concat(encodeURIComponent(t),"?applicationId=").concat(e),{method:"PATCH",body:JSON.stringify({status:a})}),checkModuleDependencies:async(e,t)=>n("/api/modules/dependencies/".concat(encodeURIComponent(t),"?applicationId=").concat(e)),getModuleStats:async e=>n("/api/modules/stats?applicationId=".concat(e)),getAvailableModules:async()=>n("/api/modules/available"),initializeSystemModules:async e=>n("/api/modules/initialize-system?applicationId=".concat(e),{method:"POST"})}}}}]);