"use strict";exports.id=3718,exports.ids=[3718],exports.modules={428:(a,b,c)=>{c.d(b,{AppHeader:()=>j});var d=c(80742),e=c(30311),f=c(88810),g=c(85971),h=c(91367),i=c(84336);function j({title:a,showBackButton:b=!1,className:c}){let[j,k]=(0,e.useState)(!1),l=(0,i.useRouter)();return(0,d.jsxs)("header",{className:(0,f.cn)("fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-3 h-14 transition-all duration-300",{"bg-white/80 backdrop-blur-lg shadow-sm":j,"bg-transparent shadow-none":!j},c),children:[(0,d.jsx)("div",{className:"flex-1",children:b&&(0,d.jsx)("button",{onClick:()=>l.back(),className:"p-2 rounded-full hover:bg-gray-100/50",children:(0,d.jsx)(g.A,{className:"w-6 h-6 text-gray-800"})})}),(0,d.jsx)("div",{className:"flex-1 text-center",children:(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap inline-block",children:a})}),(0,d.jsx)("div",{className:"flex-1 flex justify-end items-center space-x-1",children:(0,d.jsx)("button",{className:(0,f.cn)("p-2 rounded-full hover:bg-gray-100/50 transition-opacity duration-300",{"opacity-100":j,"opacity-0 pointer-events-none":!j}),children:(0,d.jsx)(h.A,{className:"w-6 h-6 text-gray-800"})})})]})}},3358:(a,b,c)=>{c.d(b,{F:()=>l});var d=c(80742),e=c(30311),f=c.n(e),g=c(8184),h=c(52747),i=c(99506),j=c(88810);function k({id:a,children:b,className:c}){let{attributes:e,listeners:g,setNodeRef:k,transform:l,transition:m,isDragging:n}=(0,h.gl)({id:a}),o={transform:i.Ks.Transform.toString(l),transition:m,opacity:n?.5:1,zIndex:n?1e3:1};return(0,d.jsx)("div",{ref:k,style:o,...e,...g,className:(0,j.cn)("relative cursor-grab active:cursor-grabbing transition-all duration-200",n&&"shadow-2xl scale-105",c),children:f().isValidElement(b)?f().cloneElement(b,{id:a,"data-theme-key":a}):b})}function l({items:a,onReorder:b,className:c="space-y-4",layout:e="vertical",disabled:i=!1,gridCols:l=3}){let[m,n]=f().useState(a),[o,p]=f().useState(null),q=(0,g.FR)((0,g.MS)(g.AN,{activationConstraint:{distance:8}}),(0,g.MS)(g.uN,{coordinateGetter:h.JR})),r="grid"===e?h.kL:h._G,s="grid"===e?(0,j.cn)(`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${l} gap-6`,c):c,t=m.find(a=>a.id===o);return i?(0,d.jsx)("div",{className:s,children:m.map(a=>(0,d.jsx)("div",{className:a.className,children:f().isValidElement(a.content)?f().cloneElement(a.content,{id:a.id,"data-theme-key":a.id}):a.content},a.id))}):(0,d.jsxs)(g.Mp,{sensors:q,collisionDetection:g.fp,onDragStart:function(a){p(a.active.id)},onDragEnd:function(a){let{active:c,over:d}=a;if(p(null),d&&c.id!==d.id){let a=m.findIndex(a=>a.id===c.id),e=m.findIndex(a=>a.id===d.id),f=(0,h.be)(m,a,e);n(f),b?.(f.map(a=>a.id))}},children:[(0,d.jsx)(h.gB,{items:m.map(a=>a.id),strategy:r,children:(0,d.jsx)("div",{className:s,children:m.map(a=>(0,d.jsx)(k,{id:a.id,className:(0,j.cn)("transition-all duration-200",a.className),children:a.content},a.id))})}),(0,d.jsx)(g.Hd,{children:t?(0,d.jsx)("div",{className:"transform rotate-3 shadow-2xl",children:f().isValidElement(t.content)?f().cloneElement(t.content,{id:String(t.id),"data-theme-key":String(t.id)}):t.content}):null})]})}},4734:(a,b,c)=>{c.d(b,{a:()=>g,g:()=>f});var d=c(36138),e=c(97579);let f={"job-position":{id:"String",title:"String",salary:"String",location:"String",demandGrowth:"String",salaryGrowth:"String",locale:"String"},"job-salary-overview":{rankingData:[{name:"String",ranl:"Number"}],salaryDistribution:[{range:"String",percentage:"Number"}]},"job-posting":{title:"String",company:"String",location:"String",salary:"String",experience:"String",education:"String",tags:"String[]"},"related-jobs-list":{title:"String",avgSalary:"String",location:"String",education:"String",experience:"String",jobType:"String"},"job-experience-ratio":{title:"String",description:"String",list:[{name:"String",value:"Number",jobs:"Number"}]},"job-header":{title:"String",salary:"String",location_province:"String",location_city:"String",location_district:"String",education:"String",experience:"String",employmentType:"String"},"job-benefits":{title:"String",benefits:"String[]"},"job-requirements":{title:"String",requirements:"String[]"},"apply-resume":{buttonText:"String",href:"String"},"job-detail-intro":{title:"String",description:"String",avgMonthlySalary:"String",dataSource:"String"},"education-salary-requirements":{title:"String",description:"String",data:[{label:"String",value:"String",percentage:"Number",color:"String"}]},"job-prospect-trend":{title:"String",monthlyNewJobs:"String",monthlyLabel:"String",rankText:"String",chartData:[{month:"String",value:"Number"}]},"job-city-ranking":{title:"String",description:"String",data:[{label:"String",value:"String|Number",percentage:"Number"}]},"monthly-job-growth":{title:"String",chartData:[{month:"String",jobs:"Number"}]},"ability-requirements-radar":{title:"String",chartData:[{subject:"String",value:"Number",fullMark:"Number"}]},"company-info":{name:"String",logo:"String",description:"String"},"instructor-courses-list":{id:"String",name:"String",duration:"String",students:"Number",certificate:"String",tags:"String[]"}},g=async()=>{let a=localStorage.getItem("APPLICATION_CONFIG"),b=a?JSON.parse(a):{},c=b.config?.clientManifest?.dataMappings||{},f=[];Object.keys(c).forEach(async a=>{let[b,g]=a.split("::"),[h,i,j]=g.split("_");f.push(new Promise(async(f,g)=>{let k,l,m=c[a];"table"===h?(k=(await d.L.get(`/api/records/${i}?noAuth=true&limit=100`)).data,l=[],k.forEach((a,b)=>{let c={};Object.keys(m).forEach(b=>{if(b.indexOf("[].")>-1){let d=b.split("[].");c[d[0]]||(c[d[0]]=[]);let e=m[b].split(".");a[e[0]].forEach((a,b)=>{let f={};a.images.concat(a.numbers).concat(a.texts).forEach(a=>{f[a.id]=a}),c[d[0]][b]||(c[d[0]][b]={}),c[d[0]][b][d[1]]=f[e[1]].value})}else c[b]=a[m[b]]}),c.recordId=a.id,l.push(c)})):"record"===h&&(k=await d.L.get(`/api/records/${i}/${j}?noAuth=true`),l={},Object.keys(m).forEach(a=>{if(a.indexOf("[].")>-1){let b=a.split("[].");l[b[0]]||(l[b[0]]=[]);let c=m[a].split(".");k[c[0]].forEach((a,d)=>{let e={};a.images.concat(a.numbers).concat(a.texts).forEach(a=>{e[a.id]=a}),l[b[0]][d]||(l[b[0]][d]={}),l[b[0]][d][b[1]]=e[c[1]].value})}else l[a]=k[m[a]]})),e.U.setData(b,l,k),f(!0)}))}),await Promise.all(f)}},11341:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(3208).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},13718:(a,b,c)=>{c.d(b,{M3:()=>X,Zd:()=>U});var d=c(80742),e=c(30311),f=c.n(e),g=c(36138),h=c(428),i=c(66497),j=c(62752),k=c(97579),l=c(60019),m=c(89462),n=c(3358),o=c(51926),p=c(88810),q=c(35286),r=c(7605),s=c(54255),t=c(75717),u=c(7829),v=c(42764),w=c(65496),x=c(3208);let y=(0,x.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var z=c(8710);let A=(0,x.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var B=c(69274);let C=(0,x.A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var D=c(11341),E=c(79538),F=c(66193);let G=(0,x.A)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var H=c(79162),I=c(74497),J=c(85338),K=c(80512),L=c(19805),M=c(61980),N=c(19145);let O=({code:a,props:b,data:c,theme:f,ui:g,className:h})=>{let i=(0,e.useRef)(null),j=(0,e.useMemo)(()=>`<!doctype html><html><head><meta charset="utf-8"><style>html,body,#root{height:100%;margin:0}</style>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head><body><div id="root"></div>
  <script>
  const render = (payload) => {
    try {
      const { code, props, data, theme, ui } = payload
      const transformed = Babel.transform(code, { presets: ['react'] }).code
      const exports = {}
      const module = { exports }
      const req = () => ({})
      const fn = new Function('exports','module','require','React','props','data','theme','ui', transformed + '; return module.exports || exports.default || exports')
      const Comp = fn(exports, module, req, window.React, props, data, theme, ui)
      const el = React.createElement(Comp.default || Comp, { props, data, theme, ui })
      ReactDOM.createRoot(document.getElementById('root')).render(el)
    } catch (e) {
      document.getElementById('root').innerText = 'Sandbox error: ' + (e && e.message ? e.message : e)
    }
  }
  window.addEventListener('message', (e)=>{ if (e.data && e.data.type==='RUN'){ render(e.data) } })
  </script>
  </body></html>`,[]);return(0,e.useEffect)(()=>{let d=i.current?.contentWindow;d&&d.postMessage({type:"RUN",code:a,props:b,data:c,theme:f,ui:g},"*")},[a,b,c,f,g]),(0,d.jsx)("iframe",{ref:i,className:h,sandbox:"allow-scripts",srcDoc:j})};var P=c(72923),Q=c(82062),R=c(94721),S=c(4734),T=c(84336);let U={workspace:{id:"workspace",name:"工作台",description:"可拖拽的工作台卡片系统",type:"workspace",config:{showHeader:!0,showBottomNav:!1,allowEdit:!0,layout:"mobile"}},content:{id:"content",name:"内容管理",description:"内容管理平台界面",type:"content",config:{showHeader:!0,showBottomNav:!0,allowEdit:!1,layout:"mobile"}},education:{id:"education",name:"在线教育",description:"在线教育移动应用",type:"education",config:{showHeader:!0,showBottomNav:!1,allowEdit:!0,layout:"mobile"}},"pc-workspace":{id:"pc-workspace",name:"PC工作台",description:"PC版可拖拽的工作台卡片系统",type:"workspace",config:{showHeader:!1,showBottomNav:!1,allowEdit:!0,layout:"pc"}}},V={"recruitment-package":"rec","recruitment-package-sub":"recSub","education-package":"edu","education-package-sub":"eduSub"},W=[];function X({category:a,locale:b,layout:c,showHeader:x,showBottomNav:X,headerTitle:Y,showBack:Z,aiOpsUrl:$,aiOpsLabel:_,topTabsConfig:aa,contentNavConfig:ab,initialTabIndex:ac,pageId:ad}){let[ae,af]=(0,e.useState)([]);(0,e.useRef)({});let[ag,ah]=(0,e.useState)(!1),ai=(0,T.useSearchParams)();(0,T.useRouter)(),(0,T.usePathname)();let aj="true"===ai.get("isEdite")||"true"===ai.get("isEdit"),[ak,al]=(0,e.useState)(aj),[am,an]=(0,e.useState)("全部"),[ao,ap]=(0,e.useState)(!1),[aq,ar]=(0,e.useState)(null),[as,at]=(0,e.useState)([]),[au,av]=(0,e.useState)(null),[aw,ax]=(0,e.useState)({}),[ay,az]=(0,e.useState)(ac??0),[aA,aB]=(0,e.useState)(0),[aC,aD]=(0,e.useState)(0),[aE,aF]=(0,e.useState)({}),[aG,aH]=(0,e.useState)(!1),[aI,aJ]=(0,e.useState)(null),[aK,aL]=(0,e.useState)([]),aM=(0,e.useMemo)(()=>{try{return null}catch{return null}},[ad,ay,aC]),aN=(0,e.useMemo)(()=>{try{if(aa&&"text"===aa.type&&Array.isArray(aa.items)&&aa.items.length>0)return aa;let a=aM&&aM.topBar||null,b=!!(a&&a.enabled),c=b&&a.tabs||[];if(b&&Array.isArray(c)&&c.length>0)return{type:"text",items:c.map(a=>({title:a&&(a.title||"").trim()||"标签"}))};let d=aM&&aM.contentNav;if(d){let a=d.style;if("text"===a)return{...d,type:"text"};if("text"===d.type)return d}return null}catch{return null}},[aM]),aO=(0,e.useMemo)(()=>{let a=a=>{if(!a)return null;let b=a.style;return"text"===b||"icon"===b?{...a,type:"text"===b?"text":"iconText"}:"text"===a.type||"iconText"===a.type?a:null};try{if(aN){let b=aM&&aM.tabContent||{},c=b?.[ay]||{};return a(c?.contentNav)||null}return a(aM&&aM.contentNav)||null}catch{return null}},[aM,aN,ay]),aP=(0,e.useMemo)(()=>{let b=!!(aN&&"text"===aN.type),c=!!(aO&&"iconText"===aO.type);return b&&c?`${a}-tab-${ay}-icon-${aA}`:b?`${a}-tab-${ay}`:c?`${a}-icon-${aA}`:a},[a,aN,aO,ay,aA]),aQ=`dynamic_page_layout_${aP}_${b}`,aR=a=>a.map(a=>({id:a.id,type:a.type}));(0,e.useRef)(null);let aS=(0,e.useMemo)(()=>{try{if(!ad);return ae}catch{return ae}},[ae,ad,aN,aO,ay,aA]),aT=(()=>{let a=[];a.push(...W);let b=l.E.getMainCards(),c=[];return b.forEach(a=>{c.push(...l.E.getSubCardsByMainCard(a.id))}),[...b,...c].forEach(b=>{if(b.component){let c=b.component,e=(a=>{switch(a){case"mobile-navigation":return{title:"移动端导航",items:[{id:"home",label:"首页",icon:(0,d.jsx)(q.A,{className:"w-4 h-4"}),href:"/",isActive:!0},{id:"courses",label:"课程",icon:(0,d.jsx)(r.A,{className:"w-4 h-4"}),href:"/courses"},{id:"profile",label:"个人中心",icon:(0,d.jsx)(s.A,{className:"w-4 h-4"}),href:"/profile"},{id:"settings",label:"设置",icon:(0,d.jsx)(t.A,{className:"w-4 h-4"}),href:"/settings"}],showQuickActions:!0};case"pc-toolbar":return{title:"编辑工具栏",showShortcuts:!0,isCollapsed:!1,items:[{id:"save",label:"保存",icon:(0,d.jsx)(u.A,{className:"w-4 h-4"}),shortcut:"Ctrl+S",group:"file"},{id:"edit",label:"编辑",icon:(0,d.jsx)(v.A,{className:"w-4 h-4"}),group:"edit"},{id:"favorite",label:"收藏",icon:(0,d.jsx)(w.A,{className:"w-4 h-4"}),group:"view"}]};case"universal-info":return{title:"平台概况",description:"关键指标总览",showActions:!0,source:"系统统计",items:[{label:"活跃用户",value:12890,type:"number",trend:"up"},{label:"日访问量",value:52340,type:"number",trend:"up"},{label:"转化率",value:3.2,type:"percentage",trend:"stable"},{label:"营收",value:98765,type:"currency",trend:"down"}]};default:return{}}})(b.id);a.push({id:b.id,name:b.name,category:b.category,width:"full",component:f().createElement(c,{data:e,onAction:(a,b)=>console.log("Card action:",a,b)}),businessFlow:b.businessFlow,packageId:V[b.packageId]||b.packageId,inputFields:S.g[b.id]||{}})}else a.push({id:b.id,name:b.name,category:b.category,width:"full",component:(0,d.jsx)(m.AppCard,{className:"p-6 hover:shadow-lg transition-all duration-300",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,d.jsx)(y,{className:"w-5 h-5 text-accent"}),(0,d.jsx)("h4",{className:"text-lg font-bold",children:b.name})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"string"==typeof b.businessFlow?b.businessFlow:b.businessFlow?.description||""}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"状态"}),(0,d.jsx)(j.E,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-700 border-yellow-200",children:"开发中"})]}),(0,d.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-500",style:{width:"30%"}})}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["类别：",b.category]}),(0,d.jsx)(i.$,{variant:"outline",size:"sm",className:"w-full bg-transparent",disabled:!0,children:"即将推出"})]})]})})})}),a})(),aU="全部"===am?aT:aT.filter(a=>a.category===am),aV=["全部",...Array.from(new Set(k.U.getAll().map(a=>a.category)))].map(a=>({label:a,icon:({全部:(0,d.jsx)(z.A,{className:"w-4 h-4 mr-2"}),基础:(0,d.jsx)(y,{className:"w-4 h-4 mr-2"}),教育:(0,d.jsx)(r.A,{className:"w-4 h-4 mr-2"}),媒体:(0,d.jsx)(A,{className:"w-4 h-4 mr-2"}),招聘:(0,d.jsx)(B.A,{className:"w-4 h-4 mr-2"}),电商:(0,d.jsx)(C,{className:"w-4 h-4 mr-2"}),内容:(0,d.jsx)(D.A,{className:"w-4 h-4 mr-2"}),社交:(0,d.jsx)(E.A,{className:"w-4 h-4 mr-2"}),数据:(0,d.jsx)(F.A,{className:"w-4 h-4 mr-2"}),零售:(0,d.jsx)(G,{className:"w-4 h-4 mr-2"}),旅行:(0,d.jsx)(H.A,{className:"w-4 h-4 mr-2"}),功能:(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"})})[a]||(0,d.jsx)(y,{className:"w-4 h-4 mr-2"})})),aW=a=>{let b=[...ae,{id:`${a.id}-${Date.now()}`,type:a.id,name:a.name,category:a.category,component:a.component,width:a.width,packageId:V[a.packageId]||a.packageId,inputFields:S.g[a.id]||{}}];af(b);try{localStorage.setItem(aQ,JSON.stringify({cards:aR(b)}))}catch{}ah(!1)},aX=(0,e.useMemo)(()=>"pc"===c&&"workspace"===a?U["pc-workspace"]:U[a]||U.workspace,[a,c]),aY=x??aX.config.showHeader;return X??aX.config.showBottomNav,(0,d.jsxs)(L.J,{visible:ak,children:[(0,d.jsxs)("div",{className:(0,p.cn)("min-h-screen relative","bg-transparent"),children:[aY&&"pc"!==c&&(0,d.jsx)(h.AppHeader,{title:Y||("education"===aX.type?"教育应用Demo":"/zh/preview"===window.location.pathname?"首页":"自定义动态页面"),showBackButton:Z}),aN&&"text"===aN.type&&(0,d.jsx)("div",{className:(0,p.cn)("px-4 mb-2","pc"===c?"hidden":"block",aY?"pt-16":"pt-2"),children:(0,d.jsx)(P.A,{config:aN,activeIndex:ay,disableNavigate:!0,onSwitchTab:({index:a})=>{if("number"==typeof a){try{let b=new URLSearchParams(ai?.toString?.()||"");0===a?b.delete("tab"):b.set("tab",String(a)),b.toString()}catch{}az(a),aB(0)}}})}),aY&&"pc"!==c&&$&&(0,d.jsx)("div",{className:"fixed top-3 right-20 z-30",children:(0,d.jsx)("a",{href:$,target:"_blank",rel:"noreferrer",children:(0,d.jsx)(i.$,{size:"sm",variant:"secondary",className:"rounded-full h-8 px-3",children:_||"AI运营"})})}),"workspace"===aX.type&&(0,d.jsxs)("div",{className:(0,p.cn)("relative z-10","pc"===c?"p-6":aN?"p-4 pt-4":"p-4 pt-20"),children:[aO&&"iconText"===aO.type&&(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)(P.A,{config:aO,activeIndex:aA,disableNavigate:!0,onSwitchTab:({index:a})=>{if("number"==typeof a){try{let b=new URLSearchParams(ai?.toString?.()||"");0===a?b.delete("nav"):b.set("nav",String(a)),b.toString()}catch{}aB(a)}}})}),(0,d.jsx)("div",{className:"mb-6",children:0===ae.length?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)(y,{className:"w-8 h-8 text-gray-400"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"pc"===c?"PC自定义工作台":"自定义动态页面"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"点击右下角 ➕ 按钮添加功能卡片，自定义您的页面"})]}):(0,d.jsx)(n.F,{items:aS.map(a=>{let b,g;return{id:a.id,content:(0,d.jsx)(M.x,{value:a.id,children:(0,d.jsxs)("div",{className:`relative group ${"half"===a.width?"w-full":""}`,children:[ak&&aX.config.allowEdit&&(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity w-6 h-6 p-0 z-10",onClick:()=>{var b;return b=a.id,void af(ae.filter(a=>a.id!==b))},children:(0,d.jsx)(J.A,{className:"w-3 h-3"})}),ak&&aX.config.allowEdit&&(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"absolute top-2 right-10 opacity-0 group-hover:opacity-100 transition-opacity w-6 h-6 p-0 z-10",onClick:()=>(a=>{ar(a),av(null);try{at([]),av("未找到 APPLICATION_CONFIG"),ap(!0);return}catch(a){av("解析 APPLICATION_CONFIG 失败"),at([]),ap(!0)}})(a.id),title:"配置数据",children:(0,d.jsx)(t.A,{className:"w-3 h-3"})}),ak&&aX.config.allowEdit&&aw[a.id]&&(0,d.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,d.jsx)(j.E,{variant:"secondary",className:"bg-blue-50 text-blue-600 border-blue-200",children:aw[a.id]})}),(b=(()=>{try{let b,c,e,g,h=k.U.getAll().find(b=>b.name===a.type);if(!h||!h.component)return a.component;let i=h.component,j={},l=!!(aN&&"text"===aN.type),m=!!(aO&&"iconText"===aO.type),n=l&&m?`tab-${ay}::icon-${aA}`:void 0,o=n||(l?`tab-${ay}`:m?`icon-${aA}`:"");if(ad&&o)try{let d=localStorage.getItem(`APP_PAGE_${ad}`),f=d?JSON.parse(d):{},h=b=>b?f?.overrides?.[b]?.[a.type]:void 0,i=h(n)||h(o);c=i?.props,b=i?.jsx,e=i?.display,g=i?.filters}catch{}if(b)return(0,d.jsx)(O,{code:b,data:j,props:c,theme:{},className:"w-full"});let p=(()=>{try{if(!g?.enabled||!Array.isArray(g?.fields))return[];return g.fields.map(a=>{let b=[];if(Array.isArray(a.options)&&"select"===a.type)a.options.forEach(a=>{"string"==typeof a?b.push({label:String(a),value:String(a)}):a&&"object"==typeof a&&b.push({label:a.label??String(a.value??""),value:String(a.value??a.label??"")})});else if(Array.isArray(a.optionsTree)&&"cascader"===a.type){let c=(a,d,e)=>{a.forEach(a=>{let f=[...d,String(a.name??a.label??a.id??"")],g=[...e,String(a.id??a.value??a.name??"")];Array.isArray(a.children)&&a.children.length>0?c(a.children,f,g):b.push({label:f.join(" / "),value:g.join("/")})})};c(a.optionsTree,[],[])}return 0===b.length&&("select"===a.type?b.push({label:"全部",value:"all"},{label:"选项A",value:"a"},{label:"选项B",value:"b"}):"cascader"===a.type&&b.push({label:"中国 / 北京",value:"cn/bj"},{label:"中国 / 上海",value:"cn/sh"},{label:"美国 / 纽约",value:"us/ny"})),{category:a.label||a.fieldId,options:b,defaultValue:a.default}})}catch{return[]}})(),q=aE[a.id]||(()=>{let a={};return p.forEach(b=>{let c=b.defaultValue||b.options[0]?.value||"";a[b.category]=c}),a})(),r=(()=>{let a={};return g?.enabled&&Array.isArray(g.fields)&&g.fields.forEach(b=>{let c=b.label||b.fieldId,d=q[c];null!=d&&(a[b.fieldId||c]=d)}),a})(),s=k.U.getRealData(a.id);g?.fields&&p.length&&p.forEach(a=>{let b=g.fields.find(b=>b.label===a.category);if(a.options.push({value:"none",label:"不限"}),b){let c={};s.forEach(a=>{c[a[b.fieldId]]=b.fieldId}),Object.keys(c).forEach(b=>{a.options.push({value:b,fieldId:c[b],label:b})})}});let t={...c||{},listLimit:e&&e.limit,activeFilters:r};return(0,d.jsxs)("div",{className:"space-y-2",children:[g?.enabled&&p.length>0&&(0,d.jsx)(Q.E,{cardId:a.id,items:p,values:q,onValueChange:(b,c)=>{aF(d=>({...d,[a.id]:{...d[a.id]||{},[b]:c}}))}}),f().createElement(i,{data:j,props:t,onAction:(a,b)=>console.log("Card action:",a,b)})]})}catch{return a.component}})(),g=a.id,(0,e.isValidElement)(b)?(0,e.cloneElement)(b,{id:g,"data-theme-key":g}):b)]})}),className:(0,p.cn)("pc"===c?"half"===a.width?"col-span-1":"col-span-2 lg:col-span-3":"half"===a.width?"col-span-1":"col-span-2")}}),onReorder:a=>{af(a.map(a=>ae.find(b=>b.id===a)).filter(Boolean))},layout:"grid",className:"pc"===c?"grid grid-cols-2 lg:grid-cols-3 gap-6":"grid grid-cols-2 gap-4",disabled:!ak},aQ)}),aj&&aX.config.allowEdit&&(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsx)(i.$,{variant:"outline",className:"flex-1 hover:bg-accent hover:text-accent-foreground",onClick:()=>{ak&&(()=>{try{let a={cards:aR(ae),themes:{},dataSources:{},updatedAt:Date.now()};localStorage.setItem(aQ,JSON.stringify(a));try{g.L.put(`/api/page-configs/key/${encodeURIComponent(aQ)}`,a).catch(()=>{})}catch{}}catch(a){console.error("保存布局到本地存储失败",a)}})(),al(!ak)},children:ak?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"保存布局"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"编辑布局"]})})})]},aP),ak&&aX.config.allowEdit&&(0,d.jsx)(i.$,{className:(0,p.cn)("fixed shadow-lg z-30 w-14 h-14 rounded-full bg-accent text-accent-foreground hover:bg-accent/90","pc"===c?"bottom-8 right-8":"bottom-24 right-6"),size:"icon",onClick:()=>ah(!0),children:(0,d.jsx)(K.A,{className:"w-6 h-6"})}),ag&&ak&&aX.config.allowEdit&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>ah(!1)}),(0,d.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl rounded-t-3xl shadow-2xl max-h-[75vh] overflow-hidden border-t border-white/20",children:[(0,d.jsx)("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mt-3 mb-4"}),(0,d.jsxs)("div",{className:"px-6 pb-4 border-b border-gray-100/50",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"选择功能卡片"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"预览卡片效果，点击添加到工作台"})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"rounded-full w-8 h-8 p-0 hover:bg-gray-100",onClick:()=>ah(!1),children:(0,d.jsx)(J.A,{className:"w-4 h-4"})})]}),(0,d.jsx)(o.d,{items:aV,activeItem:am,onItemChange:an,className:"flex-nowrap overflow-x-auto scrollbar-hide whitespace-nowrap pb-2"})]}),(0,d.jsx)("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(75vh-180px)]",children:(0,d.jsx)("div",{className:"space-y-4",children:aU.map(a=>{let b=ae.some(b=>b.type===a.id);return(0,d.jsx)("div",{className:(0,p.cn)("transition-all duration-300 border rounded-2xl overflow-hidden",b?"bg-gray-50/80 border-gray-200 opacity-60":"bg-white/90 backdrop-blur-sm border-gray-200 hover:shadow-xl hover:scale-[1.02] hover:border-accent cursor-pointer"),onClick:()=>!b&&aW(a),children:(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h5",{className:"font-semibold text-base text-gray-900 mb-1",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.E,{variant:"outline",className:"text-xs bg-accent/10 text-accent-foreground border-accent/20",children:a.category}),b&&(0,d.jsx)(j.E,{variant:"secondary",className:"text-xs bg-green-50 text-green-700 border-green-200",children:"已添加"})]})]})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-2 border border-gray-200/50 overflow-hidden",children:(0,d.jsx)("div",{className:"transform scale-[0.7] origin-top-left w-[143%] pointer-events-none",children:(0,d.jsx)("div",{className:"max-h-48 overflow-hidden",children:a.component})})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white/80 via-transparent to-transparent rounded-xl flex items-end justify-center pb-2",children:(0,d.jsx)("div",{className:"text-xs text-gray-600 font-medium bg-white/90 px-2 py-1 rounded-full",children:"主卡片效果"})})]}),(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"名称"}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"类别"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.$,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs rounded-full border-gray-300 hover:border-accent hover:bg-accent/5",onClick:b=>{b.stopPropagation(),aJ(a.id),aH(!0)},children:"子卡片"}),a.businessFlow&&"object"==typeof a.businessFlow&&(a.businessFlow.hasDetailPage||a.businessFlow.hasModal)&&(0,d.jsx)(i.$,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs rounded-full border-gray-300 hover:border-accent hover:bg-accent/5",onClick:b=>{b.stopPropagation(),"object"==typeof a.businessFlow&&(a.businessFlow.hasModal?console.log("显示弹窗:",a.name):a.businessFlow.hasDetailPage&&console.log("跳转内页:",a.name))},children:"内页"})]})]})]})},a.id)})})})]})]}),aG&&aI&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>aH(!1)}),(0,d.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl rounded-t-3xl shadow-2xl max-h-[75vh] overflow-hidden border-t border-white/20",children:[(0,d.jsx)("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto mt-3 mb-4"}),(0,d.jsx)("div",{className:"px-6 pb-4 border-b border-gray-100/50",children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"选择子卡片"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"选择要添加的子卡片组件"})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",className:"rounded-full w-8 h-8 p-0 hover:bg-gray-100",onClick:()=>aH(!1),children:(0,d.jsx)(J.A,{className:"w-4 h-4"})})]})}),(0,d.jsx)("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(75vh-120px)]",children:(0,d.jsxs)("div",{className:"space-y-4",children:[l.E.getSubCardsByMainCard(aI).map(a=>(0,d.jsx)("div",{className:"transition-all duration-300 border rounded-2xl overflow-hidden bg-white/90 backdrop-blur-sm border-gray-200 hover:shadow-xl hover:scale-[1.02] hover:border-accent cursor-pointer",onClick:()=>{aW(a),aH(!1)},children:(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h5",{className:"font-semibold text-base text-gray-900 mb-1",children:a.name}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(j.E,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a.type||"子卡片"})})]})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-2 border border-gray-200/50 overflow-hidden",children:(0,d.jsx)("div",{className:"transform scale-[0.7] origin-top-left w-[143%] pointer-events-none",children:(0,d.jsx)("div",{className:"max-h-48 overflow-hidden",children:a.component&&f().createElement(a.component)})})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white/80 via-transparent to-transparent rounded-xl flex items-end justify-center pb-2",children:(0,d.jsx)("div",{className:"text-xs text-gray-600 font-medium bg-white/90 px-2 py-1 rounded-full",children:"点击添加"})})]})]})},a.id)),0===l.E.getSubCardsByMainCard(aI).length&&(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"该卡片包暂无子卡片"})})]})})]})]})]}),(0,d.jsx)(N.lG,{open:ao,onOpenChange:ap,children:(0,d.jsxs)(N.Cf,{className:"max-w-md",children:[(0,d.jsx)(N.c7,{children:(0,d.jsx)(N.L3,{children:"选择数据源"})}),(0,d.jsxs)("div",{className:"mt-2 space-y-2",children:[au&&(0,d.jsx)("div",{className:"text-sm text-red-600",children:au}),!au&&0===as.length&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"暂无可用数据源"}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-2",children:as.map(a=>(0,d.jsx)(i.$,{variant:"outline",className:"justify-start",onClick:()=>(a=>{if(aq){console.log(aq,a),ax(b=>({...b,[aq]:a.label}));try{localStorage.setItem(`CARD_DS_${aq}`,JSON.stringify({key:a.key,label:a.label}))}catch{}try{let b=(0,R.CV)(),c=ae.find(a=>a.id===aq),d=c?k.U.getConfig(c.type):void 0,e=S.g[c?.type]||{};b.post("aino:data",{card:{id:c?.id,name:c?.name,type:c?.type,config:d?{displayName:d.displayName,category:d.category,width:d.width,businessFlow:d.businessFlow}:void 0},inputs:e,dataSource:{key:a.key,label:a.label},timestamp:Date.now()})}catch{}ap(!1)}})(a),children:a.label},a.key))})]})]})})]})}},19145:(a,b,c)=>{c.d(b,{Cf:()=>l,L3:()=>n,c7:()=>m,lG:()=>i});var d=c(80742),e=c(30311),f=c(71443),g=c(85338),h=c(88810);let i=f.bL;f.l9;let j=f.ZL;f.bm;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));k.displayName=f.hJ.displayName;let l=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(j,{children:[(0,d.jsx)(k,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));l.displayName=f.UC.displayName;let m=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});m.displayName="DialogHeader";let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));n.displayName=f.hE.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b})).displayName=f.VY.displayName},42764:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(3208).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},51926:(a,b,c)=>{c.d(b,{d:()=>g});var d=c(80742),e=c(88810),f=c(90821);function g({items:a,activeItem:b,onItemChange:c,className:g}){return(0,d.jsx)("div",{className:(0,e.cn)("flex justify-center flex-wrap gap-3",g),children:a.map(a=>(0,d.jsxs)(f.K,{variant:b===a.label?"primary":"default",onClick:()=>c(a.label),className:"flex items-center",children:[a.icon,a.label]},a.label))})}},60019:(a,b,c)=>{c.d(b,{E:()=>f});var d=c(97579);let e={recruitment:{packageId:"recruitment-package",packageName:"招聘管理",packageCategory:"招聘",mainCard:{cardId:"job-position",displayName:"职位概览",component:null},subCards:[{cardId:"job-salary-overview",packageId:"recruitment-package-sub",displayName:"薪资概览",type:"chart",category:"data"},{cardId:"education-salary-requirements",packageId:"recruitment-package-sub",displayName:"学历收入要求",type:"list",category:"data"},{cardId:"job-experience-ratio",packageId:"recruitment-package-sub",displayName:"工作年限占比分析",type:"chart",category:"data"},{cardId:"job-prospect-trend",packageId:"recruitment-package-sub",displayName:"就业前景趋势",type:"chart",category:"data"},{cardId:"monthly-job-growth",packageId:"recruitment-package-sub",displayName:"月度职位增长",type:"chart",category:"data"},{cardId:"job-city-ranking",packageId:"recruitment-package-sub",displayName:"城市排名",type:"chart",category:"data"},{cardId:"company-ranking",packageId:"recruitment-package-sub",displayName:"公司排名",type:"chart",category:"data"},{cardId:"ability-requirements-radar",packageId:"recruitment-package-sub",displayName:"能力要求雷达图",type:"chart",category:"ability"},{cardId:"core-skills-mastery",packageId:"recruitment-package-sub",displayName:"核心技能掌握",type:"chart",category:"ability"},{cardId:"basic-ability-requirements",packageId:"recruitment-package-sub",displayName:"基础能力要求",type:"list",category:"ability"},{cardId:"education-background",packageId:"recruitment-package-sub",displayName:"教育背景分布",type:"chart",category:"ability"},{cardId:"related-jobs-list",packageId:"recruitment-package-sub",displayName:"相关岗位列表",type:"list",category:"related"},{cardId:"job-detail-intro",packageId:"recruitment-package-sub",displayName:"职位详情介绍",type:"display",category:"info"},{cardId:"job-posting",packageId:"recruitment-package-sub",displayName:"职位发布",type:"form",category:"action"},{cardId:"job-header",packageId:"recruitment-package-sub",displayName:"职位头部",type:"display"},{cardId:"job-requirements",packageId:"recruitment-package-sub",displayName:"职位要求",type:"display"},{cardId:"job-benefits",packageId:"recruitment-package-sub",displayName:"职位福利",type:"display"},{cardId:"company-info",packageId:"recruitment-package-sub",displayName:"公司信息",type:"display"},{cardId:"apply-resume",packageId:"recruitment-package-sub",displayName:"投递简历",type:"form"}],businessFlow:{description:"完整的招聘管理解决方案，从职位发布到人才分析的全流程支持",hasDetailPage:!0,hasModal:!0,actions:["publish","analyze","manage"],dataSource:"api"},detailPage:{enabled:!0,route:"/cards/[cardName]/detail/[id]"},modal:{enabled:!0},developer:{name:"HR Management System",version:"2.0.0",description:"集成化招聘管理卡片包，提供完整的人力资源解决方案"}},education:{packageId:"education-package",packageName:"教育管理",packageCategory:"教育",mainCard:{cardId:"instructor-courses-list",displayName:"导师课程列表",component:null,belongs:"edu"},subCards:[],businessFlow:{description:"教育管理解决方案，支持课程管理和学习跟踪",hasDetailPage:!0,hasModal:!1,actions:["manage","track"],dataSource:"api"},detailPage:{enabled:!0,route:"/cards/[cardName]/detail/[id]"},modal:{enabled:!1},developer:{name:"Education Management System",version:"2.0.0",description:"集成化教育管理卡片包，提供完整的教育解决方案"}}};class f{static{this.packages=new Map}static{this.subCardToPackage=new Map}static registerPackage(a){this.packages.set(a.packageId,a),a.subCards.forEach(b=>{this.subCardToPackage.set(b.cardId,a.packageId)})}static getAllPackages(){return Array.from(this.packages.values())}static getMainCards(){return Array.from(this.packages.values()).map(a=>{let b=d.U.get(a.mainCard.cardId);return{id:a.mainCard.cardId,name:a.packageName,category:a.packageCategory,component:b?.component||a.mainCard.component,businessFlow:a.businessFlow,developer:a.developer,packageId:a.packageId,hasSubCards:a.subCards.length>0,hasDetailPage:a.detailPage?.enabled||!1,hasModal:a.modal?.enabled||!1}})}static getSubCardsByMainCard(a){let b=Array.from(this.packages.values()).find(b=>b.mainCard.cardId===a);return b?b.subCards.map(a=>{let b=d.U.get(a.cardId);return{packageId:a.packageId,id:a.cardId,name:a.displayName,component:b?.component||null,type:a.type,category:a.category}}).filter(a=>null!==a.component):[]}static isMainCard(a){return Array.from(this.packages.values()).some(b=>b.mainCard.cardId===a)}static isSubCard(a){return this.subCardToPackage.has(a)}static getPackageBySubCard(a){let b=this.subCardToPackage.get(a);return b&&this.packages.get(b)||null}static getPackage(a){return this.packages.get(a)||null}static supportsDetailPage(a){let b=this.getPackageByMainCard(a);return b?.detailPage?.enabled||!1}static supportsModal(a){let b=this.getPackageByMainCard(a);return b?.modal?.enabled||!1}static getDetailPageRoute(a){let b=this.getPackageByMainCard(a);return b?.detailPage?.route||null}static getPackageByMainCard(a){return Array.from(this.packages.values()).find(b=>b.mainCard.cardId===a)||null}static async initializePackages(){Object.values(e).forEach(a=>{let b=d.U.get(a.mainCard.cardId);b&&(a.mainCard.component=b.component),this.registerPackage(a)})}}f.initializePackages()},66193:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(3208).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},72923:(a,b,c)=>{c.d(b,{A:()=>j});var d=c(80742),e=c(30311),f=c(88810),g=c(84336),h=c(86628),i=c(51561);let j=function({config:a,className:b,onSwitchTab:c,activeIndex:j,disableNavigate:k}){let l=(0,g.useRouter)(),m=(0,g.useParams)(),n=m?.locale||"zh",[o,p]=(0,e.useState)(j??0),q=(0,e.useMemo)(()=>"grid-5"===a.layout?5:4,[a.layout]),r=(a,b)=>{let d=b?.event;if(k||!d||!d.action||"switchTab"===d.action){p(a),c?.({tabKey:d?.tabKey,tabIndex:d?.tabIndex,index:a});return}if("navigate"===d.action){if("internal"===d.pageType){let a=d.page||"home",b=a.startsWith("p-")?`/${n}/p/${a.replace(/^p-/,"")}`:`/${n}/${a.replace(/^\//,"")}`;l.push(b)}else if("external"===d.pageType&&d.url)try{window.open(d.url,"_blank")}catch{location.href=d.url}}};return a&&Array.isArray(a.items)&&0!==a.items.length?"text"===a.type?(0,d.jsxs)("div",{className:(0,f.cn)("w-full rounded-2xl shadow-md backdrop-blur-md bg-white/60 dark:bg-neutral-900/30",b),children:[(a.header?.title||a.header?.search||a.header?.notify)&&(0,d.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex-1"}),(0,d.jsx)("div",{className:"text-base font-semibold select-none",children:a.header?.title}),(0,d.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-2",children:[a.header?.search&&(0,d.jsx)("button",{className:"size-8 rounded-full flex items-center justify-center hover:bg-muted/70 text-muted-foreground","aria-label":"search",children:(0,d.jsx)(h.A,{className:"w-4 h-4"})}),a.header?.notify&&(0,d.jsx)("button",{className:"size-8 rounded-full flex items-center justify-center hover:bg-muted/70 text-muted-foreground","aria-label":"notify",children:(0,d.jsx)(i.A,{className:"w-4 h-4"})})]})]}),(0,d.jsx)("div",{className:"px-2 py-2 overflow-x-auto scrollbar-hide",style:{background:"white"},children:(0,d.jsx)("div",{className:"flex items-center gap-6 px-2 min-w-max",children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:(0,f.cn)("relative text-sm font-medium transition-colors pb-2",b===o?"text-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>{p(b),c?.({index:b})},children:[a.title||`Tab ${b+1}`,b===o&&(0,d.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 -bottom-0.5 h-0.5 w-6 bg-primary rounded-full"})]},b))})})]}):"scroll"===a.layout?(0,d.jsx)("div",{className:(0,f.cn)("w-full rounded-xl bg-card text-card-foreground shadow-sm px-4 py-3",b),children:(0,d.jsx)("div",{className:"flex items-stretch gap-4 overflow-x-auto scrollbar-hide",children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:"flex-shrink-0 w-20 flex flex-col items-center gap-2",onClick:()=>r(b,a),children:[(0,d.jsx)("div",{className:(0,f.cn)("w-16 h-16 rounded-full bg-muted flex items-center justify-center overflow-hidden shadow-sm"),children:a.image?(0,d.jsx)("img",{src:a.image,alt:a.title||"icon",className:"w-full h-full object-cover"}):(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"img"})}),(0,d.jsx)("div",{className:(0,f.cn)("text-xs",b===o?"text-primary":"text-foreground"),children:a.title||`Item ${b+1}`}),b===o&&(0,d.jsx)("div",{className:"h-0.5 w-6 rounded bg-primary"})]},b))})}):(0,d.jsx)("div",{className:(0,f.cn)("w-full rounded-xl bg-card text-card-foreground shadow-sm px-4 py-4",b),children:(0,d.jsx)("div",{className:(0,f.cn)("grid gap-4",5===q?"grid-cols-5":"grid-cols-4"),children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:"flex flex-col items-center gap-2",onClick:()=>r(b,a),children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center overflow-hidden shadow-sm",children:a.image?(0,d.jsx)("img",{src:a.image,alt:a.title||"icon",className:"w-full h-full object-cover"}):(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"img"})}),(0,d.jsx)("div",{className:(0,f.cn)("text-xs",b===o?"text-primary":"text-foreground"),children:a.title||`Item ${b+1}`}),b===o&&(0,d.jsx)("div",{className:"h-0.5 w-6 rounded bg-primary"})]},b))})}):null}},82062:(a,b,c)=>{c.d(b,{E:()=>l});var d=c(80742),e=c(30311),f=c(88810),g=c(76130),h=c(62670),i=c(46351),j=c(44675),k=c(97579);function l({cardId:a,items:b,values:c,onValueChange:l,className:m}){let{theme:n}=(0,j.b)(),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:(0,f.cn)("flex flex-nowrap overflow-x-auto gap-3 pb-2 scrollbar-hide",m),children:b.map(a=>{let b=c[a.category]||a.defaultValue||a.options[0]?.value||"",e=a.options.find(a=>a.value===b)?.label||"";return(0,d.jsxs)("button",{onClick:()=>{r(a.category),p(!0)},className:(0,f.cn)("group flex items-center gap-2 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 flex-shrink-0","bg-white/60 backdrop-blur-md border border-gray-200/40","hover:bg-white/80 hover:border-gray-300/60 hover:scale-105","focus:outline-none focus:ring-2 focus:ring-gray-500/20","shadow-sm hover:shadow-lg"),style:{color:n.textColor,fontFamily:n.fontFamily},children:[(0,d.jsx)("span",{style:{color:n.textColor,opacity:.7},className:"group-hover:opacity-90",children:a.category}),(0,d.jsx)("span",{style:{color:n.textColor},className:"font-semibold group-hover:opacity-90",children:e}),(0,d.jsx)(g.A,{style:{color:n.textColor,opacity:.6},className:"w-4 h-4 group-hover:opacity-80 transition-transform group-hover:rotate-180"})]},a.category)})}),(0,d.jsx)(i.J,{isOpen:o,onClose:()=>{p(!1),r(null)},title:q?`选择${q}`:"选择筛选条件",children:(0,d.jsx)("div",{className:"space-y-2",children:q&&b.find(a=>a.category===q)?.options.map(e=>{let g=(c[q]||b.find(a=>a.category===q)?.defaultValue||"")===e.value;return(0,d.jsxs)("button",{onClick:()=>{var b;return b=e.value,void(k.U.selectFilter(a,e),l(q,b),p(!1),r(null))},className:(0,f.cn)("w-full flex items-center justify-between px-4 py-4 text-left text-sm transition-all duration-200 rounded-xl","hover:bg-gray-50 active:scale-98",g?"bg-gray-100 font-semibold border border-gray-300":""),style:{color:n.textColor,fontFamily:n.fontFamily},children:[(0,d.jsx)("span",{children:e.label}),g&&(0,d.jsx)(h.A,{style:{color:n.textColor},className:"w-5 h-5"})]},e.value)})})})]})}},94721:(a,b,c)=>{c.d(b,{CV:()=>g,zU:()=>e});class d{constructor(a,b){this.target=a??null,this.targetOrigin=b?.targetOrigin??"*",this.channel=b?.channel}setTarget(a){this.target=a}setTargetOrigin(a){this.targetOrigin=a}setChannel(a){this.channel=a}post(a,b,c){if(!this.target)return;let d={type:a,payload:b,correlationId:c,channel:this.channel};try{this.target.postMessage(d,this.targetOrigin)}catch(a){}}}function e(a,b){return()=>{}}let f=null;function g(a){return f?(a?.targetOrigin&&f.setTargetOrigin(a.targetOrigin),a?.channel&&f.setChannel(a.channel)):f=new d(void 0,a),f}}};