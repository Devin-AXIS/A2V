exports.id=6771,exports.ids=[6771],exports.modules={2799:(a,b,c)=>{"use strict";c.d(b,{P:()=>j});var d=c(80742),e=c(30311),f=c(88810),g=c(44303),h=c(62670),i=c(9809);function j({value:a,onChange:b,onComplete:c,length:j=6,className:k,disabled:l=!1,error:m,success:n=!1,autoFocus:o=!0,size:p="md"}){let[q,r]=(0,e.useState)(null),s=(0,e.useRef)([]),[t,u]=(0,e.useState)(!1),v=(c,d)=>{let e=a.split("");e[c]=d,b(e.join("").slice(0,j)),d&&c<j-1&&s.current[c+1]?.focus()},w=a=>{a.preventDefault();let c=a.clipboardData.getData("text").replace(/\D/g,"").slice(0,j);b(c);let d=Math.min(c.length,j-1);s.current[d]?.focus()},x=(()=>{switch(p){case"sm":return{box:"w-10 h-10 text-base",icon:"w-4 h-4",gap:"space-x-2"};case"lg":return{box:"w-14 h-14 text-2xl",icon:"w-6 h-6",gap:"space-x-4"};default:return{box:"w-12 h-12 text-lg",icon:"w-5 h-5",gap:"space-x-3"}}})();return(0,d.jsxs)("div",{className:(0,f.cn)("relative",k),children:[(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-4",children:[(0,d.jsx)("span",{className:(0,f.cn)(x.icon),children:m?(0,d.jsx)(g.A,{className:"w-5 h-5 text-red-500"}):n||t?(0,d.jsx)(h.A,{className:"w-5 h-5 text-green-500"}):(0,d.jsx)(i.A,{className:"w-5 h-5 text-gray-400"})}),(0,d.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"验证码"})]}),(0,d.jsx)("div",{className:(0,f.cn)("flex justify-center",x.gap),children:Array.from({length:j},(b,c)=>(0,d.jsx)("input",{ref:a=>{s.current[c]=a},type:"text",inputMode:"numeric",maxLength:1,value:a[c]||"",onChange:a=>((a,b)=>{let c=b.replace(/\D/g,"");c.length>1?v(a,c.slice(-1)):v(a,c)})(c,a.target.value),onKeyDown:b=>{"Backspace"===b.key?!a[c]&&c>0?s.current[c-1]?.focus():v(c,""):"ArrowLeft"===b.key&&c>0?s.current[c-1]?.focus():"ArrowRight"===b.key&&c<j-1&&s.current[c+1]?.focus()},onPaste:w,onFocus:()=>r(c),onBlur:()=>r(null),disabled:l,className:(0,f.cn)("text-center font-bold",x.box,"bg-background border border-border","rounded-lg","transition-all duration-300 ease-in-out","focus:outline-none focus:ring-2 focus:ring-primary/50","focus:border-primary focus:bg-accent","disabled:opacity-50 disabled:cursor-not-allowed",m&&"border-red-300 bg-red-50/20",n&&"border-green-300 bg-green-50/20",q===c&&"scale-105 shadow-lg")},c))}),m&&(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-center space-x-1",children:[(0,d.jsx)(g.A,{className:"w-4 h-4 text-red-500"}),(0,d.jsx)("span",{className:"text-sm text-red-600",children:m})]}),n&&!m&&(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-center space-x-1",children:[(0,d.jsx)(h.A,{className:"w-4 h-4 text-green-500"}),(0,d.jsx)("span",{className:"text-sm text-green-600",children:"验证码正确"})]}),t&&!m&&!n&&(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-center space-x-1",children:[(0,d.jsx)(h.A,{className:"w-4 h-4 text-blue-500"}),(0,d.jsx)("span",{className:"text-sm text-blue-600",children:"验证码输入完成"})]})]})}c(66497)},16385:()=>{},44303:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3208).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},47827:(a,b,c)=>{"use strict";c.d(b,{S:()=>o});var d=c(80742),e=c(93531),f=c(30311),g=c(84336),h=c(88810),i=c(83119),j=c(33371),k=c(49454),l=c(2799),m=c(66497),n=c(56596);function o({onLogin:a,onRegister:b,onForgotPassword:c,className:o}){let[p,q]=(0,f.useState)("phone"),[r,s]=(0,f.useState)("phone"),[t,u]=(0,f.useState)(""),[v,w]=(0,f.useState)(""),[x,y]=(0,f.useState)(""),[z,A]=(0,f.useState)(!1),[B,C]=(0,f.useState)(!1),[D,E]=(0,f.useState)(!1),[F,G]=(0,f.useState)({}),H=a=>{u(a),F.phone&&G(a=>({...a,phone:void 0}))},I=async()=>{if(!t)return void G(a=>({...a,phone:"请输入手机号"}));console.log("发送验证码到:",t),E(!0),s("verify")},J=async()=>{C(!0),G({});try{let b={};if(t||(b.phone="请输入手机号"),"phone"===p?v||(b.code="请输入验证码"):x||(b.password="请输入密码"),Object.keys(b).length>0)return void G(b);let c=window.localStorage.getItem("APPLICATION_CONFIG"),d=JSON.parse(c),f=d?.id,g=await e.A.post(`http://localhost:3007/api/modules/system/user/login?applicationId=${f}`,{password:x,phone_number:t}),h=g.data?.data;a?.(h)}catch(a){console.error("登录失败:",a),G(a=>({...a,..."password"===p?{password:"登录失败，请检查手机号或密码"}:{code:"登录失败，请检查验证码"}}))}finally{C(!1)}},K=(0,g.usePathname)(),[L,M]=(0,f.useState)(null),N=(0,f.useMemo)(()=>L&&Array.isArray(L.providers)?[{key:"phone",enabled:!0},...L.providers.filter(a=>a&&a.key&&["phone","wechat","bytedance","google","apple"].includes(a.key)).filter(a=>"phone"!==a.key)]:[{key:"phone",enabled:!0},{key:"wechat",enabled:!1},{key:"bytedance",enabled:!1},{key:"google",enabled:!1},{key:"apple",enabled:!1}],[L]),O=L?.titleColor?{color:L.titleColor}:void 0,P=L?.bodyColor?{color:L.bodyColor}:void 0,Q=(0,f.useMemo)(()=>K?.startsWith("/en")?"en":"zh",[K]),R=(0,f.useMemo)(()=>{let a=L?.introTitle;return a?"string"==typeof a?a:a[Q]||a.zh||a.en||null:null},[L,Q]),S=(0,f.useMemo)(()=>{let a=L?.introText;return a?"string"==typeof a?a:a[Q]||a.zh||a.en||null:null},[L,Q]),T=()=>(0,d.jsxs)("div",{className:"flex items-center justify-center gap-6 pt-10",children:[N.find(a=>"wechat"===a.key)?.enabled&&(0,d.jsx)("button",{"aria-label":"wechat",className:"size-14 rounded-full bg-white/80 shadow border flex items-center justify-center",children:"微"}),N.find(a=>"bytedance"===a.key)?.enabled&&(0,d.jsx)("button",{"aria-label":"bytedance",className:"size-14 rounded-full bg-white/80 shadow border flex items-center justify-center",children:"字"}),N.find(a=>"google"===a.key)?.enabled&&(0,d.jsx)("button",{"aria-label":"google",className:"size-14 rounded-full bg-white/80 shadow border flex items-center justify-center",children:"G"}),N.find(a=>"apple"===a.key)?.enabled&&(0,d.jsx)("button",{"aria-label":"apple",className:"size-14 rounded-full bg-white/80 shadow border flex items-center justify-center",children:""})]});return(0,d.jsx)("div",{className:"min-h-screen pb-8",children:(0,d.jsx)("div",{className:"pt-6",children:(0,d.jsxs)("div",{className:"container mx-auto px-4",children:["phone"===r?(0,d.jsx)(n.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},children:(0,d.jsxs)("div",{className:"max-w-sm mx-auto pt-8 pb-8",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold mb-2",style:O,children:R||("en"===Q?"Sign in or register":"手机号登录或注册")}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",style:P,children:S||("en"===Q?"The code will be sent to your phone":"验证码将发送至你的手机")})]}),(0,d.jsx)("div",{className:"mb-5",children:(0,d.jsx)(k.L,{value:t,onChange:H,error:F.phone,placeholder:"请输入手机号"})}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)(m.$,{type:"button",variant:"secondary",className:"w-full rounded-full h-11",disabled:!t,onClick:I,children:"获取验证码"})}),(0,d.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,d.jsx)("button",{type:"button",className:"underline underline-offset-4 hover:text-foreground",onClick:()=>{q("password"),s("password")},children:"使用密码登录"})}),(0,d.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-2",children:(0,d.jsx)("button",{type:"button",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",onClick:b,children:"en"===Q?"Create Account":"创建账户"})}),T()]})}):null,"verify"===r?(0,d.jsx)(n.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},children:(0,d.jsxs)("div",{className:"max-w-sm mx-auto pt-8 pb-8",children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-2",style:O,children:R||("en"===Q?"Verify code":"输入验证码")}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",style:P,children:S||("en"===Q?"The code will be sent to your phone":"验证码将发送至你的手机")})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)(l.P,{value:v,onChange:a=>{w(a),F.code&&G(a=>({...a,code:void 0}))},error:F.code,onComplete:a=>w(a),size:"sm"})}),(0,d.jsx)(m.$,{type:"button",onClick:J,disabled:B||v.length<4,size:"lg",className:"w-full rounded-full h-12 text-base",variant:"default",children:B?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"继续中..."]}):"en"===Q?"Continue":"继续"}),(0,d.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-4",children:(0,d.jsx)("button",{type:"button",className:"underline underline-offset-4 hover:text-foreground",onClick:()=>{q("password"),s("password")},children:"使用密码登录"})}),(0,d.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-2",children:(0,d.jsx)("button",{type:"button",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",onClick:b,children:"en"===Q?"Create Account":"创建账户"})}),T()]})}):null,"password"===r?(0,d.jsx)(n.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},children:(0,d.jsxs)("div",{className:"max-w-sm mx-auto pt-8 pb-8",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold mb-2",style:O,children:R||("en"===Q?"Sign in with password":"手机号 + 密码登录")}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",style:P,children:S||("en"===Q?"Enter your phone and password":"请输入你的手机号与密码")})]}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)(k.L,{value:t,onChange:H,error:F.phone,placeholder:"请输入手机号"})}),(0,d.jsx)("div",{className:"mb-1",children:(0,d.jsxs)("div",{className:"w-full max-w-sm",children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-xs font-medium text-gray-600 mb-1.5",children:"密码"}),(0,d.jsxs)("div",{className:(0,h.cn)("group bg-white/70 backdrop-blur-lg rounded-xl shadow-sm border border-white/80 transition-all duration-300","focus-within:ring-2 focus-within:shadow-lg","flex items-center"),children:[(0,d.jsx)("input",{id:"password",type:z?"text":"password",className:"flex-1 px-3.5 py-2.5 bg-transparent outline-none text-gray-900 placeholder:text-gray-400 text-sm",placeholder:"请输入密码",value:x,onChange:a=>{y(a.target.value),F.password&&G(a=>({...a,password:void 0}))}}),(0,d.jsx)("button",{type:"button","aria-label":z?"隐藏密码":"显示密码",className:"pr-3 text-gray-500 hover:text-gray-700",onClick:()=>A(a=>!a),children:z?(0,d.jsx)(i.A,{className:"w-4 h-4"}):(0,d.jsx)(j.A,{className:"w-4 h-4"})})]}),F.password?(0,d.jsx)("p",{className:"mt-1 text-xs text-red-500",children:F.password}):null]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,d.jsx)("button",{type:"button",className:"underline underline-offset-4 hover:text-foreground",onClick:()=>{q("phone"),s("phone")},children:"使用验证码登录"})}),(0,d.jsx)("div",{className:"text-sm",children:(0,d.jsx)("button",{type:"button",className:"text-blue-600 hover:underline",onClick:c,children:"忘记密码？"})})]}),(0,d.jsx)(m.$,{type:"button",onClick:J,disabled:B||!t||!x,size:"lg",className:"w-full rounded-full h-12 text-base",variant:"default",children:B?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"登录中..."]}):"登录"}),(0,d.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-4",children:(0,d.jsx)("button",{type:"button",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",onClick:b,children:"en"===Q?"Create Account":"创建账户"})}),T()]})}):null]})})})}},49454:(a,b,c)=>{"use strict";c.d(b,{L:()=>j});var d=c(80742),e=c(30311),f=c(88810),g=c(44303),h=c(62670),i=c(92170);function j({value:a,onChange:b,onValidate:c,placeholder:j="请输入手机号",className:k,disabled:l=!1,error:m,success:n=!1}){let[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(!1),s=(0,e.useRef)(null);return(0,d.jsxs)("div",{className:(0,f.cn)("relative",k),children:[(0,d.jsxs)("div",{className:(0,f.cn)("relative flex items-center","bg-background border border-border","rounded-lg","transition-all duration-300 ease-in-out","shadow-sm",o&&"shadow-md border-primary",m&&"border-red-300 shadow-red-100",n&&"border-green-300 shadow-green-100",l&&"opacity-50 cursor-not-allowed"),children:[(0,d.jsx)("div",{className:"pl-4 pr-2",children:m?(0,d.jsx)(g.A,{className:"w-5 h-5 text-red-500"}):n||a&&q?(0,d.jsx)(h.A,{className:"w-5 h-5 text-green-500"}):(0,d.jsx)(i.A,{className:"w-5 h-5 text-gray-400"})}),(0,d.jsx)("input",{ref:s,type:"tel",value:a.length<=3?a:a.length<=7?`${a.slice(0,3)} ${a.slice(3)}`:`${a.slice(0,3)} ${a.slice(3,7)} ${a.slice(7)}`,onChange:a=>{let c=a.target.value.replace(/\D/g,"");c.length>11&&(c=c.slice(0,11)),b(c)},onFocus:()=>p(!0),onBlur:()=>p(!1),placeholder:j,disabled:l,maxLength:13,className:(0,f.cn)("flex-1 py-4 pr-4","bg-transparent","text-foreground placeholder-muted-foreground","text-base font-medium","outline-none","disabled:cursor-not-allowed")})]}),m&&(0,d.jsxs)("div",{className:"mt-2 flex items-center space-x-1",children:[(0,d.jsx)(g.A,{className:"w-4 h-4 text-red-500"}),(0,d.jsx)("span",{className:"text-sm text-red-600",children:m})]}),n&&!m&&(0,d.jsxs)("div",{className:"mt-2 flex items-center space-x-1",children:[(0,d.jsx)(h.A,{className:"w-4 h-4 text-green-500"}),(0,d.jsx)("span",{className:"text-sm text-green-600",children:"手机号格式正确"})]}),!m&&!n&&a&&!q&&(0,d.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"请输入正确的手机号码"})]})}},83119:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3208).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},92170:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3208).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}};