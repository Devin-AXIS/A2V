"use strict";exports.id=7986,exports.ids=[7986],exports.modules={428:(a,b,c)=>{c.d(b,{AppHeader:()=>k});var d=c(80742),e=c(30311),f=c(88810),g=c(85971),h=c(91367),i=c(84336),j=c(1129);function k({title:a,showBackButton:b=!1,className:c}){let[k,l]=(0,e.useState)(!1),m=(0,i.useRouter)();return(0,d.jsxs)("header",{className:(0,f.cn)("fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-3 h-14 transition-all duration-300",{"bg-white/80 backdrop-blur-lg shadow-sm":k,"bg-transparent shadow-none":!k},c),children:[(0,d.jsx)("div",{className:"flex-1",children:b&&(0,d.jsx)("button",{onClick:()=>m.back(),className:"p-2 rounded-full hover:bg-gray-100/50",children:(0,d.jsx)(g.A,{className:"w-6 h-6 text-gray-800"})})}),(0,d.jsx)("div",{className:"flex-1 text-center",children:(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap inline-block",children:a})}),(0,d.jsxs)("div",{className:"flex-1 flex justify-end items-center space-x-1",children:[(0,d.jsx)(j.I,{size:"sm",showDropdown:!0}),(0,d.jsx)("button",{className:(0,f.cn)("p-2 rounded-full hover:bg-gray-100/50 transition-opacity duration-300",{"opacity-100":k,"opacity-0 pointer-events-none":!k}),children:(0,d.jsx)(h.A,{className:"w-6 h-6 text-gray-800"})})]})]})}},1129:(a,b,c)=>{c.d(b,{I:()=>s});var d=c(80742),e=c(30311),f=c(88810),g=c(62258),h=c(66497),i=c(95924),j=c(54255),k=c(41470),l=c(72020),m=c(72117),n=c(55047),o=c(75717),p=c(24053),q=c(6550),r=c(84336);function s({className:a,size:b="md",showDropdown:c=!0,onClick:s}){let{user:t,isAuthenticated:u,logout:v}=(0,q.A)(),w=(0,r.useRouter)(),[x,y]=(0,e.useState)(!1),z={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},A=()=>{w.push("/auth/login")},B=()=>{w.push("/auth/register")},C=async()=>{y(!0);try{v()}catch(a){console.error("退出登录失败:",a)}finally{y(!1)}},D=()=>{w.push("/profile")};return u?(0,d.jsx)("div",{className:(0,f.cn)("flex items-center",a),children:c?(0,d.jsxs)(i.rI,{children:[(0,d.jsx)(i.ty,{asChild:!0,children:(0,d.jsxs)("button",{onClick:s,className:(0,f.cn)("relative rounded-full transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500/50",z[b]),children:[(0,d.jsxs)(g.eu,{className:(0,f.cn)("border-2 border-white shadow-lg",z[b]),children:[(0,d.jsx)(g.BK,{src:t?.avatar,alt:t?.name}),(0,d.jsx)(g.q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold",children:t?.name?.charAt(0)||"U"})]}),(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"}),t?.points&&t.points>1e3&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:(0,d.jsx)(m.A,{className:"w-3 h-3 text-white"})})]})}),(0,d.jsxs)(i.SQ,{align:"end",className:"w-64",children:[(0,d.jsx)("div",{className:"px-3 py-2 border-b",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)(g.eu,{className:"w-10 h-10",children:[(0,d.jsx)(g.BK,{src:t?.avatar,alt:t?.name}),(0,d.jsx)(g.q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:t?.name?.charAt(0)||"U"})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:t?.name}),(0,d.jsx)("p",{className:"text-xs text-gray-500 truncate",children:t?.phone}),(0,d.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,d.jsx)(n.A,{className:"w-3 h-3 text-yellow-500"}),(0,d.jsxs)("span",{className:"text-xs text-gray-600",children:[t?.points," 积分"]})]})]})]})}),(0,d.jsxs)(i._2,{onClick:D,className:"cursor-pointer",children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"个人中心"]}),(0,d.jsxs)(i._2,{onClick:()=>{w.push("/profile/settings")},className:"cursor-pointer",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"设置"]}),(0,d.jsx)(i.mB,{}),(0,d.jsxs)(i._2,{onClick:C,className:"cursor-pointer text-red-600 focus:text-red-600",disabled:x,children:[(0,d.jsx)(p.A,{className:"w-4 h-4 mr-2"}),x?"退出中...":"退出登录"]})]})]}):(0,d.jsxs)("button",{onClick:s||D,className:(0,f.cn)("relative rounded-full transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500/50",z[b]),children:[(0,d.jsxs)(g.eu,{className:(0,f.cn)("border-2 border-white shadow-lg",z[b]),children:[(0,d.jsx)(g.BK,{src:t?.avatar,alt:t?.name}),(0,d.jsx)(g.q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold",children:t?.name?.charAt(0)||"U"})]}),(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"}),t?.points&&t.points>1e3&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:(0,d.jsx)(m.A,{className:"w-3 h-3 text-white"})})]})}):(0,d.jsx)("div",{className:(0,f.cn)("flex items-center space-x-2",a),children:c?(0,d.jsxs)(i.rI,{children:[(0,d.jsx)(i.ty,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"outline",size:"sm",className:"flex items-center space-x-2 bg-white/20 backdrop-blur-md border-white/30 hover:bg-white/30",children:[(0,d.jsx)(j.A,{className:"w-4 h-4"}),"登录"]})}),(0,d.jsxs)(i.SQ,{align:"end",className:"w-48",children:[(0,d.jsxs)(i._2,{onClick:A,className:"cursor-pointer",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"登录"]}),(0,d.jsxs)(i._2,{onClick:B,className:"cursor-pointer",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"注册"]})]})]}):(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsxs)(h.$,{variant:"outline",size:"sm",onClick:A,className:"bg-white/20 backdrop-blur-md border-white/30 hover:bg-white/30",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"登录"]}),(0,d.jsxs)(h.$,{variant:"default",size:"sm",onClick:B,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"注册"]})]})})}},51926:(a,b,c)=>{c.d(b,{d:()=>g});var d=c(80742),e=c(88810),f=c(90821);function g({items:a,activeItem:b,onItemChange:c,className:g}){return(0,d.jsx)("div",{className:(0,e.cn)("flex justify-center flex-wrap gap-3",g),children:a.map(a=>(0,d.jsxs)(f.K,{variant:b===a.label?"primary":"default",onClick:()=>c(a.label),className:"flex items-center",children:[a.icon,a.label]},a.label))})}},62258:(a,b,c)=>{c.d(b,{BK:()=>k,eu:()=>j,q5:()=>l});var d=c(80742),e=c(30311),f=c(31318),g=c(32753),h=c(88810);let i=(0,g.F)("relative flex shrink-0 overflow-hidden rounded-full",{variants:{size:{sm:"h-8 w-8",default:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"}},defaultVariants:{size:"default"}}),j=e.forwardRef(({className:a,size:b,...c},e)=>(0,d.jsx)(f.Root,{ref:e,className:(0,h.cn)(i({size:b}),a),...c}));j.displayName=f.Root.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Image,{ref:c,className:(0,h.cn)("aspect-square h-full w-full",a),...b}));k.displayName=f.Image.displayName;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Fallback,{ref:c,className:(0,h.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...b}));l.displayName=f.Fallback.displayName},72923:(a,b,c)=>{c.d(b,{A:()=>j});var d=c(80742),e=c(30311),f=c(88810),g=c(84336),h=c(86628),i=c(51561);let j=function({config:a,className:b,onSwitchTab:c,activeIndex:j,disableNavigate:k}){let l=(0,g.useRouter)(),m=(0,g.useParams)(),n=m?.locale||"zh",[o,p]=(0,e.useState)(j??0),q=(0,e.useMemo)(()=>"grid-5"===a.layout?5:4,[a.layout]),r=(a,b)=>{let d=b?.event;if(k||!d||!d.action||"switchTab"===d.action){p(a),c?.({tabKey:d?.tabKey,tabIndex:d?.tabIndex,index:a});return}if("navigate"===d.action){if("internal"===d.pageType){let a=d.page||"home",b=a.startsWith("p-")?`/${n}/p/${a.replace(/^p-/,"")}`:`/${n}/${a.replace(/^\//,"")}`;l.push(b)}else if("external"===d.pageType&&d.url)try{window.open(d.url,"_blank")}catch{location.href=d.url}}};return a&&Array.isArray(a.items)&&0!==a.items.length?"text"===a.type?(0,d.jsxs)("div",{className:(0,f.cn)("w-full rounded-2xl shadow-md backdrop-blur-md bg-white/60 dark:bg-neutral-900/30",b),children:[(a.header?.title||a.header?.search||a.header?.notify)&&(0,d.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex-1"}),(0,d.jsx)("div",{className:"text-base font-semibold select-none",children:a.header?.title}),(0,d.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-2",children:[a.header?.search&&(0,d.jsx)("button",{className:"size-8 rounded-full flex items-center justify-center hover:bg-muted/70 text-muted-foreground","aria-label":"search",children:(0,d.jsx)(h.A,{className:"w-4 h-4"})}),a.header?.notify&&(0,d.jsx)("button",{className:"size-8 rounded-full flex items-center justify-center hover:bg-muted/70 text-muted-foreground","aria-label":"notify",children:(0,d.jsx)(i.A,{className:"w-4 h-4"})})]})]}),(0,d.jsx)("div",{className:"px-2 py-2 overflow-x-auto scrollbar-hide",style:{background:"white"},children:(0,d.jsx)("div",{className:"flex items-center gap-6 px-2 min-w-max",children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:(0,f.cn)("relative text-sm font-medium transition-colors pb-2",b===o?"text-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>{p(b),c?.({index:b})},children:[a.title||`Tab ${b+1}`,b===o&&(0,d.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 -bottom-0.5 h-0.5 w-6 bg-primary rounded-full"})]},b))})})]}):"scroll"===a.layout?(0,d.jsx)("div",{className:(0,f.cn)("w-full rounded-xl bg-card text-card-foreground shadow-sm px-4 py-3",b),children:(0,d.jsx)("div",{className:"flex items-stretch gap-4 overflow-x-auto scrollbar-hide",children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:"flex-shrink-0 w-20 flex flex-col items-center gap-2",onClick:()=>r(b,a),children:[(0,d.jsx)("div",{className:(0,f.cn)("w-16 h-16 rounded-full bg-muted flex items-center justify-center overflow-hidden shadow-sm"),children:a.image?(0,d.jsx)("img",{src:a.image,alt:a.title||"icon",className:"w-full h-full object-cover"}):(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"img"})}),(0,d.jsx)("div",{className:(0,f.cn)("text-xs",b===o?"text-primary":"text-foreground"),children:a.title||`Item ${b+1}`}),b===o&&(0,d.jsx)("div",{className:"h-0.5 w-6 rounded bg-primary"})]},b))})}):(0,d.jsx)("div",{className:(0,f.cn)("w-full rounded-xl bg-card text-card-foreground shadow-sm px-4 py-4",b),children:(0,d.jsx)("div",{className:(0,f.cn)("grid gap-4",5===q?"grid-cols-5":"grid-cols-4"),children:a.items.map((a,b)=>(0,d.jsxs)("button",{className:"flex flex-col items-center gap-2",onClick:()=>r(b,a),children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center overflow-hidden shadow-sm",children:a.image?(0,d.jsx)("img",{src:a.image,alt:a.title||"icon",className:"w-full h-full object-cover"}):(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"img"})}),(0,d.jsx)("div",{className:(0,f.cn)("text-xs",b===o?"text-primary":"text-foreground"),children:a.title||`Item ${b+1}`}),b===o&&(0,d.jsx)("div",{className:"h-0.5 w-6 rounded bg-primary"})]},b))})}):null}},82062:(a,b,c)=>{c.d(b,{E:()=>k});var d=c(80742),e=c(30311),f=c(88810),g=c(76130),h=c(62670),i=c(46351),j=c(44675);function k({items:a,values:b,onValueChange:c,className:k}){let{theme:l}=(0,j.b)(),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:(0,f.cn)("flex flex-nowrap overflow-x-auto gap-3 pb-2 scrollbar-hide",k),children:a.map(a=>{let c=b[a.category]||a.defaultValue||a.options[0]?.value||"",e=a.options.find(a=>a.value===c)?.label||"";return(0,d.jsxs)("button",{onClick:()=>{p(a.category),n(!0)},className:(0,f.cn)("group flex items-center gap-2 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 flex-shrink-0","bg-white/60 backdrop-blur-md border border-gray-200/40","hover:bg-white/80 hover:border-gray-300/60 hover:scale-105","focus:outline-none focus:ring-2 focus:ring-gray-500/20","shadow-sm hover:shadow-lg"),style:{color:l.textColor,fontFamily:l.fontFamily},children:[(0,d.jsx)("span",{style:{color:l.textColor,opacity:.7},className:"group-hover:opacity-90",children:a.category}),(0,d.jsx)("span",{style:{color:l.textColor},className:"font-semibold group-hover:opacity-90",children:e}),(0,d.jsx)(g.A,{style:{color:l.textColor,opacity:.6},className:"w-4 h-4 group-hover:opacity-80 transition-transform group-hover:rotate-180"})]},a.category)})}),(0,d.jsx)(i.J,{isOpen:m,onClose:()=>{n(!1),p(null)},title:o?`选择${o}`:"选择筛选条件",children:(0,d.jsx)("div",{className:"space-y-2",children:o&&a.find(a=>a.category===o)?.options.map(e=>{let g=(b[o]||a.find(a=>a.category===o)?.defaultValue||"")===e.value;return(0,d.jsxs)("button",{onClick:()=>{c(o,e.value),n(!1),p(null)},className:(0,f.cn)("w-full flex items-center justify-between px-4 py-4 text-left text-sm transition-all duration-200 rounded-xl","hover:bg-gray-50 active:scale-98",g?"bg-gray-100 font-semibold border border-gray-300":""),style:{color:l.textColor,fontFamily:l.fontFamily},children:[(0,d.jsx)("span",{children:e.label}),g&&(0,d.jsx)(h.A,{style:{color:l.textColor},className:"w-5 h-5"})]},e.value)})})})]})}},85971:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(3208).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}};