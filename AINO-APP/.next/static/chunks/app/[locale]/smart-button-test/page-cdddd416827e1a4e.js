(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1709],{3976:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,q:()=>a});var n=r(89835),s=r(55931);let l=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)(!1),o=(0,s.useMemo)(()=>({isFrosted:r,setIsFrosted:a}),[r]);return(0,n.jsx)(l.Provider,{value:o,children:t})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useFrostedEffect must be used within a FrostedEffectProvider");return e}},7790:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>l});var n=r(55931);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function a(...e){return n.useCallback(l(...e),e)}},7951:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(98951);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=n.$,a=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let l=s(t)||s(n);return a[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return l(e,i,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},15496:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,cn:()=>l});var n=r(98951),s=r(45318);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}function a(){let e=Math.floor(0xffffff*Math.random()).toString(16).padStart(6,"0");return"#".concat(e)}},31285:(e,t,r)=>{Promise.resolve().then(r.bind(r,67064))},35281:(e,t,r)=>{"use strict";function n(e){let t=e.replace(/\s/g,"");if(t.startsWith("#")){let e=t.replace("#",""),r=3===e.length?e.split("").map(e=>e+e).join(""):e;if(6!==r.length)return null;let n=parseInt(r.substring(0,2),16);return{r:n,g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16)}}let r=t.match(/rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)/);if(r)return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)};let n=t.match(/hsla?\((\d+),(\d+)%,(\d+)%(?:,([\d.]+))?\)/);if(n){let e=parseInt(n[1],10);return function(e,t,r){let n=(1-Math.abs(2*r-1))*t,s=n*(1-Math.abs(e/60%2-1)),l=r-n/2,a=0,o=0,i=0;return 0<=e&&e<60?(a=n,o=s,i=0):60<=e&&e<120?(a=s,o=n,i=0):120<=e&&e<180?(a=0,o=n,i=s):180<=e&&e<240?(a=0,o=s,i=n):240<=e&&e<300?(a=s,o=0,i=n):300<=e&&e<360&&(a=n,o=0,i=s),{r:Math.round((a+l)*255),g:Math.round((o+l)*255),b:Math.round((i+l)*255)}}(e,parseInt(n[2],10)/100,parseInt(n[3],10)/100)}return t.includes("var(")&&console.warn("CSS变量颜色需要从DOM获取实际值:",t),null}function s(e,t,r){let n=e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},s=n(e);return .2126*s+.7152*n(t)+.0722*n(r)}function l(e,t){let r=s(e.r,e.g,e.b),n=s(t.r,t.g,t.b);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!=typeof e)return console.warn("getOptimalTextColor: backgroundColor must be a string, got:",typeof e,e),"primary"===t?"#FFFFFF":"#000000";if("primary"===t)return"#FFFFFF";if("outline"===t||"ghost"===t)return"currentColor";let r=null;return(e.includes("var(")&&(r=function(e){let t=e.match(/var\(([^)]+)\)/);if(!t)return null;let r=function(e){try{return getComputedStyle(document.documentElement).getPropertyValue(e).trim()||null}catch(t){return console.warn("Failed to get CSS variable value:",e,t),null}}(t[1]);return r?n(r):null}(e)),r||(r=n(e)),r)?(s(r.r,r.g,r.b),l(r,{r:255,g:255,b:255})>l(r,{r:0,g:0,b:0})?"#FFFFFF":"#000000"):(console.warn("无法解析背景颜色，使用默认文字颜色:",e),"secondary"===t?"#000000":"#FFFFFF")}function o(e,t,r){return{backgroundColor:t,color:function(e,t,r){if(r)return r;if(!t)switch(e){case"primary":default:return"#FFFFFF";case"secondary":return"#000000";case"outline":case"ghost":return"currentColor"}return a(t,e)}(e,t,r)}}r.d(t,{RP:()=>a,fk:()=>o})},48454:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var n=r(55931),s=r(7790),l=r(89835),a=n.forwardRef((e,t)=>{let{children:r,...s}=e,a=n.Children.toArray(r),i=a.find(c);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(o,{...s,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,l.jsx)(o,{...s,ref:t,children:r})});a.displayName="Slot";var o=n.forwardRef((e,t)=>{let{children:r,...l}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return n.cloneElement(r,{...function(e,t){let r={...t};for(let n in t){let s=e[n],l=t[n];/^on[A-Z]/.test(n)?s&&l?r[n]=(...e)=>{l(...e),s(...e)}:s&&(r[n]=s):"style"===n?r[n]={...s,...l}:"className"===n&&(r[n]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props),ref:t?(0,s.t)(t,e):e})}return n.Children.count(r)>1?n.Children.only(null):null});o.displayName="SlotClone";var i=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===i}},59770:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>i,RW:()=>c,tq:()=>u});var n=r(89835),s=r(55931);let l=[{name:"默认",colors:["#000000","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],a=[{name:"默认",colors:["#000000","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],o=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(l[0].name),[c,u]=(0,s.useState)(a[0].name),[d,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=e=>{f(e.detail)},t=e=>{g(e.detail)};return window.addEventListener("unified-theme-chart-colors-updated",e),window.addEventListener("unified-theme-component-colors-updated",t),()=>{window.removeEventListener("unified-theme-chart-colors-updated",e),window.removeEventListener("unified-theme-component-colors-updated",t)}},[]);let h=e=>{i(e)},p=e=>{a.find(t=>t.name===e)&&u(e)},v=(0,s.useMemo)(()=>{if(m)return[m.primary,m.secondary,m.danger,...l[0].colors.slice(3)];let e=l.find(e=>e.name===r);return e?e.colors:l[0].colors},[r,m]),x=(0,s.useMemo)(()=>{if(d.length>0)return d;let e=a.find(e=>e.name===c);return e?e.colors:a[0].colors},[c,d]),b=(0,s.useMemo)(()=>({chartPalette:v,activeChartPaletteName:r,applyChartPalette:h,dataChartPalette:x,activeDataChartPaletteName:c,applyDataChartPalette:p}),[v,r,x,c]);return(0,n.jsx)(o.Provider,{value:b,children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.chartPalette,activePaletteName:e.activeChartPaletteName,applyPalette:e.applyChartPalette}}function u(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useDataChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.dataChartPalette,activePaletteName:e.activeDataChartPaletteName,applyPalette:e.applyDataChartPalette}}},60267:(e,t,r)=>{"use strict";r.d(t,{K:()=>c});var n=r(89835),s=r(55931),l=r(15496),a=r(59770),o=r(3976),i=r(35281);function c(e){let{className:t,variant:r="default",...c}=e,{palette:u}=(0,a.RW)(),{isFrosted:d}=(0,o.Z)(),f=u[0]||"hsl(var(--primary))",m=(0,s.useMemo)(()=>(0,i.RP)(f,"primary"),[f]),g="px-5 py-2 text-sm font-semibold rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",h=d?"backdrop-blur-sm border border-white/40 shadow-lg":"shadow-md";return"primary"===r?(0,n.jsx)("button",{className:(0,l.cn)(g,h,"focus:ring-2",t),style:{backgroundColor:d?"".concat(f,"B3"):f,color:m,"--tw-ring-color":f},...c}):(0,n.jsx)("button",{className:(0,l.cn)(g,h,d?"bg-white/60 text-gray-900":"bg-white text-black hover:bg-gray-50","focus:ring-gray-400",t),...c})}},67064:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(89835),s=r(55931),l=r(48454),a=r(7951),o=r(15496),i=r(35281);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 rounded-lg",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:a,size:u,asChild:d=!1,customBackgroundColor:f,customTextColor:m,enableSmartContrast:g=!0,style:h,...p}=e,v=d?l.DX:"button",x=s.useMemo(()=>{if(!g||!f)return h;let e=(0,i.fk)(a||"default",f,m);return{...h,...e}},[a,f,m,g,h]);return(0,n.jsx)(v,{className:(0,o.cn)(c({variant:a,size:u,className:r})),ref:t,style:x,...p})});u.displayName="SmartButton";var d=r(60267),f=r(92475);function m(){let[e]=(0,s.useState)(["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#000000","#FFFFFF","#F0F0F0","#333333"]);return(0,n.jsxs)("div",{className:"container mx-auto p-8 space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"智能按钮对比度测试"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8",children:"测试智能对比度系统在不同背景色下的文字颜色选择"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"SmartButton 组件测试"}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((e,t)=>(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"w-full h-8 rounded border",style:{backgroundColor:e}}),(0,n.jsx)(u,{customBackgroundColor:e,className:"w-full",children:"测试按钮"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:e})]},t))})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"PillButton 组件测试"}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((e,t)=>(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"w-full h-8 rounded border",style:{backgroundColor:e}}),(0,n.jsx)(d.K,{variant:"primary",className:"w-full",style:{backgroundColor:e},children:"测试按钮"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:e})]},t))})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"传统按钮对比（可能有问题）"}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((e,t)=>(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"w-full h-8 rounded border",style:{backgroundColor:e}}),(0,n.jsx)(f.$,{className:"w-full",style:{backgroundColor:e},children:"测试按钮"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:e})]},t))})]}),(0,n.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"测试说明"}),(0,n.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("li",{children:["• ",(0,n.jsx)("strong",{children:"SmartButton"}),"：使用智能对比度计算，文字颜色自动优化"]}),(0,n.jsxs)("li",{children:["• ",(0,n.jsx)("strong",{children:"PillButton"}),"：已升级使用智能对比度系统"]}),(0,n.jsxs)("li",{children:["• ",(0,n.jsx)("strong",{children:"传统Button"}),"：可能受统一颜色配置影响，文字颜色可能不够清晰"]}),(0,n.jsx)("li",{children:"• 深色背景应该显示白色文字，浅色背景应该显示深色文字"})]})]})]})}function g(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"container mx-auto p-8 text-center",children:"加载中..."}),children:(0,n.jsx)(m,{})})}},92475:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(89835),s=r(55931),l=r(48454),a=r(7951),o=r(15496);let i=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 rounded-lg",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:c=!1,...u}=e,d=c?l.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(i({variant:s,size:a,className:r})),ref:t,...u})});c.displayName="Button"}},e=>{e.O(0,[6416,9900,7341,7358],()=>e(e.s=31285)),_N_E=e.O()}]);