(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{2939:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(51894).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3976:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i,q:()=>n});var l=a(89835),s=a(55931);let r=(0,s.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,s.useState)(!1),i=(0,s.useMemo)(()=>({isFrosted:a,setIsFrosted:n}),[a]);return(0,l.jsx)(r.Provider,{value:i,children:t})}function i(){let e=(0,s.useContext)(r);if(void 0===e)throw Error("useFrostedEffect must be used within a FrostedEffectProvider");return e}},5061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(89835),s=a(55931),r=a(79588),n=a(68607),i=a(75123),c=a.n(i),d=a(54890),o=a(27728),u=a(96037),m=a(60267),h=a(16781),x=a(69923),f=a(77860),p=a(42039);let b=(0,a(51894).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var v=a(37895),g=a(49101),j=a(2939),N=a(40612),y=a(68232),w=a(77908);function k(){let e=(0,r.useRouter)(),{locale:t}=(0,r.useParams)(),[a,i]=(0,s.useState)({name:"张小明",id:"2024001",level:"Lv.5",role:"AI学习者",avatar:"/generic-user-avatar.png",gender:"male",phone:"138****8888",email:"zhangxiaoming@example.com",birthDate:"1995-06-15",phoneVerified:!0,emailVerified:!1}),[k,C]=(0,s.useState)(!1),[F,A]=(0,s.useState)(!1),[S,M]=(0,s.useState)(!1),[P,E]=(0,s.useState)(!1),[z,D]=(0,s.useState)(!1),[K,L]=(0,s.useState)(""),[V,I]=(0,s.useState)(""),[T,O]=(0,s.useState)(""),[B,R]=(0,s.useState)(0),[W,_]=(0,s.useState)(!1),J=e=>{R(60);let t=setInterval(()=>{R(e=>e<=1?(clearInterval(t),0):e-1)},1e3);console.log("[v0] 发送".concat("phone"===e?"手机":"邮箱","验证码"))},q=async e=>{if(!K||6!==K.length)return void alert("请输入6位验证码");_(!0),setTimeout(()=>{"123456"===K?("phone"===e?(i(e=>({...e,phoneVerified:!0})),A(!1)):(i(e=>({...e,emailVerified:!0})),M(!1)),alert("验证成功！")):alert("验证码错误，请重新输入"),_(!1),L("")},1500)},H=async e=>{if(!K||6!==K.length)return void alert("请输入6位验证码");let t="phone"===e?V:T;if(!t)return void alert("请输入新的".concat("phone"===e?"手机号":"邮箱地址"));_(!0),setTimeout(()=>{"123456"===K?("phone"===e?(i(e=>({...e,phone:t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"),phoneVerified:!0})),E(!1),I("")):(i(e=>({...e,email:t,emailVerified:!0})),D(!1),O("")),alert("更换成功！")):alert("验证码错误，请重新输入"),_(!1),L("")},1500)};return(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(o.DynamicBackground,{}),(0,l.jsx)(d.AppHeader,{title:"编辑资料",showBackButton:!0}),(0,l.jsxs)("div",{className:"px-4 py-6 space-y-4 pt-20 pb-24",children:[(0,l.jsx)(u.AppCard,{children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{C(!0),setTimeout(()=>{let e=["/generic-user-avatar.png","/person-avatar-1.png","/person-avatar-2.png","/professor-avatar.png"],t=(e.indexOf(a.avatar)+1)%e.length;i(a=>({...a,avatar:e[t]})),C(!1)},1e3)},children:k?(0,l.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.avatar?(0,l.jsx)(n.default,{src:a.avatar||"/placeholder.svg",alt:"头像",width:56,height:56,className:"rounded-full object-cover"}):(0,l.jsx)(p.A,{className:"w-7 h-7 text-white"})}),(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center cursor-pointer hover:bg-blue-600",children:(0,l.jsx)(b,{className:"w-2.5 h-2.5 text-white"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"点击更换头像"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"建议尺寸 140x140"})]})]})})}),(0,l.jsx)(u.AppCard,{children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsx)("h3",{className:"text-base font-semibold",children:"基本信息"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"姓名"}),(0,l.jsx)(h.p,{value:a.name,onChange:e=>i(t=>({...t,name:e.target.value})),placeholder:"请输入真实姓名",className:"rounded-xl"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"性别"}),(0,l.jsxs)(x.l6,{value:a.gender,onValueChange:e=>i(t=>({...t,gender:e})),children:[(0,l.jsx)(x.bq,{className:"rounded-xl",children:(0,l.jsx)(x.yv,{placeholder:"请选择性别"})}),(0,l.jsxs)(x.gC,{children:[(0,l.jsx)(x.eb,{value:"male",children:"男"}),(0,l.jsx)(x.eb,{value:"female",children:"女"}),(0,l.jsx)(x.eb,{value:"other",children:"其他"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"出生日期"}),(0,l.jsx)(h.p,{type:"date",value:a.birthDate,onChange:e=>i(t=>({...t,birthDate:e.target.value})),className:"rounded-xl"})]})]})}),(0,l.jsx)(u.AppCard,{children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsx)("h3",{className:"text-base font-semibold",children:"账号安全"}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(v.A,{className:"w-4 h-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"手机号码"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:a.phone})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[a.phoneVerified&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,l.jsx)(g.A,{className:"w-3 h-3"}),(0,l.jsx)("span",{className:"text-xs",children:"已验证"})]}),(0,l.jsx)(m.K,{size:"sm",variant:"outline",onClick:()=>{a.phoneVerified?E(!0):A(!0)},children:a.phoneVerified?"更换":"验证"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(j.A,{className:"w-4 h-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"邮箱地址"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:a.email})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[a.emailVerified&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,l.jsx)(g.A,{className:"w-3 h-3"}),(0,l.jsx)("span",{className:"text-xs",children:"已验证"})]}),(0,l.jsx)(m.K,{size:"sm",variant:"outline",onClick:()=>{a.emailVerified?D(!0):M(!0)},children:a.emailVerified?"更换":"验证"})]})]})]})}),(0,l.jsx)(u.AppCard,{children:(0,l.jsx)(c(),{href:"/".concat(t,"/profile/third-party"),children:(0,l.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-muted/30 transition-colors rounded-xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(g.A,{className:"w-4 h-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"第三方账号绑定"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"管理社交账号绑定"})]})]}),(0,l.jsx)(N.A,{className:"w-4 h-4 text-muted-foreground"})]})})})]}),(0,l.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-xl border-t p-4",children:(0,l.jsxs)("div",{className:"flex gap-3 max-w-md mx-auto",children:[(0,l.jsxs)(m.K,{variant:"outline",onClick:()=>e.back(),className:"flex-1",children:[(0,l.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"取消"]}),(0,l.jsxs)(m.K,{onClick:()=>{console.log("保存资料:",a),e.back()},className:"flex-1",children:[(0,l.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"保存修改"]})]})}),(0,l.jsx)(f.J,{isOpen:F,onClose:()=>{A(!1),L(""),R(0)},title:"验证手机号",children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["验证码将发送至 ",a.phone]})}),(0,l.jsx)("div",{className:"space-y-3",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"验证码"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:K,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"请输入6位验证码",className:"rounded-xl flex-1",maxLength:6}),(0,l.jsx)(m.K,{variant:"outline",size:"sm",onClick:()=>J("phone"),disabled:B>0,className:"whitespace-nowrap",children:B>0?"".concat(B,"s"):"发送验证码"})]})]})}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(m.K,{variant:"outline",onClick:()=>{A(!1),L(""),R(0)},className:"flex-1",children:"取消"}),(0,l.jsx)(m.K,{onClick:()=>q("phone"),disabled:W||6!==K.length,className:"flex-1",children:W?"验证中...":"确认验证"})]})]})}),(0,l.jsx)(f.J,{isOpen:S,onClose:()=>{M(!1),L(""),R(0)},title:"验证邮箱",children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["验证码将发送至 ",a.email]})}),(0,l.jsx)("div",{className:"space-y-3",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"验证码"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:K,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"请输入6位验证码",className:"rounded-xl flex-1",maxLength:6}),(0,l.jsx)(m.K,{variant:"outline",size:"sm",onClick:()=>J("email"),disabled:B>0,className:"whitespace-nowrap",children:B>0?"".concat(B,"s"):"发送验证码"})]})]})}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(m.K,{variant:"outline",onClick:()=>{M(!1),L(""),R(0)},className:"flex-1",children:"取消"}),(0,l.jsx)(m.K,{onClick:()=>q("email"),disabled:W||6!==K.length,className:"flex-1",children:W?"验证中...":"确认验证"})]})]})}),(0,l.jsx)(f.J,{isOpen:P,onClose:()=>{E(!1),L(""),I(""),R(0)},title:"更换手机号",children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"新手机号"}),(0,l.jsx)(h.p,{value:V,onChange:e=>I(e.target.value.replace(/\D/g,"").slice(0,11)),placeholder:"请输入新的手机号码",className:"rounded-xl",maxLength:11})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"验证码"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:K,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"请输入6位验证码",className:"rounded-xl flex-1",maxLength:6}),(0,l.jsx)(m.K,{variant:"outline",size:"sm",onClick:()=>J("phone"),disabled:B>0||!V||11!==V.length,className:"whitespace-nowrap",children:B>0?"".concat(B,"s"):"发送验证码"})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(m.K,{variant:"outline",onClick:()=>{E(!1),L(""),I(""),R(0)},className:"flex-1",children:"取消"}),(0,l.jsx)(m.K,{onClick:()=>H("phone"),disabled:W||6!==K.length||!V,className:"flex-1",children:W?"更换中...":"确认更换"})]})]})}),(0,l.jsx)(f.J,{isOpen:z,onClose:()=>{D(!1),L(""),O(""),R(0)},title:"更换邮箱",children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"新邮箱地址"}),(0,l.jsx)(h.p,{value:T,onChange:e=>O(e.target.value),placeholder:"请输入新的邮箱地址",className:"rounded-xl",type:"email"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"验证码"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(h.p,{value:K,onChange:e=>L(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"请输入6位验证码",className:"rounded-xl flex-1",maxLength:6}),(0,l.jsx)(m.K,{variant:"outline",size:"sm",onClick:()=>J("email"),disabled:B>0||!T||!T.includes("@"),className:"whitespace-nowrap",children:B>0?"".concat(B,"s"):"发送验证码"})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(m.K,{variant:"outline",onClick:()=>{D(!1),L(""),O(""),R(0)},className:"flex-1",children:"取消"}),(0,l.jsx)(m.K,{onClick:()=>H("email"),disabled:W||6!==K.length||!T,className:"flex-1",children:W?"更换中...":"确认更换"})]})]})})]})}},16781:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var l=a(89835),s=a(55931),r=a(15496);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,l.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},27728:(e,t,a)=>{"use strict";a.d(t,{DynamicBackground:()=>r});var l=a(89835),s=a(58396);function r(){let{gradientStyle:e,getGlowColor:t}=(0,s.D)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute inset-0 -z-20 transition-all duration-1000",style:e}),(0,l.jsx)("div",{className:"absolute top-32 left-8 w-80 h-80 rounded-full opacity-15 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:t(1)}}),(0,l.jsx)("div",{className:"absolute bottom-60 right-12 w-96 h-96 rounded-full opacity-10 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:t(2)}}),(0,l.jsx)("div",{className:"absolute top-2/3 left-1/3 w-72 h-72 rounded-full opacity-12 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:t(1)}})]})}},35281:(e,t,a)=>{"use strict";function l(e){let t=e.replace(/\s/g,"");if(t.startsWith("#")){let e=t.replace("#",""),a=3===e.length?e.split("").map(e=>e+e).join(""):e;if(6!==a.length)return null;let l=parseInt(a.substring(0,2),16);return{r:l,g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)}}let a=t.match(/rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)/);if(a)return{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10)};let l=t.match(/hsla?\((\d+),(\d+)%,(\d+)%(?:,([\d.]+))?\)/);if(l){let e=parseInt(l[1],10);return function(e,t,a){let l=(1-Math.abs(2*a-1))*t,s=l*(1-Math.abs(e/60%2-1)),r=a-l/2,n=0,i=0,c=0;return 0<=e&&e<60?(n=l,i=s,c=0):60<=e&&e<120?(n=s,i=l,c=0):120<=e&&e<180?(n=0,i=l,c=s):180<=e&&e<240?(n=0,i=s,c=l):240<=e&&e<300?(n=s,i=0,c=l):300<=e&&e<360&&(n=l,i=0,c=s),{r:Math.round((n+r)*255),g:Math.round((i+r)*255),b:Math.round((c+r)*255)}}(e,parseInt(l[2],10)/100,parseInt(l[3],10)/100)}return t.includes("var(")&&console.warn("CSS变量颜色需要从DOM获取实际值:",t),null}function s(e,t,a){let l=e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},s=l(e);return .2126*s+.7152*l(t)+.0722*l(a)}function r(e,t){let a=s(e.r,e.g,e.b),l=s(t.r,t.g,t.b);return(Math.max(a,l)+.05)/(Math.min(a,l)+.05)}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!=typeof e)return console.warn("getOptimalTextColor: backgroundColor must be a string, got:",typeof e,e),"primary"===t?"#FFFFFF":"#000000";if("primary"===t)return"#FFFFFF";if("outline"===t||"ghost"===t)return"currentColor";let a=null;return(e.includes("var(")&&(a=function(e){let t=e.match(/var\(([^)]+)\)/);if(!t)return null;let a=function(e){try{return getComputedStyle(document.documentElement).getPropertyValue(e).trim()||null}catch(t){return console.warn("Failed to get CSS variable value:",e,t),null}}(t[1]);return a?l(a):null}(e)),a||(a=l(e)),a)?(s(a.r,a.g,a.b),r(a,{r:255,g:255,b:255})>r(a,{r:0,g:0,b:0})?"#FFFFFF":"#000000"):(console.warn("无法解析背景颜色，使用默认文字颜色:",e),"secondary"===t?"#000000":"#FFFFFF")}function i(e,t,a){return{backgroundColor:t,color:function(e,t,a){if(a)return a;if(!t)switch(e){case"primary":default:return"#FFFFFF";case"secondary":return"#000000";case"outline":case"ghost":return"currentColor"}return n(t,e)}(e,t,a)}}a.d(t,{RP:()=>n,fk:()=>i})},37895:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(51894).A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},49101:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(51894).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},54890:(e,t,a)=>{"use strict";a.d(t,{AppHeader:()=>o});var l=a(89835),s=a(55931),r=a(15496),n=a(76539),i=a(18959),c=a(79588),d=a(83953);function o(e){let{title:t,showBackButton:a=!1,className:o}=e,[u,m]=(0,s.useState)(!1),h=(0,c.useRouter)();return(0,s.useEffect)(()=>{let e=()=>{m(window.scrollY>10)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,l.jsxs)("header",{className:(0,r.cn)("fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-3 h-14 transition-all duration-300",{"bg-white/80 backdrop-blur-lg shadow-sm":u,"bg-transparent shadow-none":!u},o),children:[(0,l.jsx)("div",{className:"flex-1",children:a&&(0,l.jsx)("button",{onClick:()=>h.back(),className:"p-2 rounded-full hover:bg-gray-100/50",children:(0,l.jsx)(n.A,{className:"w-6 h-6 text-gray-800"})})}),(0,l.jsx)("div",{className:"flex-1 text-center",children:(0,l.jsx)("h1",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap inline-block",children:t})}),(0,l.jsxs)("div",{className:"flex-1 flex justify-end items-center space-x-1",children:[(0,l.jsx)(d.I,{size:"sm",showDropdown:!0}),(0,l.jsx)("button",{className:(0,r.cn)("p-2 rounded-full hover:bg-gray-100/50 transition-opacity duration-300",{"opacity-100":u,"opacity-0 pointer-events-none":!u}),children:(0,l.jsx)(i.A,{className:"w-6 h-6 text-gray-800"})})]})]})}},58396:(e,t,a)=>{"use strict";a.d(t,{D:()=>c,N:()=>i});var l=a(89835),s=a(55931);let r=[{id:1,name:"主色",value:"#ffffff",enabled:!0},{id:2,name:"次色",value:"#f8fafc",enabled:!0},{id:3,name:"强调色",value:"#f1f5f9",enabled:!0}],n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,s.useState)(r),c=(0,s.useCallback)((e,t)=>{i(a=>a.map(a=>a.id===e?{...a,value:t}:a))},[]),d=(0,s.useCallback)(e=>{i(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))},[]),o=(0,s.useCallback)(e=>{i([{id:1,name:"主色",value:e[0],enabled:!0},{id:2,name:"辅色",value:e[1],enabled:!0},{id:3,name:"点缀色",value:e[2],enabled:!0}])},[]),u=(0,s.useMemo)(()=>{let e=a.find(e=>1===e.id&&e.enabled);return e?e.value:r[0].value},[a]),m=(0,s.useMemo)(()=>{let e=a.find(e=>2===e.id&&e.enabled);return e?e.value:r[1].value},[a]),h=(0,s.useMemo)(()=>{let e=a.find(e=>3===e.id&&e.enabled);return e?e.value:r[2].value},[a]),x=(0,s.useMemo)(()=>{let e=a.filter(e=>e.enabled);if(0===e.length)return{backgroundColor:"#ffffff"};if(1===e.length)return{backgroundColor:e[0].value};if(2===e.length)return{background:"linear-gradient(135deg, ".concat(e[0].value," 40%, ").concat(e[1].value," 100%)")};if(3===e.length)return{background:"linear-gradient(135deg, ".concat(e[0].value," 25%, ").concat(e[1].value," 65%, ").concat(e[2].value," 100%)")};let t=e.map((t,a)=>"".concat(t.value," ").concat(a*(100/(e.length-1)),"%")).join(", ");return{background:"linear-gradient(135deg, ".concat(t,")")}},[a]),f=(0,s.useCallback)(e=>{var t;return(null==(t=a[e])?void 0:t.enabled)?a[e].value:"#dbeafe"},[a]),p=(0,s.useMemo)(()=>({colors:a,updateColor:c,toggleColor:d,applyPreset:o,gradientStyle:x,getGlowColor:f,primaryColor:u,secondaryColor:m,accentColor:h}),[a,c,d,o,x,f,u,m,h]);return(0,l.jsx)(n.Provider,{value:p,children:t})}function c(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},59770:(e,t,a)=>{"use strict";a.d(t,{Fs:()=>c,RW:()=>d,tq:()=>o});var l=a(89835),s=a(55931);let r=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],n=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],i=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,s.useState)(r[0].name),[d,o]=(0,s.useState)(n[0].name),[u,m]=(0,s.useState)([]),[h,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=e=>{m(e.detail)},t=e=>{x(e.detail)};return window.addEventListener("unified-theme-chart-colors-updated",e),window.addEventListener("unified-theme-component-colors-updated",t),()=>{window.removeEventListener("unified-theme-chart-colors-updated",e),window.removeEventListener("unified-theme-component-colors-updated",t)}},[]);let f=e=>{c(e)},p=e=>{n.find(t=>t.name===e)&&o(e)},b=(0,s.useMemo)(()=>{if(h)return[h.primary,h.secondary,h.danger,...r[0].colors.slice(3)];let e=r.find(e=>e.name===a);return e?e.colors:r[0].colors},[a,h]),v=(0,s.useMemo)(()=>{if(u.length>0)return u;let e=n.find(e=>e.name===d);return e?e.colors:n[0].colors},[d,u]),g=(0,s.useMemo)(()=>({chartPalette:b,activeChartPaletteName:a,applyChartPalette:f,dataChartPalette:v,activeDataChartPaletteName:d,applyDataChartPalette:p}),[b,a,v,d]);return(0,l.jsx)(i.Provider,{value:g,children:t})}function d(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.chartPalette,activePaletteName:e.activeChartPaletteName,applyPalette:e.applyChartPalette}}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useDataChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.dataChartPalette,activePaletteName:e.activeDataChartPaletteName,applyPalette:e.applyDataChartPalette}}},60267:(e,t,a)=>{"use strict";a.d(t,{K:()=>d});var l=a(89835),s=a(55931),r=a(15496),n=a(59770),i=a(3976),c=a(35281);function d(e){let{className:t,variant:a="default",...d}=e,{palette:o}=(0,n.RW)(),{isFrosted:u}=(0,i.Z)(),m=o[0]||"hsl(var(--primary))",h=(0,s.useMemo)(()=>(0,c.RP)(m,"primary"),[m]),x="px-5 py-2 text-sm font-semibold rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",f=u?"backdrop-blur-sm border border-white/40 shadow-lg":"shadow-md";return"primary"===a?(0,l.jsx)("button",{className:(0,r.cn)(x,f,"focus:ring-2",t),style:{backgroundColor:u?"".concat(m,"B3"):m,color:h,"--tw-ring-color":m},...d}):(0,l.jsx)("button",{className:(0,r.cn)(x,f,u?"bg-white/60 text-gray-900":"bg-white text-black hover:bg-gray-50","focus:ring-gray-400",t),...d})}},63262:(e,t,a)=>{Promise.resolve().then(a.bind(a,5061))},68232:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(51894).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},76539:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(51894).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},77860:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var l=a(89835),s=a(55931),r=a(68232),n=a(15496),i=a(41657),c=a(93914);function d(e){let{isOpen:t,onClose:a,title:d,children:o,className:u}=e,{theme:m}=(0,i.b)();if(s.useEffect(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),!t)return null;let h={color:m.textColor,fontFamily:m.fontFamily,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px) saturate(120%)",WebkitBackdropFilter:"blur(12px) saturate(120%)",border:"none",boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -2px 8px rgba(0, 0, 0, 0.08)"},x=(0,l.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 animate-in fade-in-0 duration-300",style:{backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)"},onClick:a}),(0,l.jsx)("div",{className:"absolute inset-x-0 bottom-0 z-10",children:(0,l.jsxs)("div",{className:(0,n.cn)("w-full max-h-[85vh] rounded-t-3xl animate-in slide-in-from-bottom-full duration-300 ease-out",u),style:h,children:[d&&(0,l.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-100/60",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d}),(0,l.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100/80 rounded-full transition-colors duration-200","aria-label":"关闭",children:(0,l.jsx)(r.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,l.jsx)("div",{className:"overflow-y-auto",style:{height:d?"calc(85vh - 80px)":"85vh",maxHeight:d?"calc(85vh - 80px)":"85vh",scrollbarGutter:"stable",scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.2) transparent"},children:o})]})})]});return(0,c.createPortal)(x,document.body)}}},e=>{e.O(0,[3739,8290,5022,8244,5123,8607,6037,3953,9900,7341,7358],()=>e(e.s=63262)),_N_E=e.O()}]);