(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7344],{13391:(t,e,l)=>{"use strict";l.d(e,{A:()=>o});let o=(0,l(51894).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},14808:(t,e,l)=>{"use strict";l.r(e),l.d(e,{default:()=>u});var o=l(89835),a=l(79588),n=l(17409),i=l(55931),r=l(33378),s=l(65794),c=l(12680);function u(){var t,e,l,u,d,h;let p=(0,a.useParams)(),v=(0,a.useSearchParams)(),g=(null==p?void 0:p.locale)||"zh",y=(null==p?void 0:p.id)||"unknown",m=(0,i.useMemo)(()=>"dynamic_page_layout_p-".concat(y,"_").concat(g),[y,g]),f=(0,i.useMemo)(()=>"APP_PAGE_".concat(y),[y]),[b,A]=(0,i.useState)(null),[N,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{(0,s.a)()}catch(t){}},[]),(0,i.useEffect)(()=>{try{let t=null==v?void 0:v.get("pageCfg"),e=null==v?void 0:v.get("cfgId");if(t)try{let e=JSON.parse(t),l={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==e?void 0:e.options)||{}};localStorage.setItem(f,JSON.stringify({...e,options:l}));let o="/p-".concat(y);localStorage.setItem("APP_PAGE_ROUTE_".concat(o),JSON.stringify({...e,options:l})),A({title:null==e?void 0:e.title,layout:null==e?void 0:e.layout,route:null==e?void 0:e.route,options:l,contentNav:null==e?void 0:e.contentNav,topBar:null==e?void 0:e.topBar,tabContent:null==e?void 0:e.tabContent})}catch(t){}else e&&(async()=>{try{let t=await c.L.get("/api/page-configs/".concat(encodeURIComponent(e)));if(t){let e={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==t?void 0:t.options)||{}};localStorage.setItem(f,JSON.stringify({...t,options:e}));let l="/p-".concat(y);localStorage.setItem("APP_PAGE_ROUTE_".concat(l),JSON.stringify({...t,options:e})),A({title:null==t?void 0:t.title,layout:null==t?void 0:t.layout,route:null==t?void 0:t.route,options:e,contentNav:null==t?void 0:t.contentNav,topBar:null==t?void 0:t.topBar,tabContent:null==t?void 0:t.tabContent})}}catch(t){}})();let l=localStorage.getItem(f);if(l){let t=JSON.parse(l),e={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==t?void 0:t.options)||{}};A({title:null==t?void 0:t.title,layout:null==t?void 0:t.layout,route:null==t?void 0:t.route,options:e,contentNav:null==t?void 0:t.contentNav,topBar:null==t?void 0:t.topBar,tabContent:null==t?void 0:t.tabContent})}if(!localStorage.getItem(m)&&l){let t=JSON.parse(l),e={cards:(Array.isArray(null==t?void 0:t.cards)?t.cards:[]).map(t=>"string"==typeof t?{type:t}:{type:(null==t?void 0:t.type)||t}),themes:{},updatedAt:Date.now()};localStorage.setItem(m,JSON.stringify(e))}}catch(t){}w(!0)},[m,f,v,y]);let x=(0,i.useMemo)(()=>"p-".concat(y),[y]),I=(()=>{var t;let e=null==b?void 0:b.topBar;return e&&e.enabled&&Array.isArray(e.tabs)&&e.tabs.length>0?{type:"text",items:e.tabs.map(t=>({title:((null==t?void 0:t.title)||"").trim()||"标签"}))}:(null==b||null==(t=b.contentNav)?void 0:t.type)==="text"?null==b?void 0:b.contentNav:null})(),S=(null==b||null==(t=b.contentNav)?void 0:t.type)==="iconText"?null==b?void 0:b.contentNav:null,k=(0,i.useMemo)(()=>{let t=null==v?void 0:v.get("tab");return t?Number(t):0},[v]);return N?(0,o.jsxs)("main",{className:"min-h-[100dvh] bg-transparent",children:[(0,o.jsx)(r.M3,{category:x,locale:g,layout:"mobile",showHeader:null==b||null==(e=b.options)?void 0:e.showHeader,showBottomNav:null==b||null==(l=b.options)?void 0:l.showBottomNav,headerTitle:(()=>{let t=null==b?void 0:b.title;return t?"string"==typeof t?t:("zh"===g?t.zh:t.en)||t.zh||t.en:void 0})(),showBack:null==b||null==(u=b.options)?void 0:u.showBack,aiOpsUrl:null==b||null==(d=b.options)?void 0:d.aiOpsUrl,aiOpsLabel:null==b||null==(h=b.options)?void 0:h.aiOpsLabel,topTabsConfig:I,contentNavConfig:S,initialTabIndex:k,pageId:y},"p-".concat(y,"-tab-").concat(k)),(0,o.jsx)(n.BottomNavigation,{})]}):null}},17409:(t,e,l)=>{"use strict";l.d(e,{BottomNavigation:()=>b});var o=l(89835),a=l(79588),n=l(35749),i=l(13391),r=l(92126),s=l(79644),c=l(42039),u=l(77796),d=l(97909),h=l(59213),p=l(8892),v=l(70368),g=l(92475),y=l(96037),m=l(41657),f=l(55931);function b(t){let{dict:e,items:l}=t,b=(0,a.usePathname)(),{theme:A}=(0,m.b)(),N=b.split("/")[1],w=b.endsWith("/chat"),x=(0,f.useMemo)(()=>!function(t){if(!t.startsWith("#"))return!1;let e=Number.parseInt(t.substring(1),16);return .2126*(e>>16&255)+.7152*(e>>8&255)+.0722*((0|e)&255)<128}(A.background)?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.1)",[A.background]);if(w)return null;let I=e||{browseComponents:"组件",dashboard:"仪表板",chat:"AI",search:"搜索",profile:"我的"},S=[{href:"/",label:I.browseComponents,icon:n.A},{href:"/dashboard",label:I.dashboard,icon:i.A},{href:"/chat",label:I.chat,icon:r.A},{href:"/search",label:I.search,icon:s.A},{href:"/profile",label:I.profile,icon:c.A}],k=b.includes("/preview/")||b.includes("/app/"),_=[];if(l&&l.length>0)_=l;else try{{let t=localStorage.getItem("APPLICATION_CONFIG");if(t){var C,O,B;let e=JSON.parse(t),l=Array.isArray(null==e||null==(B=e.config)||null==(O=B.clientManifest)||null==(C=O.app)?void 0:C.bottomNav)?e.config.clientManifest.app.bottomNav:[];l.length>0&&(_=l.filter(t=>(null==t?void 0:t.visible)!==!1).map(t=>{var e,l,o;return{href:t.route||"/",label:(null==(e=t.label)?void 0:e[N])||(null==(l=t.label)?void 0:l.zh)||(null==(o=t.label)?void 0:o.en)||t.id||"",iconName:t.icon||"grid"}}))}if(0===_.length){let t=localStorage.getItem("CURRENT_APP_NAV_ITEMS");if(t){let e=JSON.parse(t);Array.isArray(e)&&e.length>0&&(_=e.filter(t=>t&&!1!==t.visible).map(t=>{let e=t.route||t.href||"/";return"/me"===e&&(e="/profile"),{href:e,label:t.label||t.key||"",iconName:t.icon||t.iconName}}))}}}}catch(t){}if(0!==_.length||k||(_=S),0===_.length)return null;let P={home:u.A,user:c.A,profile:c.A,search:s.A,dashboard:i.A,grid:n.A,menu:n.A,chat:r.A,message:r.A,settings:d.A,bell:h.A,star:p.A,heart:v.A},E=localStorage.getItem("QUERY_STRING");return(0,o.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:(0,o.jsx)(y.AppCard,{className:"px-4 py-1",children:(0,o.jsx)("div",{className:"flex items-center space-x-2 md:space-x-3",children:_.map((t,e)=>{var l;let{href:a,icon:i,iconName:r,label:s}=t,c="/".concat(N).concat("/"===a?"":a);if("/preview"===a){let t=new URLSearchParams(window.location.search),e=t.get("cfgId"),l=t.get("previewId"),o=t.get("appId"),a=window.localStorage.getItem("MAIN_PATH");c=e?"/".concat(N,"/preview?cfgId=").concat(e,"&device=mobile&isEdite=true"):l&&o?"/".concat(N,"/preview?previewId=").concat(l,"&device=mobile&appId=").concat(o):a||"/".concat(N)}else c+=E||"";let u=b===c||"/"===a&&b==="/".concat(N),d=null!=(l=null!=i?i:r?P[r]:void 0)?l:n.A;return(0,o.jsxs)(g.$,{onClick:()=>{window.location.href=c},variant:"ghost",className:"rounded-2xl w-12 h-12 flex flex-col items-center justify-center transition-all duration-300 group",style:{backgroundColor:u?x:"transparent"},children:[(0,o.jsx)(d,{className:"w-6 h-6 transition-colors",style:{color:A.fontColor,opacity:u?1:.7}}),(0,o.jsx)("span",{className:"sr-only",children:s})]})})})})})}},35749:(t,e,l)=>{"use strict";l.d(e,{A:()=>o});let o=(0,l(51894).A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},70368:(t,e,l)=>{"use strict";l.d(e,{A:()=>o});let o=(0,l(51894).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},91794:(t,e,l)=>{Promise.resolve().then(l.bind(l,14808))},92126:(t,e,l)=>{"use strict";l.d(e,{A:()=>o});let o=(0,l(51894).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])}},t=>{t.O(0,[6416,8290,5022,6497,5123,69,7938,1390,7455,4755,3031,6037,7414,7746,721,3378,9900,7341,7358],()=>t(t.s=91794)),_N_E=t.O()}]);