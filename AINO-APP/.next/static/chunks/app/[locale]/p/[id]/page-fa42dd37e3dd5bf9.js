(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7344],{14808:(t,o,l)=>{"use strict";l.r(o),l.d(o,{default:()=>c});var e=l(89835),n=l(79588),a=l(17409),i=l(55931),s=l(33378),u=l(65794),r=l(12680);function c(){var t,o,l,c,d,v;let p=(0,n.useParams)(),h=(0,n.useSearchParams)(),g=(null==p?void 0:p.locale)||"zh",m=(null==p?void 0:p.id)||"unknown",y=(0,i.useMemo)(()=>"dynamic_page_layout_p-".concat(m,"_").concat(g),[m,g]),N=(0,i.useMemo)(()=>"APP_PAGE_".concat(m),[m]),[f,b]=(0,i.useState)(null),[w,B]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{(0,u.a)()}catch(t){}},[]),(0,i.useEffect)(()=>{try{let t=null==h?void 0:h.get("pageCfg"),o=null==h?void 0:h.get("cfgId");if(t)try{let o=JSON.parse(t),l={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==o?void 0:o.options)||{}};localStorage.setItem(N,JSON.stringify({...o,options:l}));let e="/p-".concat(m);localStorage.setItem("APP_PAGE_ROUTE_".concat(e),JSON.stringify({...o,options:l})),b({title:null==o?void 0:o.title,layout:null==o?void 0:o.layout,route:null==o?void 0:o.route,options:l,contentNav:null==o?void 0:o.contentNav,topBar:null==o?void 0:o.topBar,tabContent:null==o?void 0:o.tabContent})}catch(t){}else o&&(async()=>{try{let t=await r.L.get("/api/page-configs/".concat(encodeURIComponent(o)));if(t){let o={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==t?void 0:t.options)||{}};localStorage.setItem(N,JSON.stringify({...t,options:o}));let l="/p-".concat(m);localStorage.setItem("APP_PAGE_ROUTE_".concat(l),JSON.stringify({...t,options:o})),b({title:null==t?void 0:t.title,layout:null==t?void 0:t.layout,route:null==t?void 0:t.route,options:o,contentNav:null==t?void 0:t.contentNav,topBar:null==t?void 0:t.topBar,tabContent:null==t?void 0:t.tabContent})}}catch(t){}})();let l=localStorage.getItem(N);if(l){let t=JSON.parse(l),o={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==t?void 0:t.options)||{}};b({title:null==t?void 0:t.title,layout:null==t?void 0:t.layout,route:null==t?void 0:t.route,options:o,contentNav:null==t?void 0:t.contentNav,topBar:null==t?void 0:t.topBar,tabContent:null==t?void 0:t.tabContent})}if(!localStorage.getItem(y)&&l){let t=JSON.parse(l),o={cards:(Array.isArray(null==t?void 0:t.cards)?t.cards:[]).map(t=>"string"==typeof t?{type:t}:{type:(null==t?void 0:t.type)||t}),themes:{},updatedAt:Date.now()};localStorage.setItem(y,JSON.stringify(o))}}catch(t){}B(!0)},[y,N,h,m]);let S=(0,i.useMemo)(()=>"p-".concat(m),[m]),_=(()=>{var t;let o=null==f?void 0:f.topBar;return o&&o.enabled&&Array.isArray(o.tabs)&&o.tabs.length>0?{type:"text",items:o.tabs.map(t=>({title:((null==t?void 0:t.title)||"").trim()||"标签"}))}:(null==f||null==(t=f.contentNav)?void 0:t.type)==="text"?null==f?void 0:f.contentNav:null})(),O=(null==f||null==(t=f.contentNav)?void 0:t.type)==="iconText"?null==f?void 0:f.contentNav:null,C=(0,i.useMemo)(()=>{let t=null==h?void 0:h.get("tab");return t?Number(t):0},[h]);return w?(0,e.jsxs)("main",{className:"min-h-[100dvh] bg-transparent",children:[(0,e.jsx)(s.M3,{category:S,locale:g,layout:"mobile",showHeader:null==f||null==(o=f.options)?void 0:o.showHeader,showBottomNav:null==f||null==(l=f.options)?void 0:l.showBottomNav,headerTitle:(()=>{let t=null==f?void 0:f.title;return t?"string"==typeof t?t:("zh"===g?t.zh:t.en)||t.zh||t.en:void 0})(),showBack:null==f||null==(c=f.options)?void 0:c.showBack,aiOpsUrl:null==f||null==(d=f.options)?void 0:d.aiOpsUrl,aiOpsLabel:null==f||null==(v=f.options)?void 0:v.aiOpsLabel,topTabsConfig:_,contentNavConfig:O,initialTabIndex:C,pageId:m},"p-".concat(m,"-tab-").concat(C)),(0,e.jsx)(a.BottomNavigation,{})]}):null}},91794:(t,o,l)=>{Promise.resolve().then(l.bind(l,14808))}},t=>{t.O(0,[6416,8290,5022,6497,7455,69,7938,1390,5897,3546,3031,6037,413,7746,7324,721,3378,9900,7341,7358],()=>t(t.s=91794)),_N_E=t.O()}]);