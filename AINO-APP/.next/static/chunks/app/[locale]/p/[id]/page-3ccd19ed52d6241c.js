(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7344],{1828:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(51894).A)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])},13391:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(51894).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},14808:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var a=l(89835),n=l(79588),o=l(17409),r=l(55931),s=l(33378),i=l(26077);function c(){var e,t,l,c,u,d;let h=(0,n.useParams)(),p=(0,n.useSearchParams)(),m=(null==h?void 0:h.locale)||"zh",g=(null==h?void 0:h.id)||"unknown",v=(0,r.useMemo)(()=>"dynamic_page_layout_p-".concat(g,"_").concat(m),[g,m]),y=(0,r.useMemo)(()=>"APP_PAGE_".concat(g),[g]),[f,b]=(0,r.useState)(null),[x,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{(0,i.a)()}catch(e){}},[]),(0,r.useEffect)(()=>{try{let e=null==p?void 0:p.get("pageCfg"),t=null==p?void 0:p.get("cfgId");if(e)try{let t=JSON.parse(e),l={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==t?void 0:t.options)||{}};localStorage.setItem(y,JSON.stringify({...t,options:l}));let a="/p-".concat(g);localStorage.setItem("APP_PAGE_ROUTE_".concat(a),JSON.stringify({...t,options:l})),b({title:null==t?void 0:t.title,layout:null==t?void 0:t.layout,route:null==t?void 0:t.route,options:l,contentNav:null==t?void 0:t.contentNav,topBar:null==t?void 0:t.topBar,tabContent:null==t?void 0:t.tabContent})}catch(e){}else t&&(async()=>{try{var e;let l=await fetch("http://47.94.52.142:3007/api/page-configs/".concat(encodeURIComponent(t))),a=await l.json().catch(()=>null),n=a&&(null!=(e=a.data)?e:a);if(l.ok&&n){let e={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==n?void 0:n.options)||{}};localStorage.setItem(y,JSON.stringify({...n,options:e}));let t="/p-".concat(g);localStorage.setItem("APP_PAGE_ROUTE_".concat(t),JSON.stringify({...n,options:e})),b({title:null==n?void 0:n.title,layout:null==n?void 0:n.layout,route:null==n?void 0:n.route,options:e,contentNav:null==n?void 0:n.contentNav,topBar:null==n?void 0:n.topBar,tabContent:null==n?void 0:n.tabContent})}}catch(e){}})();let l=localStorage.getItem(y);if(l){let e=JSON.parse(l),t={showHeader:!0,showBottomNav:!1,showBack:!1,...(null==e?void 0:e.options)||{}};b({title:null==e?void 0:e.title,layout:null==e?void 0:e.layout,route:null==e?void 0:e.route,options:t,contentNav:null==e?void 0:e.contentNav,topBar:null==e?void 0:e.topBar,tabContent:null==e?void 0:e.tabContent})}if(!localStorage.getItem(v)&&l){let e=JSON.parse(l),t={cards:(Array.isArray(null==e?void 0:e.cards)?e.cards:[]).map(e=>"string"==typeof e?{type:e}:{type:(null==e?void 0:e.type)||e}),themes:{},updatedAt:Date.now()};localStorage.setItem(v,JSON.stringify(t))}}catch(e){}N(!0)},[v,y,p,g]);let A=(0,r.useMemo)(()=>"p-".concat(g),[g]),w=(()=>{var e;let t=null==f?void 0:f.topBar;return t&&t.enabled&&Array.isArray(t.tabs)&&t.tabs.length>0?{type:"text",items:t.tabs.map(e=>({title:((null==e?void 0:e.title)||"").trim()||"标签"}))}:(null==f||null==(e=f.contentNav)?void 0:e.type)==="text"?null==f?void 0:f.contentNav:null})(),k=(null==f||null==(e=f.contentNav)?void 0:e.type)==="iconText"?null==f?void 0:f.contentNav:null,C=(0,r.useMemo)(()=>{let e=null==p?void 0:p.get("tab");return e?Number(e):0},[p]);return x?(0,a.jsxs)("main",{className:"min-h-[100dvh] bg-transparent",children:[(0,a.jsx)(s.M3,{category:A,locale:m,layout:"mobile",showHeader:null==f||null==(t=f.options)?void 0:t.showHeader,showBottomNav:null==f||null==(l=f.options)?void 0:l.showBottomNav,headerTitle:(()=>{let e=null==f?void 0:f.title;return e?"string"==typeof e?e:("zh"===m?e.zh:e.en)||e.zh||e.en:void 0})(),showBack:null==f||null==(c=f.options)?void 0:c.showBack,aiOpsUrl:null==f||null==(u=f.options)?void 0:u.aiOpsUrl,aiOpsLabel:null==f||null==(d=f.options)?void 0:d.aiOpsLabel,topTabsConfig:w,contentNavConfig:k,initialTabIndex:C,pageId:g},"p-".concat(g,"-tab-").concat(C)),(0,a.jsx)(o.BottomNavigation,{})]}):null}},17409:(e,t,l)=>{"use strict";l.d(t,{BottomNavigation:()=>A});var a=l(89835),n=l(79588),o=l(75123),r=l.n(o),s=l(35749),i=l(13391),c=l(92126),u=l(79644),d=l(42039),h=l(77796),p=l(97909),m=l(59213),g=l(8892),v=l(70368),y=l(92475),f=l(96037),b=l(41657),x=l(35677),N=l(55931);function A(e){let{dict:t,items:l}=e,o=(0,n.usePathname)(),{theme:A}=(0,b.b)(),w=o.split("/")[1],k=o.endsWith("/chat"),C=(0,N.useMemo)(()=>!function(e){if(!e.startsWith("#"))return!1;let t=Number.parseInt(e.substring(1),16);return .2126*(t>>16&255)+.7152*(t>>8&255)+.0722*((0|t)&255)<128}(A.background)?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.1)",[A.background]);if(k)return null;let S=t||{browseComponents:"组件",dashboard:"仪表板",chat:"AI",search:"搜索",profile:"我的"},j=[{href:"/",label:S.browseComponents,icon:s.A},{href:"/dashboard",label:S.dashboard,icon:i.A},{href:"/chat",label:S.chat,icon:c.A},{href:"/search",label:S.search,icon:u.A},{href:"/profile",label:S.profile,icon:d.A}],O=o.includes("/preview/")||o.includes("/app/"),_=[];if(l&&l.length>0)_=l;else try{{let e=localStorage.getItem("APPLICATION_CONFIG"),t=JSON.parse(e);if(e){var I,P,z;let e=Array.isArray(null==t||null==(z=t.config)||null==(P=z.clientManifest)||null==(I=P.app)?void 0:I.bottomNav)?t.config.clientManifest.app.bottomNav:[];e.length>0&&(_=e.filter(e=>(null==e?void 0:e.visible)!==!1).map(e=>{var t,l,a;return{href:e.route||"/",label:(null==(t=e.label)?void 0:t[w])||(null==(l=e.label)?void 0:l.zh)||(null==(a=e.label)?void 0:a.en)||e.id||"",iconName:e.icon||"grid"}}))}if(0===_.length){let e=localStorage.getItem("CURRENT_APP_NAV_ITEMS");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&(_=t.filter(e=>e&&!1!==e.visible).map(e=>{let t=e.route||e.href||"/";return"/me"===t&&(t="/profile"),{href:t,label:e.label||e.key||"",iconName:e.icon||e.iconName}}))}}}}catch(e){}if(0!==_.length||O||(_=j),0===_.length)return null;let B={home:h.A,user:d.A,profile:d.A,search:u.A,dashboard:i.A,grid:s.A,menu:s.A,chat:c.A,message:c.A,settings:p.A,bell:m.A,star:g.A,heart:v.A},E=localStorage.getItem("QUERY_STRING");return(0,a.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:(0,a.jsx)(f.AppCard,{className:"px-4 py-1",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3",children:[_.map(e=>{var t;let{href:l,icon:n,iconName:i,label:c}=e,u="/".concat(w).concat("/"===l?"":l).concat(E),d=o===u||"/"===l&&o==="/".concat(w),h=null!=(t=null!=n?n:i?B[i]:void 0)?t:s.A;return(0,a.jsx)(r(),{href:u,children:(0,a.jsxs)(y.$,{variant:"ghost",className:"rounded-2xl w-12 h-12 flex flex-col items-center justify-center transition-all duration-300 group",style:{backgroundColor:d?C:"transparent"},children:[(0,a.jsx)(h,{className:"w-6 h-6 transition-colors",style:{color:A.fontColor,opacity:d?1:.7}}),(0,a.jsx)("span",{className:"sr-only",children:c})]})},c)}),(0,a.jsx)("div",{className:"border-l border-gray-200/30 pl-2",children:(0,a.jsx)(x.y,{})})]})})})}},35677:(e,t,l)=>{"use strict";l.d(t,{P:()=>u,y:()=>d});var a=l(89835);l(55931);var n=l(92475),o=l(47694),r=l(39832),s=l(1828),i=l(7504),c=l(15496);function u(e){let{className:t="",variant:l="outline",size:u="sm",showLabel:d=!1}=e,{setPreset:h,current:p}=(0,o.LK)(),m=()=>{switch(p.current){case"small":return"小";case"normal":default:return"正常";case"large":return"大"}};return(0,a.jsxs)(n.$,{variant:l,size:u,onClick:()=>{h("normal"===p.current?"large":"large"===p.current?"small":"normal")},className:(0,c.cn)("flex items-center gap-2",t),title:"切换字体大小 (当前: ".concat(m(),")"),children:[(()=>{switch(p.current){case"small":return(0,a.jsx)(r.A,{className:"h-4 w-4"});case"normal":default:return(0,a.jsx)(s.A,{className:"h-4 w-4"});case"large":return(0,a.jsx)(i.A,{className:"h-4 w-4"})}})(),d&&(0,a.jsxs)("span",{className:"text-xs",children:[m()," (",Math.round(100*p.scale),"%)"]})]})}function d(e){let{className:t=""}=e,{setPreset:l,current:u}=(0,o.LK)();return(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{l("normal"===u.current?"large":"large"===u.current?"small":"normal")},className:(0,c.cn)("h-8 w-8 p-0",t),title:"字体大小：".concat(u.name," (").concat(Math.round(100*u.scale),"%)"),children:(()=>{switch(u.current){case"small":return(0,a.jsx)(r.A,{className:"h-4 w-4"});case"normal":default:return(0,a.jsx)(s.A,{className:"h-4 w-4"});case"large":return(0,a.jsx)(i.A,{className:"h-4 w-4"})}})()})}},35749:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(51894).A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},39832:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(51894).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},47694:(e,t,l)=>{"use strict";l.d(t,{Cv:()=>s,LK:()=>i});var a=l(55931),n=l(17131);let o={small:{scale:.8,name:"小"},normal:{scale:1,name:"正常"},large:{scale:1.2,name:"大"}},r={xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"};function s(){let{getToken:e,setToken:t}=(0,n.y)(),[l,s]=(0,a.useState)(()=>e("fontSizeConfig")||{preset:"normal",scale:1,sizes:r}),i=(0,a.useMemo)(()=>{let{scale:e}=l,t={};return Object.entries(r).forEach(l=>{let[a,n]=l,o=parseFloat(n),r=n.replace(/[\d.]/g,"");t[a]="".concat(o*e).concat(r)}),t},[l]),c=(0,a.useCallback)(e=>{if("undefined"!=typeof document){let t=document.documentElement;Object.entries(e).forEach(e=>{let[l,a]=e;t.style.setProperty("--font-size-".concat(l),a)}),console.log("Applied font sizes to DOM:",e)}},[]),u=(0,a.useCallback)(e=>{console.log("Setting font size preset:",e);let l=o[e].scale,a={};Object.entries(r).forEach(e=>{let[t,n]=e,o=parseFloat(n),r=n.replace(/[\d.]/g,""),s=o*l;a[t]="".concat(s).concat(r)});let n={preset:e,scale:l,sizes:a};s(n),t("fontSizeConfig",n),t("typography.fontSize",n.sizes),c(a),console.log("Font size preset changed:",{preset:e,scale:l,newSizes:a})},[t,c]),d=(0,a.useCallback)(e=>{let{scale:t}=l,a=r[e];if(!a)return r.base;let n=parseFloat(a),o=a.replace(/[\d.]/g,"");return"".concat(n*t).concat(o)},[l]),h=(0,a.useCallback)(()=>{let e=l.preset;return{...o[e],current:e}},[l.preset]),p=(0,a.useCallback)(()=>Object.entries(o).map(e=>{let[t,l]=e;return{key:t,...l}}),[]);return(0,a.useEffect)(()=>{c(i)},[]),{fontSizeConfig:l,currentPreset:h(),presetOptions:p(),fontSizes:i,getFontSize:d,setFontSizePreset:u,presets:o}}function i(){let{setFontSizePreset:e,currentPreset:t,presetOptions:l}=s();return{setPreset:e,current:t,options:l}}},91794:(e,t,l)=>{Promise.resolve().then(l.bind(l,14808))},92126:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(51894).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])}},e=>{e.O(0,[3739,8290,5022,8244,5123,3660,8607,4730,3419,7455,6396,3031,6037,3953,9770,721,7131,7020,9300,9900,7341,7358],()=>e(e.s=91794)),_N_E=e.O()}]);