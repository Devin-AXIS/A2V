(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5987],{40437:(a,e,t)=>{Promise.resolve().then(t.bind(t,67803))},44359:(a,e,t)=>{"use strict";t.d(e,{E:()=>i});var r=t(84215);let l={recruitment:{packageId:"recruitment-package",packageName:"招聘管理",packageCategory:"招聘",mainCard:{cardId:"job-position",displayName:"职位概览",component:null},subCards:[{cardId:"job-salary-overview",packageId:"recruitment-package-sub",displayName:"薪资概览",type:"chart",category:"data"},{cardId:"education-salary-requirements",packageId:"recruitment-package-sub",displayName:"学历收入要求",type:"list",category:"data"},{cardId:"job-experience-ratio",packageId:"recruitment-package-sub",displayName:"工作年限占比分析",type:"chart",category:"data"},{cardId:"job-prospect-trend",packageId:"recruitment-package-sub",displayName:"就业前景趋势",type:"chart",category:"data"},{cardId:"monthly-job-growth",packageId:"recruitment-package-sub",displayName:"月度职位增长",type:"chart",category:"data"},{cardId:"job-city-ranking",packageId:"recruitment-package-sub",displayName:"城市排名",type:"chart",category:"data"},{cardId:"company-ranking",packageId:"recruitment-package-sub",displayName:"公司排名",type:"chart",category:"data"},{cardId:"ability-requirements-radar",packageId:"recruitment-package-sub",displayName:"能力要求雷达图",type:"chart",category:"ability"},{cardId:"core-skills-mastery",packageId:"recruitment-package-sub",displayName:"核心技能掌握",type:"chart",category:"ability"},{cardId:"basic-ability-requirements",packageId:"recruitment-package-sub",displayName:"基础能力要求",type:"list",category:"ability"},{cardId:"education-background",packageId:"recruitment-package-sub",displayName:"教育背景分布",type:"chart",category:"ability"},{cardId:"related-jobs-list",packageId:"recruitment-package-sub",displayName:"相关岗位列表",type:"list",category:"related"},{cardId:"occupation-list",packageId:"recruitment-package-sub",displayName:"职业列表",type:"list",category:"related"},{cardId:"job-detail-intro",packageId:"recruitment-package-sub",displayName:"职位详情介绍",type:"display",category:"info"},{cardId:"job-posting",packageId:"recruitment-package-sub",displayName:"职位发布",type:"form",category:"action"},{cardId:"job-header",packageId:"recruitment-package-sub",displayName:"职位头部",type:"display"},{cardId:"job-requirements",packageId:"recruitment-package-sub",displayName:"职位要求",type:"display"},{cardId:"job-benefits",packageId:"recruitment-package-sub",displayName:"职位福利",type:"display"},{cardId:"company-info",packageId:"recruitment-package-sub",displayName:"公司信息",type:"display"},{cardId:"apply-resume",packageId:"recruitment-package-sub",displayName:"投递简历",type:"form"}],businessFlow:{description:"完整的招聘管理解决方案，从职位发布到人才分析的全流程支持",hasDetailPage:!0,hasModal:!0,actions:["publish","analyze","manage"],dataSource:"api"},detailPage:{enabled:!0,route:"/cards/[cardName]/detail/[id]"},modal:{enabled:!0},developer:{name:"HR Management System",version:"2.0.0",description:"集成化招聘管理卡片包，提供完整的人力资源解决方案"}},education:{packageId:"education-package",packageName:"教育管理",packageCategory:"教育",mainCard:{cardId:"instructor-courses-list",displayName:"导师课程列表",component:null,belongs:"edu"},subCards:[],businessFlow:{description:"教育管理解决方案，支持课程管理和学习跟踪",hasDetailPage:!0,hasModal:!1,actions:["manage","track"],dataSource:"api"},detailPage:{enabled:!0,route:"/cards/[cardName]/detail/[id]"},modal:{enabled:!1},developer:{name:"Education Management System",version:"2.0.0",description:"集成化教育管理卡片包，提供完整的教育解决方案"}}};class i{static registerPackage(a){this.packages.set(a.packageId,a),a.subCards.forEach(e=>{this.subCardToPackage.set(e.cardId,a.packageId)})}static getAllPackages(){return Array.from(this.packages.values())}static getMainCards(){return Array.from(this.packages.values()).map(a=>{var e,t;let l=r.U.get(a.mainCard.cardId);return{id:a.mainCard.cardId,name:a.packageName,category:a.packageCategory,component:(null==l?void 0:l.component)||a.mainCard.component,businessFlow:a.businessFlow,developer:a.developer,packageId:a.packageId,hasSubCards:a.subCards.length>0,hasDetailPage:(null==(e=a.detailPage)?void 0:e.enabled)||!1,hasModal:(null==(t=a.modal)?void 0:t.enabled)||!1}})}static getSubCardsByMainCard(a){let e=Array.from(this.packages.values()).find(e=>e.mainCard.cardId===a);return e?e.subCards.map(a=>{let e=r.U.get(a.cardId);return{packageId:a.packageId,id:a.cardId,name:a.displayName,component:(null==e?void 0:e.component)||null,type:a.type,category:a.category}}).filter(a=>null!==a.component):[]}static isMainCard(a){return Array.from(this.packages.values()).some(e=>e.mainCard.cardId===a)}static isSubCard(a){return this.subCardToPackage.has(a)}static getPackageBySubCard(a){let e=this.subCardToPackage.get(a);return e&&this.packages.get(e)||null}static getPackage(a){return this.packages.get(a)||null}static supportsDetailPage(a){var e;let t=this.getPackageByMainCard(a);return(null==t||null==(e=t.detailPage)?void 0:e.enabled)||!1}static supportsModal(a){var e;let t=this.getPackageByMainCard(a);return(null==t||null==(e=t.modal)?void 0:e.enabled)||!1}static getDetailPageRoute(a){var e;let t=this.getPackageByMainCard(a);return(null==t||null==(e=t.detailPage)?void 0:e.route)||null}static getPackageByMainCard(a){return Array.from(this.packages.values()).find(e=>e.mainCard.cardId===a)||null}static async initializePackages(){Object.values(l).forEach(a=>{let e=r.U.get(a.mainCard.cardId);e&&(a.mainCard.component=e.component),this.registerPackage(a)})}}i.packages=new Map,i.subCardToPackage=new Map,i.initializePackages()},67803:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>v});var r=t(89835),l=t(12680),i=t(55931),n=t(5455),c=t(15377),d=t(21197),o=t(10837),s=t(27728),u=t(54890),g=t(44359),p=t(84215),y=t(15496);let m=["bg-teal-300","bg-teal-400","bg-teal-500","bg-teal-600"],b=async(a,e,t,r,i)=>{let n,c,d,o,s,u,g,p,{data:y}=await l.L.get("/api/records/".concat(e,"/").concat(t)),b=JSON.parse(y[a]),h={"job-detail-intro":{标题:b.title,描述:b.description,平均月薪:b.salary.average,数据源:"来自全网10份数据",薪资分布:[]},"job-salary-overview":{标题:b.title,平均月薪:b.salary.average,排名:1,数据排名趋势图:[],职位类型标签:[]},"education-salary-requirements":{标题:"".concat(b.title,"职业学历收入情况"),描述:"".concat(b.title,"职业学历收入情况"),数据:[]},"job-experience-ratio":{标题:"".concat(b.title,"不同工作年限的薪资占比"),描述:"工作年限不同，".concat(b.title,"的薪资是否相同呢？以下是职位平均薪资与占比数据"),数据:[]},"job-city-ranking":{标题:"".concat(b.title,"工作城市排名"),描述:"".concat(b.title,"工作城市排名"),数据:[]},"related-jobs-list":[]};b.workOpportunities.distribution.forEach(a=>{h["job-detail-intro"]["薪资分布"].push({年份:"".concat(a.years,"年"),占比:a.percentage})}),r.reverse().forEach((a,e)=>{a.id===t&&(n=a,c=e)}),h["job-salary-overview"]["排名"]=c+1;let v={};for(let a in n)n[a]===b.title&&(v.title=a),n[a]===b.salary.average&&(v.salary=a);0===c?(d=n,u=1,o=r[r.length-1],g=r.length,s=r[Math.floor(r.length/2)],p=Math.floor(r.length/2)):c===r.length-1?(d=r[0],u=1,o=n,g=c,s=r[Math.floor(r.length/2)],p=Math.floor(r.length/2)):(d=r[0],u=1,o=r[r.length-1],g=r.length,s=n,p=c),h["job-salary-overview"]["数据排名趋势图"].push({职位名:o[v.title],排名:g}),h["job-salary-overview"]["数据排名趋势图"].push({职位名:s[v.title],排名:p}),h["job-salary-overview"]["数据排名趋势图"].push({职位名:d[v.title],排名:u});let f=k(b.cityRanking,b.experienceDistribution);f.forEach(a=>{a.color=m[Math.floor(Math.random()*m.length)],a["薪资范围"]=a.range,a["占比"]=a.percentage}),h["job-salary-overview"]["职位类型标签"].push(...f);let I=0;b.educationDistribution.forEach(a=>I+=a.salary),b.educationDistribution.forEach(a=>{h["education-salary-requirements"]["数据"].push({标签:a.education,值:a.salary,占比:Math.floor(a.salary/I*100)})});let j=0;b.experienceDistribution.forEach(a=>j+=a.salary),b.experienceDistribution.forEach(a=>{h["job-experience-ratio"]["数据"].push({工作年限:"".concat(a.years,"年"),薪资:a.salary,占比:Math.floor(a.salary/j*100)})});let N=0;return b.cityRanking.forEach(a=>N+=a.avgSalary),b.cityRanking.forEach(a=>{h["job-city-ranking"]["数据"].push({标签:a.city,值:a.avgSalary,占比:Math.floor(a.avgSalary/N*100)})}),b.similarJobs.forEach(a=>{r.find(e=>e[i]===a.title),h["related-jobs-list"].push({标题:a.title,平均薪资:a.averageSalary,工作地点:a.location,教育:a.education,经验:a.experience,职位类型:a.title})}),h},h={"job-detail-intro":a=>{let e={};return a?(e.title=a["标题"],e.description=a["描述"],e.avgMonthlySalary=a["平均月薪"],e.dataSource=a["数据源"],a["薪资分布"]&&a["薪资分布"].length&&(e.salaryDistribution=[],a["薪资分布"].forEach(a=>{e.salaryDistribution.push({name:a["年份"],value:Number(a["占比"]),color:(0,y.S)()})})),e):null},"job-salary-overview":a=>{let e={};return a?(a["数据排名趋势图"]&&a["数据排名趋势图"].length&&(e.rankingData=[],a["数据排名趋势图"].forEach(a=>{e.rankingData.push({name:a["职位名"],rank:Number(a["排名"]),color:(0,y.S)()})})),a["职位类型标签"]&&a["职位类型标签"].length&&(e.salaryDistribution=[],a["职位类型标签"].forEach(a=>{e.salaryDistribution.push({range:a["薪资范围"],percentage:Number(a["占比"]),color:(0,y.S)()})})),e.title=a["标题"],e.avgSalary=a["平均月薪"],e.ranking=a["排名"],e):null},"education-salary-requirements":a=>{let e={};return a?(e.title=a["标题"],e.description=a["描述"],a["数据"]&&a["数据"].length&&(e.data=[],a["数据"].forEach(a=>{e.data.push({label:a["标签"],value:a["值"],percentage:a["占比"],color:(0,y.S)()})})),e):null},"job-experience-ratio":a=>{let e={};return a?(e.title=a["标题"],e.description=a["描述"],a["数据"]&&a["数据"].length&&(e.data=[],a["数据"].forEach(a=>{e.data.push({jobs:a["薪资"],name:a["工作年限"],value:a["占比"],color:(0,y.S)()})})),e):null},"job-city-ranking":a=>{let e={};return a?(e.title=a["标题"],e.description=a["描述"],a["数据"]&&a["数据"].length&&(e.data=[],a["数据"].forEach(a=>{e.data.push({label:a["标签"],value:a["值"],percentage:a["占比"],color:(0,y.S)()})})),e):null},"related-jobs-list":a=>{let e=[];return a&&a.length?(a.forEach(a=>{e.push({title:a["标题"],avgSalary:a["平均薪资"],location:a["工作地点"],education:a["教育"],experience:a["经验"],jobType:a["职位类型"]})}),e):null},"ability-requirements-radar":a=>{let e={};return a?(e.title=a["标题"],a["数据"]&&a["数据"].length&&(e.chartData=[],a["数据"].forEach(a=>{let t=a.texts.concat(a.numbers.concat(a.images)),r={};t.forEach(a=>{r[a.label]=a.value}),e.chartData.push({subject:r["主题"],value:r["值"],fullMark:r["满分"]})})),e):null}},k=a=>{if(!a||0===a.length)return[];let e=a.map(a=>a.avgSalary).sort((a,e)=>a-e),t=e[0],r=e[e.length-1];if(t===r)return[{range:"".concat(t,"k"),percentage:100}];let l=t+(r-t)/3,i=t+(r-t)*2/3,n=[{min:t,max:l,label:"".concat(Math.round(t/1e3),"k-").concat(Math.round(l/1e3),"k")},{min:l,max:i,label:"".concat(Math.round(l/1e3),"k-").concat(Math.round(i/1e3),"k")},{min:i,max:r,label:"".concat(Math.round(i/1e3),"k-").concat(Math.round(r/1e3),"k")}].map(e=>{let t=a.filter(a=>{let t=a.avgSalary;return t>=e.min&&t<e.max}).length;return{range:e.label,count:t}}),c=a.length;return n.map(a=>({range:a.range,percentage:c>0?Math.round(a.count/c*100):0}))};function v(a){var e;let{params:t}=a,{locale:y,cardName:m,id:k}=(0,i.use)(t),[v,f]=(0,i.useState)("职业数据"),[I,j]=(0,i.useState)([]),[N,C]=(0,i.useState)({}),[M,S]=(0,i.useState)(null),[x,E]=(0,i.useState)([]),w=new URLSearchParams(window.location.search),P=w.get("jobType"),D=async()=>{let a=await l.L.get("/api/directories/".concat(k)),{data:e}=await l.L.get("/api/directories?moduleId=".concat(a.data.moduleId)),t=e.directories.find(a=>{var e;return(null==(e=a.config)?void 0:e.moduleKey)==="recSub-related-jobs-list"});if(t){var r,i,n,c,d,o,s,u,g,p,y,m,b,h,v,f,I,N;let{data:a}=await l.L.get("/api/records/".concat(t.id,"?limit=100")),e=null==(i=t.config)||null==(r=i.fields)?void 0:r.find(a=>"标题"===a.label),k=null==(c=t.config)||null==(n=c.fields)?void 0:n.find(a=>"教育"===a.label),j=null==(o=t.config)||null==(d=o.fields)?void 0:d.find(a=>"经验"===a.label),C=null==(u=t.config)||null==(s=u.fields)?void 0:s.find(a=>"链接"===a.label),M=null==(p=t.config)||null==(g=p.fields)?void 0:g.find(a=>"工作地点"===a.label),S=null==(m=t.config)||null==(y=m.fields)?void 0:y.find(a=>"职位类型"===a.label),x=null==(h=t.config)||null==(b=h.fields)?void 0:b.find(a=>"薪资"===a.label),w=null==(f=t.config)||null==(v=f.fields)?void 0:v.find(a=>"公司名"===a.label),P=null==(N=t.config)||null==(I=N.fields)?void 0:I.find(a=>"公司规模"===a.label),D=[];a.forEach(a=>{D.push({title:a[null==e?void 0:e.key],edu:"未指定"===a[null==k?void 0:k.key]?"不限":a[null==k?void 0:k.key],exp:"未指定"===a[null==j?void 0:j.key]?"不限":a[null==j?void 0:j.key],href:a[null==C?void 0:C.key]||"",local:"未指定"===a[null==M?void 0:M.key]?"全国":a[null==M?void 0:M.key],type:"未指定"===a[null==S?void 0:S.key]?"其它":a[null==S?void 0:S.key],salary:"未指定"===a[null==x?void 0:x.key]?"面谈":a[null==x?void 0:x.key],company:"未指定"===a[null==w?void 0:w.key]||"不限"===a[null==w?void 0:w.key]?"未知":a[null==w?void 0:w.key],companySize:"未指定"===a[null==P?void 0:P.key]||"不限"===a[null==P?void 0:P.key]?"未知":a[null==P?void 0:P.key]})}),E(D)}j(e.directories),S(a.data)},B=async a=>{var e,t,r,i;if(!a||!a.length)return;let n=w.get("rid"),c=null==M||null==(t=M.config)||null==(e=t.fields)?void 0:e.find(a=>"内页卡片数据"===a.label),d=null==M||null==(i=M.config)||null==(r=i.fields)?void 0:r.find(a=>"标题"===a.label),{data:o}=await l.L.get("/api/records/".concat(k,"?limit=100"));C(await b(null==c?void 0:c.key,k,n,o,null==d?void 0:d.key))},[A,q]=(0,i.useState)(!1),{actions:T}=(0,d.Y)({title:"人工智能训练师",customActions:[{label:"测试匹配度",onClick:()=>{q(!0),setTimeout(()=>{q(!1),alert("AI匹配度分析完成！匹配度：85%")},2e3)},icon:(0,r.jsx)(c.A,{className:"w-4 h-4"}),variant:"primary",loading:A}]});g.E.getPackageByMainCard(m);let F=g.E.getSubCardsByMainCard(m);(0,i.useEffect)(()=>{D()},[k]),(0,i.useEffect)(()=>{B(I)},[I]);let L=null==(e=p.U.get("job-detail-intro"))?void 0:e.component,R=h["job-detail-intro"](N["job-detail-intro"]);return(0,r.jsxs)("div",{className:"min-h-screen pb-24",children:[(0,r.jsx)(s.DynamicBackground,{}),(0,r.jsx)(u.AppHeader,{title:"职位详情",showBackButton:!0}),(0,r.jsxs)("div",{className:"pt-16 p-4 space-y-6",children:[L&&(0,r.jsx)(L,{insideData:R,className:"p-6",data:{id:k}}),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)(o.K,{tabs:["职业数据","具备能力","相关岗位"],activeTab:v,onTabChange:f,className:"justify-start"})}),(()=>{switch(v){case"职业数据":return(0,r.jsx)(r.Fragment,{children:F.filter(a=>"data"===a.category).map(a=>{let e=a.component,t=null;return N[a.id]&&h[a.id]&&(t=h[a.id](N[a.id])),e?(0,r.jsx)(e,{insideData:t,data:{id:k}},a.id):null})});case"具备能力":return(0,r.jsx)(r.Fragment,{children:F.filter(a=>"ability"===a.category).map(a=>{let e=a.component,t=null;return N[a.id]&&h[a.id]&&(t=h[a.id](N[a.id])),e?(0,r.jsx)(e,{insideData:t,data:{id:k}},a.id):null})});case"相关岗位":return(0,r.jsx)(r.Fragment,{children:F.filter(a=>"related"===a.category).map(a=>{if("related-jobs-list"!==a.id)return null;let e=a.component,t=x.filter(a=>a.type===P);return e?(0,r.jsx)(e,{insideData:t,isRelatedJobsList:!0,data:{id:k}},a.id):null})});default:return null}})()]}),(0,r.jsx)(n.q,{actions:T,position:"center"})]})}}},a=>{a.O(0,[6416,8290,5022,6497,7455,69,7938,1390,5897,6037,413,7746,7324,721,8922,9900,7341,7358],()=>a(a.s=40437)),_N_E=a.O()}]);