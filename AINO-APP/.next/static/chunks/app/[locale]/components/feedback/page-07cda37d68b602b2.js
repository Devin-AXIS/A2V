(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4760],{3976:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,q:()=>o});var n=r(89835),a=r(55931);let s=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({isFrosted:r,setIsFrosted:o}),[r]);return(0,n.jsx)(s.Provider,{value:l,children:t})}function l(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useFrostedEffect must be used within a FrostedEffectProvider");return e}},15496:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,cn:()=>s});var n=r(98951),a=r(45318);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}function o(){let e=Math.floor(0xffffff*Math.random()).toString(16).padStart(6,"0");return"#".concat(e)}},18959:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(51894).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},35281:(e,t,r)=>{"use strict";function n(e){let t=e.replace(/\s/g,"");if(t.startsWith("#")){let e=t.replace("#",""),r=3===e.length?e.split("").map(e=>e+e).join(""):e;if(6!==r.length)return null;let n=parseInt(r.substring(0,2),16);return{r:n,g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16)}}let r=t.match(/rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)/);if(r)return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)};let n=t.match(/hsla?\((\d+),(\d+)%,(\d+)%(?:,([\d.]+))?\)/);if(n){let e=parseInt(n[1],10);return function(e,t,r){let n=(1-Math.abs(2*r-1))*t,a=n*(1-Math.abs(e/60%2-1)),s=r-n/2,o=0,l=0,i=0;return 0<=e&&e<60?(o=n,l=a,i=0):60<=e&&e<120?(o=a,l=n,i=0):120<=e&&e<180?(o=0,l=n,i=a):180<=e&&e<240?(o=0,l=a,i=n):240<=e&&e<300?(o=a,l=0,i=n):300<=e&&e<360&&(o=n,l=0,i=a),{r:Math.round((o+s)*255),g:Math.round((l+s)*255),b:Math.round((i+s)*255)}}(e,parseInt(n[2],10)/100,parseInt(n[3],10)/100)}return t.includes("var(")&&console.warn("CSS变量颜色需要从DOM获取实际值:",t),null}function a(e,t,r){let n=e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},a=n(e);return .2126*a+.7152*n(t)+.0722*n(r)}function s(e,t){let r=a(e.r,e.g,e.b),n=a(t.r,t.g,t.b);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!=typeof e)return console.warn("getOptimalTextColor: backgroundColor must be a string, got:",typeof e,e),"primary"===t?"#FFFFFF":"#000000";if("primary"===t)return"#FFFFFF";if("outline"===t||"ghost"===t)return"currentColor";let r=null;return(e.includes("var(")&&(r=function(e){let t=e.match(/var\(([^)]+)\)/);if(!t)return null;let r=function(e){try{return getComputedStyle(document.documentElement).getPropertyValue(e).trim()||null}catch(t){return console.warn("Failed to get CSS variable value:",e,t),null}}(t[1]);return r?n(r):null}(e)),r||(r=n(e)),r)?(a(r.r,r.g,r.b),s(r,{r:255,g:255,b:255})>s(r,{r:0,g:0,b:0})?"#FFFFFF":"#000000"):(console.warn("无法解析背景颜色，使用默认文字颜色:",e),"secondary"===t?"#000000":"#FFFFFF")}function l(e,t,r){return{backgroundColor:t,color:function(e,t,r){if(r)return r;if(!t)switch(e){case"primary":default:return"#FFFFFF";case"secondary":return"#000000";case"outline":case"ghost":return"currentColor"}return o(t,e)}(e,t,r)}}r.d(t,{RP:()=>o,fk:()=>l})},39292:(e,t,r)=>{Promise.resolve().then(r.bind(r,67722)),Promise.resolve().then(r.bind(r,54890))},41657:(e,t,r)=>{"use strict";r.d(t,{b:()=>i,t:()=>l});var n=r(89835),a=r(55931),s=r(60088);let o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(s.u[0].config);(0,a.useEffect)(()=>{try{{let e=localStorage.getItem("card_theme_global");e&&l(JSON.parse(e))}}catch(e){}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem("card_theme_global",JSON.stringify(r))}catch(e){}},[r]);let i=(0,a.useCallback)(e=>{l(e)},[]),c=(0,a.useMemo)(()=>({theme:r,setTheme:l,applyPreset:i}),[r,i]);return(0,n.jsx)(o.Provider,{value:c,children:t})}function i(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useCardTheme must be used within a CardThemeProvider");return e}},51894:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(55931);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...f}=e;return(0,n.createElement)("svg",{ref:t,...s,width:o,height:o,stroke:r,strokeWidth:i?24*Number(l)/Number(o):l,className:a("lucide",c),...f},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:l,...i}=r;return(0,n.createElement)(o,{ref:s,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...i})});return r.displayName="".concat(e),r}},54890:(e,t,r)=>{"use strict";r.d(t,{AppHeader:()=>c});var n=r(89835),a=r(55931),s=r(15496),o=r(76539),l=r(18959),i=r(79588);function c(e){let{title:t,showBackButton:r=!1,className:c}=e,[u,d]=(0,a.useState)(!1),f=(0,i.useRouter)();return(0,a.useEffect)(()=>{let e=()=>{d(window.scrollY>10)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,n.jsxs)("header",{className:(0,s.cn)("fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-3 h-14 transition-all duration-300",{"bg-white/80 backdrop-blur-lg shadow-sm":u,"bg-transparent shadow-none":!u},c),children:[(0,n.jsx)("div",{className:"flex-1",children:r&&(0,n.jsx)("button",{onClick:()=>f.back(),className:"p-2 rounded-full hover:bg-gray-100/50",children:(0,n.jsx)(o.A,{className:"w-6 h-6 text-gray-800"})})}),(0,n.jsx)("div",{className:"flex-1 text-center",children:(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap inline-block",children:t})}),(0,n.jsx)("div",{className:"flex-1 flex justify-end items-center space-x-1",children:(0,n.jsx)("button",{className:(0,s.cn)("p-2 rounded-full hover:bg-gray-100/50 transition-opacity duration-300",{"opacity-100":u,"opacity-0 pointer-events-none":!u}),children:(0,n.jsx)(l.A,{className:"w-6 h-6 text-gray-800"})})})]})}},59770:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>i,RW:()=>c,tq:()=>u});var n=r(89835),a=r(55931);let s=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],o=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],l=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(s[0].name),[c,u]=(0,a.useState)(o[0].name),[d,f]=(0,a.useState)([]),[m,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=e=>{f(e.detail)},t=e=>{h(e.detail)};return window.addEventListener("unified-theme-chart-colors-updated",e),window.addEventListener("unified-theme-component-colors-updated",t),()=>{window.removeEventListener("unified-theme-chart-colors-updated",e),window.removeEventListener("unified-theme-component-colors-updated",t)}},[]);let b=e=>{i(e)},g=e=>{o.find(t=>t.name===e)&&u(e)},p=(0,a.useMemo)(()=>{if(m)return[m.primary,m.secondary,m.danger,...s[0].colors.slice(3)];let e=s.find(e=>e.name===r);return e?e.colors:s[0].colors},[r,m]),x=(0,a.useMemo)(()=>{if(d.length>0)return d;let e=o.find(e=>e.name===c);return e?e.colors:o[0].colors},[c,d]),v=(0,a.useMemo)(()=>({chartPalette:p,activeChartPaletteName:r,applyChartPalette:b,dataChartPalette:x,activeDataChartPaletteName:c,applyDataChartPalette:g}),[p,r,x,c]);return(0,n.jsx)(l.Provider,{value:v,children:t})}function c(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.chartPalette,activePaletteName:e.activeChartPaletteName,applyPalette:e.applyChartPalette}}function u(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useDataChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.dataChartPalette,activePaletteName:e.activeDataChartPaletteName,applyPalette:e.applyDataChartPalette}}},60088:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});let n=[{name:"默认",config:{background:"#ffffff",backgroundStyle:"frosted",fontColor:"#4b5563",fontFamily:"system-ui, sans-serif"}},{name:"深色",config:{background:"#111827",backgroundStyle:"frosted",fontColor:"#d1d5db",fontFamily:"system-ui, sans-serif"}},{name:"经典",config:{background:"#f5f5f4",backgroundStyle:"solid",fontColor:"#57534e",fontFamily:"Georgia, serif"}},{name:"透明",config:{background:"#ffffff",backgroundStyle:"none",fontColor:"#4b5563",fontFamily:"system-ui, sans-serif"}}]},60267:(e,t,r)=>{"use strict";r.d(t,{K:()=>c});var n=r(89835),a=r(55931),s=r(15496),o=r(59770),l=r(3976),i=r(35281);function c(e){let{className:t,variant:r="default",...c}=e,{palette:u}=(0,o.RW)(),{isFrosted:d}=(0,l.Z)(),f=u[0]||"hsl(var(--primary))",m=(0,a.useMemo)(()=>(0,i.RP)(f,"primary"),[f]),h="px-5 py-2 text-sm font-semibold rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",b=d?"backdrop-blur-sm border border-white/40 shadow-lg":"shadow-md";return"primary"===r?(0,n.jsx)("button",{className:(0,s.cn)(h,b,"focus:ring-2",t),style:{backgroundColor:d?"".concat(f,"B3"):f,color:m,"--tw-ring-color":f},...c}):(0,n.jsx)("button",{className:(0,s.cn)(h,b,d?"bg-white/60 text-gray-900":"bg-white text-black hover:bg-gray-50","focus:ring-gray-400",t),...c})}},67722:(e,t,r)=>{"use strict";r.d(t,{FeedbackClientView:()=>l});var n=r(89835),a=r(77860),s=r(60267),o=r(55931);function l(){let[e,t]=(0,o.useState)(!1);return(0,n.jsx)("div",{className:"space-y-8 p-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"底部抽屉 Bottom Drawer"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"通用的底部抽屉组件，从底部滑出占据屏幕一半高度，支持主题配置和最高层级显示。"}),(0,n.jsx)(s.K,{onClick:()=>t(!0),children:"打开底部抽屉"}),(0,n.jsx)(a.J,{isOpen:e,onClose:()=>t(!1),title:"示例抽屉",children:(0,n.jsxs)("div",{className:"p-4 space-y-4",children:[(0,n.jsx)("p",{children:"这是一个通用的底部抽屉组件示例。"}),(0,n.jsx)("p",{children:"它会从底部滑出，占据屏幕的一半高度。"}),(0,n.jsx)("p",{children:"背景颜色会跟随卡片主题配置，并且永远显示在最上层。"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 1"}),(0,n.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 2"}),(0,n.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 3"})]})]})})]})})}},68232:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(51894).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},76539:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(51894).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},77860:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(89835),a=r(55931),s=r(68232),o=r(15496),l=r(41657),i=r(93914);function c(e){let{isOpen:t,onClose:r,title:c,children:u,className:d}=e,{theme:f}=(0,l.b)();if(a.useEffect(()=>{let e=e=>{"Escape"===e.key&&t&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r]),!t)return null;let m={color:f.textColor,fontFamily:f.fontFamily,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px) saturate(120%)",WebkitBackdropFilter:"blur(12px) saturate(120%)",border:"none",boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -2px 8px rgba(0, 0, 0, 0.08)"},h=(0,n.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/40 animate-in fade-in-0 duration-300",style:{backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)"},onClick:r}),(0,n.jsx)("div",{className:"absolute inset-x-0 bottom-0 z-10",children:(0,n.jsxs)("div",{className:(0,o.cn)("w-full max-h-[85vh] rounded-t-3xl animate-in slide-in-from-bottom-full duration-300 ease-out",d),style:m,children:[c&&(0,n.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-100/60",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c}),(0,n.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100/80 rounded-full transition-colors duration-200","aria-label":"关闭",children:(0,n.jsx)(s.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,n.jsx)("div",{className:"overflow-y-auto",style:{height:c?"calc(85vh - 80px)":"85vh",maxHeight:c?"calc(85vh - 80px)":"85vh",scrollbarGutter:"stable",scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.2) transparent"},children:u})]})})]});return(0,i.createPortal)(h,document.body)}},79588:(e,t,r)=>{"use strict";var n=r(95604);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}},e=>{e.O(0,[6416,9900,7341,7358],()=>e(e.s=39292)),_N_E=e.O()}]);