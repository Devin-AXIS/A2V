(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4760],{3976:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,q:()=>o});var a=r(89835),n=r(55931);let s=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,n.useState)(!1),l=(0,n.useMemo)(()=>({isFrosted:r,setIsFrosted:o}),[r]);return(0,a.jsx)(s.Provider,{value:l,children:t})}function l(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useFrostedEffect must be used within a FrostedEffectProvider");return e}},11012:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>f,_2:()=>m,lp:()=>p,mB:()=>h,rI:()=>c,ty:()=>u});var a=r(89835),n=r(55931),s=r(13353),o=r(40612),l=r(77908),i=r(73388),d=r(15496);let c=s.bL,u=s.l9;s.YJ,s.ZL,s.Pb,s.z6,n.forwardRef((e,t)=>{let{className:r,inset:n,children:l,...i}=e;return(0,a.jsxs)(s.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",r),...i,children:[l,(0,a.jsx)(o.A,{className:"ml-auto"})]})}).displayName=s.ZP.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})}).displayName=s.G5.displayName;let f=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...o}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsx)(s.UC,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});f.displayName=s.UC.displayName;let m=n.forwardRef((e,t)=>{let{className:r,inset:n,...o}=e;return(0,a.jsx)(s.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",r),...o})});m.displayName=s.q7.displayName,n.forwardRef((e,t)=>{let{className:r,children:n,checked:o,...i}=e;return(0,a.jsxs)(s.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:o,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),n]})}).displayName=s.H_.displayName,n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(s.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=s.hN.displayName;let p=n.forwardRef((e,t)=>{let{className:r,inset:n,...o}=e;return(0,a.jsx)(s.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r),...o})});p.displayName=s.JU.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...n})});h.displayName=s.wv.displayName},15496:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,cn:()=>s});var a=r(98951),n=r(45318);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function o(){let e=Math.floor(0xffffff*Math.random()).toString(16).padStart(6,"0");return"#".concat(e)}},18959:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51894).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},35281:(e,t,r)=>{"use strict";function a(e){let t=e.replace(/\s/g,"");if(t.startsWith("#")){let e=t.replace("#",""),r=3===e.length?e.split("").map(e=>e+e).join(""):e;if(6!==r.length)return null;let a=parseInt(r.substring(0,2),16);return{r:a,g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16)}}let r=t.match(/rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)/);if(r)return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)};let a=t.match(/hsla?\((\d+),(\d+)%,(\d+)%(?:,([\d.]+))?\)/);if(a){let e=parseInt(a[1],10);return function(e,t,r){let a=(1-Math.abs(2*r-1))*t,n=a*(1-Math.abs(e/60%2-1)),s=r-a/2,o=0,l=0,i=0;return 0<=e&&e<60?(o=a,l=n,i=0):60<=e&&e<120?(o=n,l=a,i=0):120<=e&&e<180?(o=0,l=a,i=n):180<=e&&e<240?(o=0,l=n,i=a):240<=e&&e<300?(o=n,l=0,i=a):300<=e&&e<360&&(o=a,l=0,i=n),{r:Math.round((o+s)*255),g:Math.round((l+s)*255),b:Math.round((i+s)*255)}}(e,parseInt(a[2],10)/100,parseInt(a[3],10)/100)}return t.includes("var(")&&console.warn("CSS变量颜色需要从DOM获取实际值:",t),null}function n(e,t,r){let a=e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},n=a(e);return .2126*n+.7152*a(t)+.0722*a(r)}function s(e,t){let r=n(e.r,e.g,e.b),a=n(t.r,t.g,t.b);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!=typeof e)return console.warn("getOptimalTextColor: backgroundColor must be a string, got:",typeof e,e),"primary"===t?"#FFFFFF":"#000000";if("primary"===t)return"#FFFFFF";if("outline"===t||"ghost"===t)return"currentColor";let r=null;return(e.includes("var(")&&(r=function(e){let t=e.match(/var\(([^)]+)\)/);if(!t)return null;let r=function(e){try{return getComputedStyle(document.documentElement).getPropertyValue(e).trim()||null}catch(t){return console.warn("Failed to get CSS variable value:",e,t),null}}(t[1]);return r?a(r):null}(e)),r||(r=a(e)),r)?(n(r.r,r.g,r.b),s(r,{r:255,g:255,b:255})>s(r,{r:0,g:0,b:0})?"#FFFFFF":"#000000"):(console.warn("无法解析背景颜色，使用默认文字颜色:",e),"secondary"===t?"#000000":"#FFFFFF")}function l(e,t,r){return{backgroundColor:t,color:function(e,t,r){if(r)return r;if(!t)switch(e){case"primary":default:return"#FFFFFF";case"secondary":return"#000000";case"outline":case"ghost":return"currentColor"}return o(t,e)}(e,t,r)}}r.d(t,{RP:()=>o,fk:()=>l})},41657:(e,t,r)=>{"use strict";r.d(t,{b:()=>i,t:()=>l});var a=r(89835),n=r(55931),s=r(60088);let o=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(s.u[0].config);(0,n.useEffect)(()=>{try{{let e=localStorage.getItem("card_theme_global");e&&l(JSON.parse(e))}}catch(e){}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("card_theme_global",JSON.stringify(r))}catch(e){}},[r]);let i=(0,n.useCallback)(e=>{l(e)},[]),d=(0,n.useMemo)(()=>({theme:r,setTheme:l,applyPreset:i}),[r,i]);return(0,a.jsx)(o.Provider,{value:d,children:t})}function i(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useCardTheme must be used within a CardThemeProvider");return e}},51172:(e,t,r)=>{Promise.resolve().then(r.bind(r,67722)),Promise.resolve().then(r.bind(r,54890))},54890:(e,t,r)=>{"use strict";r.d(t,{AppHeader:()=>c});var a=r(89835),n=r(55931),s=r(15496),o=r(76539),l=r(18959),i=r(79588),d=r(83953);function c(e){let{title:t,showBackButton:r=!1,className:c}=e,[u,f]=(0,n.useState)(!1),m=(0,i.useRouter)();return(0,n.useEffect)(()=>{let e=()=>{f(window.scrollY>10)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,a.jsxs)("header",{className:(0,s.cn)("fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-3 h-14 transition-all duration-300",{"bg-white/80 backdrop-blur-lg shadow-sm":u,"bg-transparent shadow-none":!u},c),children:[(0,a.jsx)("div",{className:"flex-1",children:r&&(0,a.jsx)("button",{onClick:()=>m.back(),className:"p-2 rounded-full hover:bg-gray-100/50",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-gray-800"})})}),(0,a.jsx)("div",{className:"flex-1 text-center",children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap inline-block",children:t})}),(0,a.jsxs)("div",{className:"flex-1 flex justify-end items-center space-x-1",children:[(0,a.jsx)(d.I,{size:"sm",showDropdown:!0}),(0,a.jsx)("button",{className:(0,s.cn)("p-2 rounded-full hover:bg-gray-100/50 transition-opacity duration-300",{"opacity-100":u,"opacity-0 pointer-events-none":!u}),children:(0,a.jsx)(l.A,{className:"w-6 h-6 text-gray-800"})})]})]})}},59770:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>i,RW:()=>d,tq:()=>c});var a=r(89835),n=r(55931);let s=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],o=[{name:"默认",colors:["#6366f1","#8b5cf6","#f59e0b","#22c55e","#ef4444","#64748b"]}],l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,n.useState)(s[0].name),[d,c]=(0,n.useState)(o[0].name),[u,f]=(0,n.useState)([]),[m,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=e=>{f(e.detail)},t=e=>{p(e.detail)};return window.addEventListener("unified-theme-chart-colors-updated",e),window.addEventListener("unified-theme-component-colors-updated",t),()=>{window.removeEventListener("unified-theme-chart-colors-updated",e),window.removeEventListener("unified-theme-component-colors-updated",t)}},[]);let h=e=>{i(e)},b=e=>{o.find(t=>t.name===e)&&c(e)},g=(0,n.useMemo)(()=>{if(m)return[m.primary,m.secondary,m.danger,...s[0].colors.slice(3)];let e=s.find(e=>e.name===r);return e?e.colors:s[0].colors},[r,m]),x=(0,n.useMemo)(()=>{if(u.length>0)return u;let e=o.find(e=>e.name===d);return e?e.colors:o[0].colors},[d,u]),v=(0,n.useMemo)(()=>({chartPalette:g,activeChartPaletteName:r,applyChartPalette:h,dataChartPalette:x,activeDataChartPaletteName:d,applyDataChartPalette:b}),[g,r,x,d]);return(0,a.jsx)(l.Provider,{value:v,children:t})}function d(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.chartPalette,activePaletteName:e.activeChartPaletteName,applyPalette:e.applyChartPalette}}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useDataChartTheme must be used within a UnifiedChartThemeProvider");return{palette:e.dataChartPalette,activePaletteName:e.activeDataChartPaletteName,applyPalette:e.applyDataChartPalette}}},60088:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});let a=[{name:"默认",config:{background:"#ffffff",backgroundStyle:"frosted",fontColor:"#4b5563",fontFamily:"system-ui, sans-serif"}},{name:"深色",config:{background:"#111827",backgroundStyle:"frosted",fontColor:"#d1d5db",fontFamily:"system-ui, sans-serif"}},{name:"经典",config:{background:"#f5f5f4",backgroundStyle:"solid",fontColor:"#57534e",fontFamily:"Georgia, serif"}},{name:"透明",config:{background:"#ffffff",backgroundStyle:"none",fontColor:"#4b5563",fontFamily:"system-ui, sans-serif"}}]},60267:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var a=r(89835),n=r(55931),s=r(15496),o=r(59770),l=r(3976),i=r(35281);function d(e){let{className:t,variant:r="default",...d}=e,{palette:c}=(0,o.RW)(),{isFrosted:u}=(0,l.Z)(),f=c[0]||"hsl(var(--primary))",m=(0,n.useMemo)(()=>(0,i.RP)(f,"primary"),[f]),p="px-5 py-2 text-sm font-semibold rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",h=u?"backdrop-blur-sm border border-white/40 shadow-lg":"shadow-md";return"primary"===r?(0,a.jsx)("button",{className:(0,s.cn)(p,h,"focus:ring-2",t),style:{backgroundColor:u?"".concat(f,"B3"):f,color:m,"--tw-ring-color":f},...d}):(0,a.jsx)("button",{className:(0,s.cn)(p,h,u?"bg-white/60 text-gray-900":"bg-white text-black hover:bg-gray-50","focus:ring-gray-400",t),...d})}},67722:(e,t,r)=>{"use strict";r.d(t,{FeedbackClientView:()=>l});var a=r(89835),n=r(77860),s=r(60267),o=r(55931);function l(){let[e,t]=(0,o.useState)(!1);return(0,a.jsx)("div",{className:"space-y-8 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"底部抽屉 Bottom Drawer"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"通用的底部抽屉组件，从底部滑出占据屏幕一半高度，支持主题配置和最高层级显示。"}),(0,a.jsx)(s.K,{onClick:()=>t(!0),children:"打开底部抽屉"}),(0,a.jsx)(n.J,{isOpen:e,onClose:()=>t(!1),title:"示例抽屉",children:(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("p",{children:"这是一个通用的底部抽屉组件示例。"}),(0,a.jsx)("p",{children:"它会从底部滑出，占据屏幕的一半高度。"}),(0,a.jsx)("p",{children:"背景颜色会跟随卡片主题配置，并且永远显示在最上层。"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 1"}),(0,a.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 2"}),(0,a.jsx)("div",{className:"h-20 bg-muted rounded-lg flex items-center justify-center",children:"示例内容区域 3"})]})]})})]})})}},68232:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51894).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},76539:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51894).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},77860:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(89835),n=r(55931),s=r(68232),o=r(15496),l=r(41657),i=r(93914);function d(e){let{isOpen:t,onClose:r,title:d,children:c,className:u}=e,{theme:f}=(0,l.b)();if(n.useEffect(()=>{let e=e=>{"Escape"===e.key&&t&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r]),!t)return null;let m={color:f.textColor,fontFamily:f.fontFamily,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px) saturate(120%)",WebkitBackdropFilter:"blur(12px) saturate(120%)",border:"none",boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -2px 8px rgba(0, 0, 0, 0.08)"},p=(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 animate-in fade-in-0 duration-300",style:{backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)"},onClick:r}),(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 z-10",children:(0,a.jsxs)("div",{className:(0,o.cn)("w-full max-h-[85vh] rounded-t-3xl animate-in slide-in-from-bottom-full duration-300 ease-out",u),style:m,children:[d&&(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-100/60",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d}),(0,a.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100/80 rounded-full transition-colors duration-200","aria-label":"关闭",children:(0,a.jsx)(s.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,a.jsx)("div",{className:"overflow-y-auto",style:{height:d?"calc(85vh - 80px)":"85vh",maxHeight:d?"calc(85vh - 80px)":"85vh",scrollbarGutter:"stable",scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.2) transparent"},children:c})]})})]});return(0,i.createPortal)(p,document.body)}},92475:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(89835),n=r(55931),s=r(48454),o=r(7951),l=r(15496);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 rounded-lg",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:n,size:o,className:r})),ref:t,...c})});d.displayName="Button"}},e=>{e.O(0,[3739,8290,8244,3953,9900,7341,7358],()=>e(e.s=51172)),_N_E=e.O()}]);