(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{3278:(e,r,a)=>{Promise.resolve().then(a.bind(a,44963))},15764:(e,r,a)=>{"use strict";a.d(r,{E:()=>i});var s=a(89835);a(55931);var t=a(7951),o=a(15496);let n=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:a,...t}=e;return(0,s.jsx)("div",{className:(0,o.cn)(n({variant:a}),r),...t})}},17409:(e,r,a)=>{"use strict";a.d(r,{BottomNavigation:()=>j});var s=a(89835),t=a(79588),o=a(75123),n=a.n(o),i=a(35749),l=a(13391),c=a(92126),d=a(79644),u=a(42039),m=a(77796),h=a(97909),g=a(59213),p=a(8892),f=a(70368),v=a(92475),x=a(96037),b=a(41657),y=a(55931);function j(e){let{dict:r,items:a}=e,o=(0,t.usePathname)(),{theme:j}=(0,b.b)(),N=o.split("/")[1],k=o.endsWith("/chat"),C=(0,y.useMemo)(()=>!function(e){if(!e.startsWith("#"))return!1;let r=Number.parseInt(e.substring(1),16);return .2126*(r>>16&255)+.7152*(r>>8&255)+.0722*((0|r)&255)<128}(j.background)?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.1)",[j.background]);if(k)return null;let w=r||{browseComponents:"组件",dashboard:"仪表板",chat:"AI",search:"搜索",profile:"我的"},A=[{href:"/",label:w.browseComponents,icon:i.A},{href:"/dashboard",label:w.dashboard,icon:l.A},{href:"/chat",label:w.chat,icon:c.A},{href:"/search",label:w.search,icon:d.A},{href:"/profile",label:w.profile,icon:u.A}],S=o.includes("/preview/")||o.includes("/app/"),P=[];if(a&&a.length>0)P=a;else try{{let e=localStorage.getItem("APPLICATION_CONFIG");if(e){var z,T,R;let r=JSON.parse(e),a=Array.isArray(null==r||null==(R=r.config)||null==(T=R.clientManifest)||null==(z=T.app)?void 0:z.bottomNav)?r.config.clientManifest.app.bottomNav:[];a.length>0&&(P=a.filter(e=>(null==e?void 0:e.visible)!==!1).map(e=>{var r,a,s;return{href:e.route||"/",label:(null==(r=e.label)?void 0:r[N])||(null==(a=e.label)?void 0:a.zh)||(null==(s=e.label)?void 0:s.en)||e.id||"",iconName:e.icon||"grid"}}))}if(0===P.length){let e=localStorage.getItem("CURRENT_APP_NAV_ITEMS");if(e){let r=JSON.parse(e);Array.isArray(r)&&r.length>0&&(P=r.filter(e=>e&&!1!==e.visible).map(e=>{let r=e.route||e.href||"/";return"/me"===r&&(r="/profile"),{href:r,label:e.label||e.key||"",iconName:e.icon||e.iconName}}))}}}}catch(e){}if(0!==P.length||S||(P=A),0===P.length)return null;let I={home:m.A,user:u.A,profile:u.A,search:d.A,dashboard:l.A,grid:i.A,menu:i.A,chat:c.A,message:c.A,settings:h.A,bell:g.A,star:p.A,heart:f.A},E=localStorage.getItem("QUERY_STRING");return(0,s.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:(0,s.jsx)(x.AppCard,{className:"px-4 py-1",children:(0,s.jsx)("div",{className:"flex items-center space-x-2 md:space-x-3",children:P.map((e,r)=>{var a;let{href:t,icon:l,iconName:c,label:d}=e,u="/".concat(N).concat("/"===t?"":t);if("/preview"===t){let e=new URLSearchParams(window.location.search),r=e.get("cfgId"),a=e.get("previewId"),s=e.get("appId");u=r?"/".concat(N,"/preview?cfgId=").concat(r,"&device=mobile&isEdite=true"):a&&s?"/".concat(N,"/preview?previewId=").concat(a,"&device=mobile&appId=").concat(s):"/".concat(N)}else u+=E||"";let m=o===u||"/"===t&&o==="/".concat(N),h=null!=(a=null!=l?l:c?I[c]:void 0)?a:i.A;return(0,s.jsx)(n(),{href:u,children:(0,s.jsxs)(v.$,{variant:"ghost",className:"rounded-2xl w-12 h-12 flex flex-col items-center justify-center transition-all duration-300 group",style:{backgroundColor:m?C:"transparent"},children:[(0,s.jsx)(h,{className:"w-6 h-6 transition-colors",style:{color:j.fontColor,opacity:m?1:.7}}),(0,s.jsx)("span",{className:"sr-only",children:d})]})},"".concat(d,"-").concat(r,"-").concat(t))})})})})}},27728:(e,r,a)=>{"use strict";a.d(r,{DynamicBackground:()=>o});var s=a(89835),t=a(58396);function o(){let{gradientStyle:e,getGlowColor:r}=(0,t.D)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute inset-0 -z-20 transition-all duration-1000",style:e}),(0,s.jsx)("div",{className:"absolute top-32 left-8 w-80 h-80 rounded-full opacity-15 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:r(1)}}),(0,s.jsx)("div",{className:"absolute bottom-60 right-12 w-96 h-96 rounded-full opacity-10 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:r(2)}}),(0,s.jsx)("div",{className:"absolute top-2/3 left-1/3 w-72 h-72 rounded-full opacity-12 blur-3xl -z-10 transition-all duration-1000",style:{backgroundColor:r(1)}})]})}},44963:(e,r,a)=>{"use strict";a.d(r,{LayoutClient:()=>es});var s=a(89835),t=a(72644),o=a.n(t),n=a(87518),i=a(27728),l=a(55931),c=a(79588),d=a(97909),u=a(83231),m=a(39988),h=a(11226),g=a(69083),p=a(26443),f=a(32937),v=a(49101),x=a(92475),b=a(44171),y=a(23852),j=a(15496);let N=y.bL,k=l.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(y.B8,{ref:r,className:(0,j.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});k.displayName=y.B8.displayName;let C=l.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(y.l9,{ref:r,className:(0,j.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});C.displayName=y.l9.displayName;let w=l.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(y.UC,{ref:r,className:(0,j.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});w.displayName=y.UC.displayName;var A=a(69923),S=a(19618);let P=l.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(S.bL,{className:(0,j.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...t,ref:r,children:(0,s.jsx)(S.zi,{className:(0,j.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});P.displayName=S.bL.displayName;var z=a(77860),T=a(58396),R=a(41657),I=a(59770),E=a(47694),O=a(51620),F=a(11408),J=a(60088);let V={button:{variant:{primary:{background:"hsl(var(--primary-500))",color:"hsl(var(--primary-foreground))",border:"hsl(var(--primary-500))",hover:{background:"hsl(var(--primary-600))",color:"hsl(var(--primary-foreground))",border:"hsl(var(--primary-600))"},active:{background:"hsl(var(--primary-700))",color:"hsl(var(--primary-foreground))",border:"hsl(var(--primary-700))"},disabled:{background:"hsl(var(--muted))",color:"hsl(var(--muted-foreground))",border:"hsl(var(--muted))"}},secondary:{background:"hsl(var(--secondary-500))",color:"hsl(var(--secondary-foreground))",border:"hsl(var(--secondary-500))",hover:{background:"hsl(var(--secondary-600))",color:"hsl(var(--secondary-foreground))",border:"hsl(var(--secondary-600))"},active:{background:"hsl(var(--secondary-700))",color:"hsl(var(--secondary-foreground))",border:"hsl(var(--secondary-700))"},disabled:{background:"hsl(var(--muted))",color:"hsl(var(--muted-foreground))",border:"hsl(var(--muted))"}},outline:{background:"transparent",color:"hsl(var(--primary-500))",border:"hsl(var(--primary-500))",hover:{background:"hsl(var(--primary-50))",color:"hsl(var(--primary-600))",border:"hsl(var(--primary-600))"},active:{background:"hsl(var(--primary-100))",color:"hsl(var(--primary-700))",border:"hsl(var(--primary-700))"},disabled:{background:"transparent",color:"hsl(var(--muted-foreground))",border:"hsl(var(--muted))"}},ghost:{background:"transparent",color:"hsl(var(--foreground))",border:"transparent",hover:{background:"hsl(var(--muted))",color:"hsl(var(--foreground))",border:"transparent"},active:{background:"hsl(var(--muted-foreground))",color:"hsl(var(--background))",border:"transparent"},disabled:{background:"transparent",color:"hsl(var(--muted-foreground))",border:"transparent"}},destructive:{background:"hsl(var(--destructive))",color:"hsl(var(--destructive-foreground))",border:"hsl(var(--destructive))",hover:{background:"hsl(var(--destructive-600))",color:"hsl(var(--destructive-foreground))",border:"hsl(var(--destructive-600))"},active:{background:"hsl(var(--destructive-700))",color:"hsl(var(--destructive-foreground))",border:"hsl(var(--destructive-700))"},disabled:{background:"hsl(var(--muted))",color:"hsl(var(--muted-foreground))",border:"hsl(var(--muted))"}}},size:{sm:{height:"2rem",padding:{horizontal:"0.75rem",vertical:"0.25rem"},fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-sm)"},md:{height:"2.5rem",padding:{horizontal:"1rem",vertical:"0.5rem"},fontSize:"var(--font-size-base)",borderRadius:"var(--radius-md)"},lg:{height:"3rem",padding:{horizontal:"1.5rem",vertical:"0.75rem"},fontSize:"var(--font-size-lg)",borderRadius:"var(--radius-lg)"},xl:{height:"3.5rem",padding:{horizontal:"2rem",vertical:"1rem"},fontSize:"var(--font-size-xl)",borderRadius:"var(--radius-lg)"}},shape:{rounded:"var(--radius-md)",square:"0",pill:"9999px"}},input:{variant:{default:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"hsl(var(--border))",focus:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"hsl(var(--ring))",ring:"hsl(var(--ring))"},error:{background:"hsl(var(--background))",color:"hsl(var(--destructive))",border:"hsl(var(--destructive))",ring:"hsl(var(--destructive))"},disabled:{background:"hsl(var(--muted))",color:"hsl(var(--muted-foreground))",border:"hsl(var(--muted))"}},filled:{background:"hsl(var(--muted))",color:"hsl(var(--foreground))",border:"transparent",focus:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"hsl(var(--ring))",ring:"hsl(var(--ring))"},error:{background:"hsl(var(--destructive-50))",color:"hsl(var(--destructive))",border:"hsl(var(--destructive))",ring:"hsl(var(--destructive))"},disabled:{background:"hsl(var(--muted))",color:"hsl(var(--muted-foreground))",border:"transparent"}}},size:{sm:{height:"2rem",padding:{horizontal:"0.75rem",vertical:"0.25rem"},fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-sm)"},md:{height:"2.5rem",padding:{horizontal:"1rem",vertical:"0.5rem"},fontSize:"var(--font-size-base)",borderRadius:"var(--radius-md)"},lg:{height:"3rem",padding:{horizontal:"1.25rem",vertical:"0.75rem"},fontSize:"var(--font-size-lg)",borderRadius:"var(--radius-lg)"}}},card:{variant:{default:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"hsl(var(--border))",shadow:"var(--shadow-sm)"},elevated:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"transparent",shadow:"var(--shadow-lg)"},outlined:{background:"transparent",color:"hsl(var(--foreground))",border:"hsl(var(--border))",shadow:"none"},filled:{background:"hsl(var(--muted))",color:"hsl(var(--foreground))",border:"transparent",shadow:"none"}},size:{sm:{padding:"var(--spacing-sm)",borderRadius:"var(--radius-sm)"},md:{padding:"var(--spacing-md)",borderRadius:"var(--radius-md)"},lg:{padding:"var(--spacing-lg)",borderRadius:"var(--radius-lg)"}}},navigation:{variant:{horizontal:{direction:"row",spacing:"var(--spacing-md)",alignment:"center"},vertical:{direction:"column",spacing:"var(--spacing-sm)",alignment:"start"},tabs:{direction:"row",spacing:"0",alignment:"start",border:"bottom"}},size:{sm:{padding:"var(--spacing-sm)",fontSize:"var(--font-size-sm)"},md:{padding:"var(--spacing-md)",fontSize:"var(--font-size-base)"},lg:{padding:"var(--spacing-lg)",fontSize:"var(--font-size-lg)"}}}},U={fade:{in:{from:{opacity:0},to:{opacity:1},duration:"normal",easing:"ease-out"},out:{from:{opacity:1},to:{opacity:0},duration:"fast",easing:"ease-in"}},slide:{in:{from:{transform:"translateY(100%)"},to:{transform:"translateY(0%)"},duration:"normal",easing:"ease-out-cubic"},out:{from:{transform:"translateY(0%)"},to:{transform:"translateY(100%)"},duration:"fast",easing:"ease-in-cubic"}},scale:{in:{from:{transform:"scale(0.8)",opacity:0},to:{transform:"scale(1)",opacity:1},duration:"normal",easing:"ease-out-back"},out:{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.8)",opacity:0},duration:"fast",easing:"ease-in-back"}},rotate:{in:{from:{transform:"rotate(-180deg)",opacity:0},to:{transform:"rotate(0deg)",opacity:1},duration:"normal",easing:"ease-out-cubic"},out:{from:{transform:"rotate(0deg)",opacity:1},to:{transform:"rotate(180deg)",opacity:0},duration:"fast",easing:"ease-in-cubic"}},bounce:{in:{from:{transform:"scale(0.3)",opacity:0},to:{transform:"scale(1)",opacity:1},duration:"slow",easing:"ease-out-back"},out:{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.3)",opacity:0},duration:"fast",easing:"ease-in-back"}},flash:{in:{from:{opacity:0},to:{opacity:1},duration:"instant",easing:"linear"},out:{from:{opacity:1},to:{opacity:0},duration:"instant",easing:"linear"}},pulse:{in:{from:{transform:"scale(1)"},to:{transform:"scale(1.05)"},duration:"normal",easing:"ease-in-out"},out:{from:{transform:"scale(1.05)"},to:{transform:"scale(1)"},duration:"normal",easing:"ease-in-out"}},wiggle:{in:{from:{transform:"rotate(-3deg)"},to:{transform:"rotate(3deg)"},duration:"slow",easing:"ease-in-out"},out:{from:{transform:"rotate(3deg)"},to:{transform:"rotate(-3deg)"},duration:"slow",easing:"ease-in-out"}}},M={button:{press:{in:{from:{transform:"scale(1)"},to:{transform:"scale(0.95)"},duration:"fast",easing:"ease-out"},out:{from:{transform:"scale(0.95)"},to:{transform:"scale(1)"},duration:"fast",easing:"ease-out"}},hover:{in:{from:{transform:"translateY(0px)"},to:{transform:"translateY(-2px)"},duration:"fast",easing:"ease-out"},out:{from:{transform:"translateY(-2px)"},to:{transform:"translateY(0px)"},duration:"fast",easing:"ease-out"}}},card:{hover:{in:{from:{transform:"translateY(0px)",boxShadow:"var(--shadow-sm)"},to:{transform:"translateY(-4px)",boxShadow:"var(--shadow-lg)"},duration:"normal",easing:"ease-out-cubic"},out:{from:{transform:"translateY(-4px)",boxShadow:"var(--shadow-lg)"},to:{transform:"translateY(0px)",boxShadow:"var(--shadow-sm)"},duration:"normal",easing:"ease-in-cubic"}},focus:{in:{from:{transform:"scale(1)"},to:{transform:"scale(1.02)"},duration:"fast",easing:"ease-out"},out:{from:{transform:"scale(1.02)"},to:{transform:"scale(1)"},duration:"fast",easing:"ease-out"}}},input:{focus:{in:{from:{borderColor:"hsl(var(--border))",boxShadow:"none"},to:{borderColor:"hsl(var(--ring))",boxShadow:"0 0 0 3px hsl(var(--ring) / 0.1)"},duration:"fast",easing:"ease-out"},out:{from:{borderColor:"hsl(var(--ring))",boxShadow:"0 0 0 3px hsl(var(--ring) / 0.1)"},to:{borderColor:"hsl(var(--border))",boxShadow:"none"},duration:"fast",easing:"ease-out"}}},navigation:{active:{in:{from:{transform:"scale(0.9)",opacity:.7},to:{transform:"scale(1)",opacity:1},duration:"fast",easing:"ease-out-back"},out:{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:.7},duration:"fast",easing:"ease-in-back"}}}},D={"AA-large":{ratio:3,description:"WCAG AA 大文本 (18pt+ 或 14pt+ bold)"},"AA-normal":{ratio:4.5,description:"WCAG AA 正常文本"},"AAA-large":{ratio:4.5,description:"WCAG AAA 大文本"},"AAA-normal":{ratio:7,description:"WCAG AAA 正常文本"},"UI-component":{ratio:3,description:"UI组件和图标"},"UI-border":{ratio:3,description:"UI边框和分隔线"}},L={focusVisible:{required:!0,style:"outline: 2px solid hsl(var(--ring)); outline-offset: 2px;",fallback:"outline: 2px solid hsl(var(--primary-500)); outline-offset: 2px;"},focusOrder:{logical:!0,tabIndex:"natural",skipLinks:!0},focusTrap:{modal:!0,dialog:!0,menu:!0,combobox:!0},focusRestore:{modal:!0,navigation:!0,dynamic:!0}};var _=a(19707);let G=[{name:"semantic-token-validation",description:"验证语义令牌的有效性",rules:["所有语义令牌必须存在于语义令牌映射中","语义令牌必须具有有效的回退链","禁止直接使用Foundation层的颜色值"],severity:"error"},{name:"contrast-ratio-compliance",description:"确保对比度符合WCAG标准",rules:["文本对比度必须满足WCAG AA标准（4.5:1）","大文本对比度必须满足WCAG AA标准（3:1）","UI组件对比度必须满足WCAG AA标准（3:1）"],severity:"error"},{name:"color-token-usage",description:"强制使用语义令牌而非硬编码颜色",rules:["组件必须使用语义令牌（如surface.default, text.primary）","禁止使用硬编码的十六进制颜色值","禁止直接引用Foundation层的调色板"],severity:"error"},{name:"component-variant-consistency",description:"确保组件变体的一致性",rules:["所有组件变体必须定义完整的交互状态","组件尺寸必须遵循设计系统的比例关系","组件形状必须使用预定义的圆角值"],severity:"warning"},{name:"animation-accessibility",description:"确保动画的可访问性",rules:["动画必须支持prefers-reduced-motion","动画时长不得超过400ms","动画必须提供适当的缓动函数"],severity:"warning"},{name:"focus-management",description:"确保焦点管理的可访问性",rules:["所有交互元素必须支持键盘导航","焦点必须清晰可见","模态框必须实现焦点陷阱"],severity:"error"}];class W{validate(e){let r=[],a=[];return this.policies.forEach(s=>{let t=this.applyPolicy(s,e);"error"===s.severity?r.push(...t):a.push(...t)}),{isValid:0===r.length,errors:r,warnings:a,summary:{total:r.length+a.length,violations:r.length,warnings:a.length}}}applyPolicy(e,r){let a=[];switch(e.name){case"semantic-token-validation":a.push(...this.validateSemanticTokens(r));break;case"contrast-ratio-compliance":a.push(...this.validateContrastRatios(r));break;case"color-token-usage":a.push(...this.validateColorTokenUsage(r));break;case"component-variant-consistency":a.push(...this.validateComponentVariants(r));break;case"animation-accessibility":a.push(...this.validateAnimationAccessibility(r));break;case"focus-management":a.push(...this.validateFocusManagement(r))}return a}validateSemanticTokens(e){let r=[];return e.semanticTokens&&Object.keys(e.semanticTokens).forEach(e=>{let a=(0,_.cP)(e);a.isValid||r.push("Invalid semantic token: ".concat(e," - ").concat(a.error))}),r}validateContrastRatios(e){let r=[];return e.colorPairs&&e.colorPairs.forEach(e=>{let a=function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AA-normal",s=function(e,r){let a=e=>{let r=e.replace("#",""),a=parseInt(r.substr(0,2),16)/255,[s,t,o]=[a,parseInt(r.substr(2,2),16)/255,parseInt(r.substr(4,2),16)/255].map(e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return .2126*s+.7152*t+.0722*o},s=a(e),t=a(r);return(Math.max(s,t)+.05)/(Math.min(s,t)+.05)}(e,r),t=D[a].ratio;return{isValid:s>=t,ratio:s,required:t,error:s<t?"Contrast ratio ".concat(s.toFixed(2),":1 is below required ").concat(t,":1 for ").concat(a):void 0}}(e.foreground,e.background,e.requirement||"AA-normal");a.isValid||r.push("Contrast violation: ".concat(a.error))}),r}validateColorTokenUsage(e){let r=[];return this.findHardcodedColors(e).forEach(e=>{r.push("Hardcoded color found: ".concat(e," - Use semantic tokens instead"))}),this.findFoundationReferences(e).forEach(e=>{r.push("Direct Foundation reference: ".concat(e," - Use semantic tokens instead"))}),r}findHardcodedColors(e){let r=[],a=JSON.stringify(e);return r.push(...a.match(/#[0-9a-fA-F]{3,6}/g)||[]),r.push(...a.match(/rgb\([^)]+\)/g)||[]),r}findFoundationReferences(e){let r=[],a=JSON.stringify(e);return["colors.primary","colors.secondary","colors.neutral","colors.success","colors.warning","colors.error"].forEach(e=>{a.includes(e)&&r.push(e)}),r}validateComponentVariants(e){let r=[];return e.components&&Object.entries(e.components).forEach(e=>{let[a,s]=e;s.variants&&Object.entries(s.variants).forEach(e=>{let[s,t]=e;["hover","active","focus","disabled"].forEach(e=>{t[e]||r.push("Component ".concat(a,".").concat(s," missing ").concat(e," state"))})})}),r}validateAnimationAccessibility(e){let r=[];return e.animations&&Object.entries(e.animations).forEach(e=>{let[a,s]=e;s.duration&&this.parseDuration(s.duration)>400&&r.push("Animation ".concat(a," duration exceeds 400ms accessibility limit")),s.reducedMotion||r.push("Animation ".concat(a," missing reduced motion support"))}),r}validateFocusManagement(e){let r=[];return e.components&&Object.entries(e.components).forEach(e=>{let[a,s]=e;s.interactive&&!s.keyboardSupport&&r.push("Interactive component ".concat(a," missing keyboard navigation support")),s.modal&&!s.focusTrap&&r.push("Modal component ".concat(a," missing focus trap implementation"))}),r}parseDuration(e){if("number"==typeof e)return e;let r=e.match(/^(\d+(?:\.\d+)?)\s*(ms|s|m)$/);if(!r)return 0;let a=parseFloat(r[1]);switch(r[2]){case"ms":return a;case"s":return 1e3*a;case"m":return 6e4*a;default:return 0}}addPolicy(e){let r=this.policies.findIndex(r=>r.name===e.name);r>=0?this.policies[r]=e:this.policies.push(e)}removePolicy(e){this.policies=this.policies.filter(r=>r.name!==e)}getPolicies(){return[...this.policies]}getPolicy(e){return this.policies.find(r=>r.name===e)}validatePolicy(e,r){let a=this.getPolicy(e);return a?this.applyPolicy(a,r):["Policy '".concat(e,"' not found")]}constructor(){this.policies=[...G]}}let Y=new W;function B(){let e,r=(0,T.D)(),a=(0,R.b)(),s=(0,I.RW)(),t=(0,I.tq)(),o=(0,E.LK)(),n=(0,O.U)(),i=(0,F.j)();return{theme:{colors:r.colors,updateColor:r.updateColor,toggleColor:r.toggleColor,applyPreset:r.applyPreset,gradientStyle:r.gradientStyle,primaryColor:r.primaryColor,secondaryColor:r.secondaryColor,accentColor:r.accentColor},card:{theme:a.theme,setTheme:a.setTheme,applyPreset:a.applyPreset,cardThemePresets:J.u},chart:{applyPalette:s.applyPalette,chartPalettes:[]},dataChart:{applyPalette:t.applyPalette,dataChartPalettes:[]},fontSize:{setPreset:o.setPreset,current:o.current},radius:{activePreset:i.activePreset,presets:i.presets,setActivePreset:i.setActivePreset,getComponentRadius:i.getComponentRadius,applyRadiusToDOM:i.applyRadiusToDOM,applyRadiusToExistingComponents:i.applyRadiusToExistingComponents,captureInitialRadius:i.captureInitialRadius,updateDefaultPreset:i.updateDefaultPreset,initialRadiusValues:i.initialRadiusValues},semantic:{getToken:e=>n.getToken(e),setContext:e=>n.setContext(e),currentContext:n.currentContext,validateToken:e=>n.validateToken(e),getFallback:e=>n.getFallback(e)},variants:{getComponentVariants:e=>V[e],validateVariant:(e,r,a)=>{let s=V[e];return s?s.variant[r]?a&&!s.size[a]?{isValid:!1,error:"Size ".concat(a," not found")}:{isValid:!0,error:null}:{isValid:!1,error:"Variant ".concat(r," not found")}:{isValid:!1,error:"Component ".concat(e," not found")}}},animations:{getPreset:e=>U[e],getComponentAnimation:(e,r)=>{var a;return null==(a=M[e])?void 0:a[r]},validateAnimation:(e,r)=>{var a;let s=!!(null==(a=M[e])?void 0:a[r]),t=!!U[r];return s||t?{isValid:!0,error:null}:{isValid:!1,error:"Animation ".concat(r," not found for component ").concat(e)}}},accessibility:{contrastRequirements:D,focusManagement:L,validateContrast:function(e,r){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],{isValid:!0,ratio:4.5,required:4.5}}},validation:{validate:e=>Y.validate(e),getPolicies:()=>[]},recommendations:{suggestTheme:()=>({name:"智能推荐",colors:[r.primaryColor,r.secondaryColor,r.accentColor],reason:"基于当前使用习惯"}),checkConsistency:()=>{let e=[];return{isValid:0===e.length,issues:e}}},importExport:{export:()=>JSON.stringify({theme:r.colors,card:a.theme,chart:s.currentPalette,dataChart:t.currentPalette,fontSize:o.current,semantic:n.currentContext},null,2),import:e=>{try{let s=JSON.parse(e);return s.theme&&r.applyPreset(s.theme),s.card&&a.setTheme(s.card),s.fontSize&&o.setPreset(s.fontSize.current),s.semantic&&n.setContext(s.semantic),{success:!0,message:"配置导入成功"}}catch(e){return{success:!1,message:"配置导入失败: "+e.message}}}},performance:{batchUpdate:e=>{Object.entries(e).forEach(e=>{let[s,t]=e;switch(s){case"theme":r.applyPreset(t);break;case"card":a.setTheme(t);break;case"fontSize":o.setPreset(t)}})},debouncedUpdate:function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;clearTimeout(e),e=setTimeout(()=>{},a)}}}}var q=a(29561),H=a(16545),$=a(15764),Q=a(55096),K=a(73388),X=a(19453),Z=a(26941);function ee(){var e,r,a;let t=B(),{locale:o}=(0,H.F)(),n="en"===o,[i,c]=(0,l.useState)(t.radius.activePreset),[d,u]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{c(t.radius.activePreset)},[t.radius.activePreset]),(0,l.useEffect)(()=>{let e=()=>{setTimeout(()=>{t.radius.applyRadiusToDOM(),console.log("\uD83D\uDE80 初始边角配置已应用")},500)},r=()=>{setTimeout(()=>{t.radius.applyRadiusToDOM(),console.log("\uD83D\uDCE1 收到边角更新事件，重新应用配置")},100)},a=()=>{setTimeout(()=>{t.radius.applyRadiusToDOM(),console.log("⚡ 收到强制边角更新事件，重新应用配置")},100)};return window.addEventListener("radiusUpdated",r),window.addEventListener("forceRadiusUpdate",a),"complete"===document.readyState?e():window.addEventListener("load",e),setTimeout(()=>{t.radius.applyRadiusToDOM(),console.log("\uD83C\uDFAF 立即应用初始边角配置")},100),()=>{window.removeEventListener("radiusUpdated",r),window.removeEventListener("forceRadiusUpdate",a),window.removeEventListener("load",e)}},[t.radius]),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:n?"Global Radius Configuration":"全局边角配置"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:n?"Configure corner radius for all components globally":"全局配置所有组件的边角样式"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{children:n?"Active Preset":"当前预设"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)($.E,{variant:"secondary",className:"text-sm",children:(null==(e=t.radius.presets[i])?void 0:e.name)||i}),(null==(r=t.radius.presets[i])?void 0:r.description)&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:null==(a=t.radius.presets[i])?void 0:a.description})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>{t.radius.captureInitialRadius(),u(!0),setTimeout(()=>u(!1),3e3),console.log("\uD83C\uDFAF 已手动捕获初始状态")},className:"flex items-center gap-2",children:[(0,s.jsx)(X.A,{className:"w-4 h-4"}),n?"Capture Initial":"捕获初始"]}),(0,s.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>{t.radius.updateDefaultPreset(),u(!0),setTimeout(()=>u(!1),3e3),console.log('✅ 已手动更新"默认"预设')},className:"flex items-center gap-2",children:[(0,s.jsx)(Z.A,{className:"w-4 h-4"}),n?"Save as Default":"保存为默认"]})]}),d&&(0,s.jsx)("div",{className:"p-2 bg-green-100 text-green-800 rounded-md text-sm",children:n?"Operation completed successfully!":"操作成功完成！"}),(0,s.jsx)(Q.w,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{children:n?"Available Presets":"可用预设"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(t.radius.presets).map(e=>{let[r,a]=e;return(0,s.jsx)(x.$,{variant:"outline",className:"justify-start h-auto p-3 ".concat(r===i?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),onClick:()=>{c(r),t.radius.setActivePreset(r),document.body.style.setProperty("--force-radius-update","1"),setTimeout(()=>{document.body.style.removeProperty("--force-radius-update")},100),console.log("\uD83D\uDD04 边角预设已切换:",r)},children:(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(e=>{switch(e){case"sharp":case"subtle":case"balanced":default:return(0,s.jsx)(g.A,{className:"w-4 h-4"});case"rounded":case"soft":return(0,s.jsx)(K.A,{className:"w-4 h-4"});case"default":return(0,s.jsx)(X.A,{className:"w-4 h-4"})}})(r),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:a.name}),(0,s.jsx)("div",{className:"text-xs opacity-70",children:a.description})]})]})},r)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{children:n?"Component Radius Preview":"组件边角预览"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[n?"Card":"卡片",":"]}),(0,s.jsx)($.E,{variant:"outline",children:t.radius.getComponentRadius("card")})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[n?"Button":"按钮",":"]}),(0,s.jsx)($.E,{variant:"outline",children:t.radius.getComponentRadius("button")})]})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:n?"Affects card and button components":"影响卡片和按钮组件"})]}),t.radius.initialRadiusValues&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{children:n?"Initial State Values":"初始状态值"}),(0,s.jsx)("div",{className:"p-3 bg-muted rounded-md text-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:["Card: ",t.radius.initialRadiusValues.card]}),(0,s.jsxs)("div",{children:["Button: ",t.radius.initialRadiusValues.button]}),(0,s.jsxs)("div",{children:["Input: ",t.radius.initialRadiusValues.input]}),(0,s.jsxs)("div",{children:["Modal: ",t.radius.initialRadiusValues.modal]})]})})]})]})}let er=[{name:"默认",colors:[{id:1,name:"主色",value:"#ffffff",enabled:!0},{id:2,name:"次色",value:"#f8fafc",enabled:!0},{id:3,name:"强调色",value:"#f1f5f9",enabled:!0}]},{name:"蓝色",colors:[{id:1,name:"主色",value:"#3b82f6",enabled:!0},{id:2,name:"次色",value:"#dbeafe",enabled:!0},{id:3,name:"强调色",value:"#bfdbfe",enabled:!0}]},{name:"绿色",colors:[{id:1,name:"主色",value:"#10b981",enabled:!0},{id:2,name:"次色",value:"#d1fae5",enabled:!0},{id:3,name:"强调色",value:"#a7f3d0",enabled:!0}]},{name:"紫色",colors:[{id:1,name:"主色",value:"#8b5cf6",enabled:!0},{id:2,name:"次色",value:"#ede9fe",enabled:!0},{id:3,name:"强调色",value:"#ddd6fe",enabled:!0}]},{name:"橙色",colors:[{id:1,name:"主色",value:"#f59e0b",enabled:!0},{id:2,name:"次色",value:"#fef3c7",enabled:!0},{id:3,name:"强调色",value:"#fde68a",enabled:!0}]}];function ea(){let[e,r]=(0,l.useState)(!1),[a,t]=(0,l.useState)("background"),o=(0,c.useSearchParams)(),n="true"===o.get("isEdite")||"true"===o.get("isEdit"),i=B(),y=(0,q.$)(),{locale:S}=(0,H.F)(),T="en"===S;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.$,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"fixed top-4 right-4 z-40 w-12 h-12 rounded-full bg-white/80 backdrop-blur-md shadow-lg border border-white/60",children:[(0,s.jsx)(d.A,{className:"w-6 h-6 text-gray-700"}),(0,s.jsx)("span",{className:"sr-only",children:T?"Open Configuration Panel":"打开配置面板"})]}),(0,s.jsx)(z.J,{isOpen:e,onClose:()=>r(!1),title:T?"Configuration Panel":"配置面板",children:(0,s.jsx)("div",{className:"h-full flex flex-col",children:(0,s.jsxs)(N,{value:a,onValueChange:t,className:"w-full h-full flex flex-col",children:[(0,s.jsxs)(k,{className:"grid w-full grid-cols-4 mb-6 flex-shrink-0",children:[(0,s.jsxs)(C,{value:"background",className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),T?"Background":"背景配置"]}),(0,s.jsxs)(C,{value:"content",className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),T?"Content":"内容配置"]}),(0,s.jsxs)(C,{value:"advanced",className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),T?"Advanced":"高级配置"]}),(0,s.jsxs)(C,{value:"unified",className:"flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-4 h-4"}),T?"Unified":"统一主题"]})]}),(0,s.jsxs)(w,{value:"background",className:"space-y-6 flex-1 overflow-y-auto px-4 pb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Background Color":"背景颜色"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-2",children:er.map(e=>(0,s.jsxs)("button",{onClick:()=>{let r=e.colors.map(e=>e.value);r.length>=3&&i.theme.applyPreset([r[0],r[1],r[2]])},className:"flex flex-col items-center justify-center p-2 space-y-1 rounded-lg hover:bg-gray-100/50 transition-colors",title:e.name,children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200",style:{background:"linear-gradient(135deg, ".concat(e.colors[0]," 0%, ").concat(e.colors[1]," 50%, ").concat(e.colors[2]," 100%)")}}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:e.name})]},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Custom Colors":"自定义颜色"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-xs text-gray-500 mb-2 block",children:T?"Primary":"主色"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"color",value:i.theme.primaryColor,onChange:e=>i.theme.updateColor(1,e.target.value),className:"w-full h-12 rounded-lg border border-gray-200 cursor-pointer"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-xs text-gray-500 mb-2 block",children:T?"Secondary":"次色"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"color",value:i.theme.secondaryColor||"#f8fafc",onChange:e=>i.theme.updateColor(2,e.target.value),className:"w-full h-12 rounded-lg border border-gray-200 cursor-pointer"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-xs text-gray-500 mb-2 block",children:T?"Accent":"强调色"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"color",value:i.theme.accentColor,onChange:e=>i.theme.updateColor(3,e.target.value),className:"w-full h-12 rounded-lg border border-gray-200 cursor-pointer"})})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Font":"字体"}),(0,s.jsxs)(A.l6,{defaultValue:"system-ui",children:[(0,s.jsx)(A.bq,{className:"w-full",children:(0,s.jsx)(A.yv,{placeholder:T?"Select font":"选择字体"})}),(0,s.jsxs)(A.gC,{children:[(0,s.jsx)(A.eb,{value:"system-ui",children:"System UI"}),(0,s.jsx)(A.eb,{value:"geist",children:"Geist Sans"}),(0,s.jsx)(A.eb,{value:"inter",children:"Inter"}),(0,s.jsx)(A.eb,{value:"roboto",children:"Roboto"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Font Size":"字体大小"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{key:"small",name:T?"Small":"小",scale:.8},{key:"normal",name:T?"Normal":"正常",scale:1},{key:"large",name:T?"Large":"大",scale:1.2}].map(e=>(0,s.jsxs)("button",{onClick:()=>{console.log("Font size button clicked:",e.key),console.log("Current config:",i.fontSize),i.fontSize.setPreset(e.key),console.log("Font size preset set to:",e.key)},className:(0,j.cn)("flex flex-col items-center justify-center p-3 space-y-1 rounded-lg border transition-colors",i.fontSize.current.current===e.key?"bg-primary text-primary-foreground border-primary":"bg-gray-50/50 border-gray-200/60 hover:bg-gray-100/50"),title:"".concat(e.name," (").concat(Math.round(100*e.scale),"%)"),children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:e.name}),(0,s.jsxs)("div",{className:"text-xs opacity-80",children:[Math.round(100*e.scale),"%"]})]},e.key))}),"normal"!==i.fontSize.current.current&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[T?"Current":"当前","：",i.fontSize.current.name," (",Math.round(100*i.fontSize.current.scale),"%)"]})]})]}),(0,s.jsxs)(w,{value:"content",className:"space-y-6 flex-1 overflow-y-auto px-4 pb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Card Presets":"卡片预设"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:i.card.cardThemePresets.map(e=>(0,s.jsxs)("button",{onClick:()=>i.card.applyPreset(e.config),className:"flex flex-col items-center justify-center p-2 space-y-1 rounded-lg hover:bg-gray-100/50 transition-colors",title:e.name,children:[(0,s.jsx)("div",{className:"w-12 h-8 rounded-lg border",style:{backgroundColor:e.config.background}}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:e.name})]},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Card Style":"卡片样式"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{key:"solid",name:T?"Solid":"实心",icon:"■"},{key:"frosted",name:T?"Frosted":"毛玻璃",icon:"◆"},{key:"none",name:T?"None":"无",icon:"○"}].map(e=>(0,s.jsxs)("button",{onClick:()=>{var r;return r=e.key,void i.card.setTheme(e=>({...e,backgroundStyle:r}))},className:(0,j.cn)("flex flex-col items-center justify-center p-3 space-y-1 rounded-lg border transition-colors",i.card.theme.backgroundStyle===e.key?"bg-primary text-primary-foreground border-primary":"bg-gray-50/50 border-gray-200/60 hover:bg-gray-100/50"),children:[(0,s.jsx)("div",{className:"text-lg",children:e.icon}),(0,s.jsx)("div",{className:"text-xs",children:e.name})]},e.key))})]}),"frosted"===i.card.theme.backgroundStyle&&(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Frosted Opacity":"毛玻璃透明度"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{key:"normal",name:T?"Normal":"正常"},{key:"high",name:T?"High":"高"}].map(e=>(0,s.jsx)("button",{onClick:()=>{var r;return r=e.key,void i.card.setTheme(e=>({...e,frostedOpacity:r}))},className:(0,j.cn)("flex flex-col items-center justify-center p-3 space-y-1 rounded-lg border transition-colors",i.card.theme.frostedOpacity===e.key?"bg-primary text-primary-foreground border-primary":"bg-gray-50/50 border-gray-200/60 hover:bg-gray-100/50"),children:(0,s.jsx)("div",{className:"text-xs",children:e.name})},e.key))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(b.J,{className:"text-gray-600 mb-3 block flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-4 h-4"}),T?"Component Radius":"组件圆角"]}),(0,s.jsx)(ee,{})]})]}),(0,s.jsxs)(w,{value:"advanced",className:"space-y-6 flex-1 overflow-y-auto px-4 pb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Semantic Context":"语义上下文"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{key:"default",name:T?"Default":"默认"},{key:"high-contrast",name:T?"High Contrast":"高对比度"}].map(e=>(0,s.jsx)("button",{onClick:()=>i.semantic.setContext(e.key),className:(0,j.cn)("flex flex-col items-center justify-center p-3 space-y-1 rounded-lg border transition-colors",i.semantic.currentContext===e.key?"bg-primary text-primary-foreground border-primary":"bg-gray-50/50 border-gray-200/60 hover:bg-gray-100/50"),children:(0,s.jsx)("div",{className:"text-xs",children:e.name})},e.key))}),(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[T?"Current":"当前","：",i.semantic.currentContext]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Component Variants":"组件变体"}),(0,s.jsx)("div",{className:"space-y-3",children:["button","input","card","navigation"].map(e=>{var r;return(0,s.jsxs)("div",{className:"p-3 bg-gray-50/50 rounded-lg border border-gray-200/60",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-800 mb-2 capitalize",children:e}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[T?"Available variants:":"可用变体:"," ",Object.keys((null==(r=i.variants.getComponentVariants(e))?void 0:r.variant)||{}).join(", ")]})]},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Animation Presets":"动画预设"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["fade","slide","scale","bounce"].map(e=>(0,s.jsxs)("button",{className:"flex flex-col items-center justify-center p-2 space-y-1 rounded-lg bg-gray-50/50 border border-gray-200/60 hover:bg-gray-100/50 transition-colors",title:e,children:[(0,s.jsx)(p.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:e})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Accessibility":"可访问性"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50/50 rounded-lg border border-gray-200/60",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-800",children:T?"High Contrast Mode":"高对比度模式"})]}),(0,s.jsx)(P,{})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50/50 rounded-lg border border-gray-200/60",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-800",children:T?"Reduced Motion":"减少动画"})]}),(0,s.jsx)(P,{})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.J,{className:"text-gray-600 mb-3 block",children:T?"Configuration":"配置管理"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{console.log("Export config:",i.importExport.export())},className:"flex items-center justify-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,s.jsx)(v.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm text-blue-800",children:T?"Export":"导出"})]}),(0,s.jsxs)("button",{onClick:()=>{console.log("Import config clicked")},className:"flex items-center justify-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[(0,s.jsx)(v.A,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm text-green-800",children:T?"Import":"导入"})]})]})]})]}),(0,s.jsx)(w,{value:"unified",className:"space-y-6 flex-1 overflow-y-auto px-4 pb-8",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:T?"Unified Theme":"统一主题配置"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:T?"One-click theme switching with font, component and chart colors":"一键切换主题风格，同时更新字体、组件和数据图配色"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(b.J,{className:"text-sm font-medium",children:T?"Theme Style":"选择主题风格"}),y.isHydrated?(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:y.availableThemes.map(e=>(0,s.jsxs)(x.$,{variant:y.currentTheme.name===e.name?"default":"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",onClick:()=>y.applyTheme(e.name),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]},e.name))}):(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:y.availableThemes.map(e=>(0,s.jsxs)("div",{className:"h-auto p-4 flex flex-col items-center space-y-2 border rounded-lg bg-gray-50 animate-pulse",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]},e.name))})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm font-medium mb-2",children:T?"Current Theme":"当前主题"}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[y.currentTheme.name," - ",y.currentTheme.description]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h4",{className:"text-md font-medium mb-2",children:"个别调整"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"在统一主题基础上进行微调"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{className:"text-sm font-medium",children:"字体颜色调整"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"标题颜色"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:y.currentTheme.config.fontColors.heading}}),(0,s.jsx)("input",{type:"color",value:y.currentTheme.config.fontColors.heading,onChange:e=>y.updateFontColors({heading:e.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择标题颜色"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"正文颜色"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:y.currentTheme.config.fontColors.body}}),(0,s.jsx)("input",{type:"color",value:y.currentTheme.config.fontColors.body,onChange:e=>y.updateFontColors({body:e.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择正文颜色"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{className:"text-sm font-medium",children:"组件颜色调整"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"主要"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:y.currentTheme.config.componentColors.primary}}),(0,s.jsx)("input",{type:"color",value:y.currentTheme.config.componentColors.primary,onChange:e=>y.updateComponentColors({primary:e.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择主要按钮颜色"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"次要"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:y.currentTheme.config.componentColors.secondary}}),(0,s.jsx)("input",{type:"color",value:y.currentTheme.config.componentColors.secondary,onChange:e=>y.updateComponentColors({secondary:e.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择次要按钮颜色"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"危险"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:y.currentTheme.config.componentColors.danger}}),(0,s.jsx)("input",{type:"color",value:y.currentTheme.config.componentColors.danger,onChange:e=>y.updateComponentColors({danger:e.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择危险按钮颜色"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{className:"text-sm font-medium",children:"数据图配色调整"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"6个图表颜色"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:y.currentTheme.config.chartColors.colors.map((e,r)=>(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["颜色",r+1]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg border border-gray-200 cursor-pointer",style:{backgroundColor:e}}),(0,s.jsx)("input",{type:"color",value:e,onChange:e=>{let a=[...y.currentTheme.config.chartColors.colors];a[r]=e.target.value,y.updateChartColors({colors:a})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"选择图表颜色".concat(r+1)})]})]},r))})]})]})]})]})})]})})})]}):null}function es(e){let{children:r,dict:a,locale:t}=e;return(0,l.useEffect)(()=>{let e=!1;return async function(){try{let r=new URLSearchParams(window.location.search),a=r.get("appId")||localStorage.getItem("APP_ID")||"";if(!a)return;try{localStorage.setItem("APP_ID",a)}catch(e){}let s=await fetch("http://localhost:3007/api/applications/".concat(encodeURIComponent(String(a)),"?noAuth=true")),t=null;try{t=await s.json()}catch(e){t=null}if(!s.ok||!t)return;let o=t&&"object"==typeof t&&"data"in t?t.data:t;if(e)return;try{localStorage.setItem("QUERY_STRING",window.location.search)}catch(e){}try{localStorage.setItem("PREVIEW_ID",r.get("previewId"))}catch(e){}try{localStorage.setItem("APPLICATION_CONFIG",JSON.stringify(o))}catch(e){}try{localStorage.setItem("APPLICATION_CONFIG:".concat(a),JSON.stringify(o))}catch(e){}}catch(e){}}(),()=>{e=!0}},[]),(0,s.jsx)("div",{className:(0,j.cn)("min-h-screen font-sans antialiased",o().className),children:(0,s.jsx)(n.UnifiedProvider,{locale:t,dict:a,children:(0,s.jsxs)("div",{className:"relative min-h-screen overflow-hidden",children:[(0,s.jsx)(i.DynamicBackground,{}),(0,s.jsx)("main",{className:"relative z-10",children:r}),(0,s.jsx)(l.Suspense,{fallback:null,children:(0,s.jsx)(ea,{})})]})})})}a(17409)},55096:(e,r,a)=>{"use strict";a.d(r,{w:()=>i});var s=a(89835),t=a(55931),o=a(96635),n=a(15496);let i=t.forwardRef((e,r)=>{let{className:a,orientation:t="horizontal",decorative:i=!0,...l}=e;return(0,s.jsx)(o.b,{ref:r,decorative:i,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...l})});i.displayName=o.b.displayName},77860:(e,r,a)=>{"use strict";a.d(r,{J:()=>c});var s=a(89835),t=a(55931),o=a(68232),n=a(15496),i=a(41657),l=a(93914);function c(e){let{isOpen:r,onClose:a,title:c,children:d,className:u}=e,{theme:m}=(0,i.b)();if(t.useEffect(()=>{let e=e=>{"Escape"===e.key&&r&&a()};return r&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[r,a]),!r)return null;let h={color:m.textColor,fontFamily:m.fontFamily,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px) saturate(120%)",WebkitBackdropFilter:"blur(12px) saturate(120%)",border:"none",boxShadow:"0 -8px 32px rgba(0, 0, 0, 0.12), 0 -2px 8px rgba(0, 0, 0, 0.08)"},g=(0,s.jsxs)("div",{className:"fixed inset-0 z-[9999]",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 animate-in fade-in-0 duration-300",style:{backdropFilter:"blur(2px)",WebkitBackdropFilter:"blur(2px)"},onClick:a}),(0,s.jsx)("div",{className:"absolute inset-x-0 bottom-0 z-10",children:(0,s.jsxs)("div",{className:(0,n.cn)("w-full max-h-[85vh] rounded-t-3xl animate-in slide-in-from-bottom-full duration-300 ease-out",u),style:h,children:[c&&(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-100/60",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100/80 rounded-full transition-colors duration-200","aria-label":"关闭",children:(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-600"})})]}),(0,s.jsx)("div",{className:"overflow-y-auto",style:{height:c?"calc(85vh - 80px)":"85vh",maxHeight:c?"calc(85vh - 80px)":"85vh",scrollbarGutter:"stable",scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.2) transparent"},children:d})]})})]});return(0,l.createPortal)(g,document.body)}}},e=>{e.O(0,[5076,3739,8290,5022,5123,6306,6037,7131,7655,9900,7341,7358],()=>e(e.s=3278)),_N_E=e.O()}]);